{"title":"Idiomatic Phrases Game","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=1546","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=1546&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=1546","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=1546"},"statement":[{"title":"Problem Description","content":"Tom is playing a game called Idiomatic Phrases Game. An idiom consists of several Chinese characters and has a certain meaning. This game will give Tom two idioms. He should build a list of idioms and the list starts and ends with the two given idioms. For every two adjacent idioms, the last Chinese character of the former idiom should be the same as the first character of the latter one. For each time, Tom has a dictionary that he must pick idioms from and each idiom in the dictionary has a value indicates how long Tom will take to find the next proper idiom in the final list. Now you are asked to write a program to compute the shortest time Tom will take by giving you the idiom dictionary. <br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The input consists of several test cases. Each test case contains an idiom dictionary. The dictionary is started by an integer N (0 &lt; N &lt; 1000) in one line. The following is N lines. Each line contains an integer T (the time Tom will take to work out) and an idiom. One idiom consists of several Chinese characters (at least 3) and one Chinese character consists of four hex digit (i.e., 0 to 9 and A to F). Note that the first and last idioms in the dictionary are the source and target idioms in the game. The input ends up with a case that N = 0. Do not process this case. <br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"One line for each case. Output an integer indicating the shortest time Tome will take. If the list can not be built, please output -1. ","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\n5 12345978ABCD2341\n5 23415608ACBD3412\n7 34125678AEFD4123\n15 23415673ACC34123\n4 41235673FBCD2156\n2\n20 12345678ABCD\n30 DCBF5432167D\n0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">17\n-1</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"ZHOU, Ran","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=Zhejiang+Provincial+Programming+Contest+2006&amp;source=1&amp;searchmode=source\"> Zhejiang Provincial Programming Contest 2006 </a> ","type":"source","format":"html","require":["katex"]}]}