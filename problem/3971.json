{"title":"Play With Sequence","time_limit":5000,"memory_limit":64.2265625,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3971","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3971&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3971","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3971"},"statement":[{"title":"Problem Description","content":"When the girl was solving GSSX, a serious of tough problems about data structure on SPOJ, something intriguing once again comes to GYZ&apos;s mind. That is, for a changing sequences, how to count how many elements in a specific range efficiently. <br><br>Without any beneficial idea, as usual, GYZ asks her friend, CLJ for help. But this time, unfortunately, CLJ is playing a gal-game at present, does not have sparse time. <br><br>So now , it is your turn... <br><br>Cause the original problem is not as easy as first glance, let&apos;s examine a simplified one: <br><br>you are given a sequence A[1], A[2],..., A[N]. On this sequence you have to apply M operations: Add all the elements whose value are in range [l, r] with d or, ask for a query how many element are in range [l, r]. <br><br>","type":"description","format":"html"},{"title":"Input","content":"There are only one test case, Process until the end of the file. The first line of each case contains two numbers, N, M, described as above. And then start from the second line, have N numbers described the sequence&apos;s initial value. <br><br>( 1&#x2264; N &#x2264; 250,000, M &#x2264; 50,000), |A[i]|&#x2264; 1,000,000,000 .) <br><br>The following M lines described the operation: <br><br>C l r d: Add all the element whose value are in range [l, r] with d. (Redeclare: Not its Position! .. ) Q l r: ask for a query how many elements, whose value are in range [l, r]. <br><br>( l &#x2264; r, |l|,|r|,|d|&#x2264; 1,000,000,000 ) <br><br>We guarantee every elements are suits 32-integer, and will not cause overflow, even during the running-time. (.. but still be careful ;) Besides, all the test-data are generated randomly. <br><br>","type":"input_format","format":"html"},{"title":"Output","content":"For each query, print the result. Example ","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">10 10\n10 4 -5 8 8 3 0 -2 4 7\nC -9 8 2\nC -4 10 -3\nC -10 0 5\nQ -9 -1\nC -9 -5 8\nC -7 4 3\nQ -2 7\nC -10 -3 2\nC -4 -1 -6\nQ 7 10</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n10\n4\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>(In the first example, after the two operations, the sequences are become to, {-4, -3, -2, -1, 0, 11, 12, 13, 14, 15}, \nso there are no elements whose value are in range [1, 10]. ) </div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2011+Multi-University+Training+Contest+13+-+Host+by+HIT+&amp;source=1&amp;searchmode=source\"> 2011 Multi-University Training Contest 13 - Host by HIT  </a> ","type":"source","format":"html"}]}