{"title":"Tower Defence","time_limit":10000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3958","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3958&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3958","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3958"},"statement":[{"title":"Problem Description","content":"Tower Defence is a popular classic game. During the game,  there will appear some monsters at the entry and each will find a shortest path to the exit.  Your task is puting some warriors on the map to kill the monsters before they reach exit.<br><center><img style=\"max-width:100%;\" src=\"http://acm.hdu.edu.cn/data/images/C361_1008_1.jpg\"></center><br>You could put warrior(infinite) on the map to change the pathes of monsters. Of course, the longer the path is, the more advantageous to you. <br>Now, giving you the information of the map, how do you put the warriors to make the monsters move on the longest path?<br>The meaning of each character in the map:<br>&apos;S&apos; represents the entry of the map, one and only one;<br>&apos;T&apos; represents the exit of the map, one and only one;<br>&apos;.&apos; represents the grid that monster could move on;<br>&apos;B&apos; represents the barrier that monster couldn&apos;t move on;<br>&apos;W&apos; represents the warrior that you put.(could only put on &apos;.&apos;)","type":"description","format":"html"},{"title":"Input","content":"The first line is a number T(1&lt;=T&lt;=30), represents the number of case. The next T blocks follow each indicates a case.<br>The first line of each case contains two integers N, M (3&lt;=N&lt;=20 , 3&lt;=M&lt;=9)<br>Then N lines follow, each line contains M chars represent the map, include &apos;S&apos;,&apos;T&apos;,&apos;.&apos;,&apos;B&apos;.<br>I promise there must be at least one way from entry to exit.","type":"input_format","format":"html"},{"title":"Output","content":"For each case, first line output the number of case with the longest distance from S to T.(as shown in the sample output)<br>Then output any one of these ways, using the same format for the map as in the input. Output a blank line after each case.(Special judge.If you not output a blank line after each case, you will get Wrong Answer) ","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n3 3\nS..\n...\n..T\n\n5 5\nS....\n.B.B.\n.....\n.B.B.\n....T\n\n5 5\nS...T\n..B..\n..B..\n..B..\n.....\n\n5 5\nS...T\n..B..\n..B..\n..B..\n..B..</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case 1: 5\nS..\n...\n..T\n\nCase 2: 17\nS....\nWBWB.\n.....\n.BWBW\n....T\n\nCase 3: 17\nS.W.T\nW.B.W\n..B..\n.WBW.\n.....\n\nCase 4: 5\nS...T\n..B..\n..B..\n..B..\n..B..</div></pre>","type":"example","format":"html"},{"title":"Author","content":"NotOnlySuccess","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2011+Alibaba+Programming+Contest&amp;source=1&amp;searchmode=source\"> 2011 Alibaba Programming Contest </a> ","type":"source","format":"html"}]}