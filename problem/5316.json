{"title":"Magician","time_limit":9000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5316","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5316&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5316","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5316"},"statement":[{"title":"Problem Description","content":"Fantasy magicians usually gain their ability through one of three usual methods: possessing it as an innate talent, gaining it through study and practice, or receiving it from another being, often a god, spirit, or demon of some sort. Some wizards are depicted as having a special gift which sets them apart from the vast majority of characters in fantasy worlds who are unable to learn magic.<br><br>Magicians, sorcerers, wizards, magi, and practitioners of magic by other titles have appeared in myths, folktales, and literature throughout recorded history, with fantasy works drawing from this background.<br><br>In medieval chivalric romance, the wizard often appears as a wise old man and acts as a mentor, with Merlin from the King Arthur stories representing a prime example. Other magicians can appear as villains, hostile to the hero.<br><br><center><img style=\"max-width:100%;\" src=\"../../data/images/5316-1.jpg\"></center> <br><br>Mr. Zstu is a magician, he has many elves like dobby, each of which has a magic power (maybe negative). One day, Mr. Zstu want to test his ability of doing some magic. He made the elves stand in a straight line, from position 1 to position n, and he used two kinds of magic, Change magic and Query Magic, the first is to change an elf&#x2019;s power, the second is get the maximum sum of beautiful subsequence of a given interval. A beautiful subsequence is a subsequence that all the adjacent pairs of elves in the sequence have a different parity of position. Can you do the same thing as Mr. Zstu ?<br> <br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line is an integer T represent the number of test cases.<br>Each of the test case begins with two integers n, m represent the number of elves and the number of time that Mr. Zstu  used his magic.<br>(n,m &lt;= 100000)<br>The next line has n integers represent elves&#x2019; magic power, magic power is between -1000000000 and 1000000000.<br>Followed m lines, each line has three integers like <br>type a b describe a magic.<br>If type equals 0, you should output the maximum sum of beautiful subsequence of interval [a,b].(1 &lt;= a &lt;= b &lt;= n)<br>If type equals 1, you should change the magic power of the elf at position a  to b.(1 &lt;= a &lt;= n, 1 &lt;= b &lt;= 1e9)<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each 0 type query, output the corresponding answer.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n1 1\n1\n0 1 1</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"ZSTU","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2015+Multi-University+Training+Contest+3&amp;source=1&amp;searchmode=source\"> 2015 Multi-University Training Contest 3 </a> ","type":"source","format":"html","require":["katex"]}]}