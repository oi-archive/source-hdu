{"title":"Query on a tree","time_limit":5000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3804","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3804&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3804","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3804"},"statement":[{"title":"Problem Description","content":"&#xA0;&#xA0;There are some queries on a tree which has n nodes. Every query is described as two integers (X, Y).For each query, you should find the maximum weight of the edges in set E, which satisfies the following two conditions.<br> 1) The edge must on the path from node X to node 1.<br> 2) The edge&#x2019;s weight should be lower or equal to Y.<br>&#xA0;&#xA0;Now give you the tree and queries. Can you find out the answer for each query?<br>","type":"description","format":"html"},{"title":"Input","content":"&#xA0;&#xA0;The first line of the input is an integer T, indicating the number of test cases. For each case, the first line contains an integer n indicates the number of nodes in the tree. Then n-1 lines follows, each line contains three integers X, Y, W indicate an edge between node X and node Y whose value is W. Then one line has one integer Q indicates the number of queries. In the next Q lines, each line contains two integers X and Y as said above.<br>","type":"input_format","format":"html"},{"title":"Output","content":"&#xA0;&#xA0;For each test case, you should output Q lines. If no edge satisfy the conditions described above&#xFF0C;just output &#x201C;-1&#x201D; for this query. Otherwise output the answer for this query.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n3\n1 2 7\n2 3 5\n4\n3 10\n3 7\n3 6\n3 4</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">7\n7\n5\n-1\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\n2&lt;=n&lt;=10^5\n2&lt;=Q&lt;=10^5\n1&lt;=W,Y&lt;=10^9\nThe data is guaranteed that your program will overflow if you use recursion.\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Author","content":"Edward_mj","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=ACM-DIY+Group+Contest+2011+Spring&amp;source=1&amp;searchmode=source\"> ACM-DIY Group Contest 2011 Spring </a> ","type":"source","format":"html"}]}