{"title":"GTY's game II","time_limit":2000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5173","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5173&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5173","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5173"},"statement":[{"title":"Problem Description","content":"GTY likes playing games with ZZF. But ZZF doesn&apos;t like to play with GTY because GTY is too stupid. This time GTY invites ZZF to play games again! To avoid being laughed at by ZZF, this time GTY takes you, GTY&apos;s assistant in the game( Because you are muchsmarter than GTY). ZZF likes painting, so she drew a tree on the papar. It&apos;s so beautiful that GTY almost forgot he had a game to play... Then ZZF said, &apos;I could play this game with you, but you have to answer the question correctly and quickly. Or I will give you a good-man card. &apos;After that she drew some nodes on the tree, each of them having a value. During the game ZZF will ask you a question or let you do an operation :<br>$0~u~v$ : query the sum of the values of the nodes in the route$ (u, v)$<br>$1~u~v$ : reverse the values of the nodes in the route$ (u, v)$<br>For GTY doesn&apos;t want to be given a good-man card, he needs you to help him.","type":"description","format":"html"},{"title":"Input","content":"In the first line there are two numbers  n, the number of the nodes, and m, the number of the operations. ( $ 1 \\leq n, m \\leq 80000 $ )<br>The next line contains n numbers which are the values of the nodes. ( $ 1 \\leq val_i \\leq 1000 $ )<br>The next $n - 1$ lines describe the tree. In each line there are two numbers u and v, meaning there is an edge between u and v. ( $ 1 \\leq u, v \\leq n $ )<br>The next $m$ lines describe the queries and the operations. Each line contains three numbers  $op, u, v$. Their meanings are the same as the description above.","type":"input_format","format":"html"},{"title":"Output","content":"For each query print the ans in one line.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4 3\n1 2 3 4\n1 2\n1 3\n2 4\n0 1 3\n1 2 3\n0 1 4</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n8</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%2329&amp;source=1&amp;searchmode=source\"> BestCoder Round #29 </a> ","type":"source","format":"html"}]}