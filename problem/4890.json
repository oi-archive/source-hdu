{"title":"One to Four","time_limit":6000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4890","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4890&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4890","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4890"},"statement":[{"title":"Problem Description","content":"   Given one n * m matrix consist of only positive numbers, It is guaranteed that the product of n and m is a multiple of 4, therefore, we can divide it into four identical parts(that is, every part is a 4-connected subset and we can obtain each part from each other by rotation and translation, every element must be included in exactly one part).<br><br><center><img style=\"max-width:100%;\" src=\"../../data/images/C504-1004-1.jpg\"></center><br>   (Grids that from the same part are labeled by the same colour, all four partitions above are valid.)<br>   Note that the partition below is <b>NOT</b> valid because we can only use translation and rotation, no symmetrical reverse:<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C504-1004-2.jpg\"></center><br>   Once we choose a partition, we can choose some translation and rotation to make these four parts coincide, finally we add up every four values lying on the same grid and choose the minimum sum as the score of the partition and transformation.<br>   Now you&apos;re given the matrix, your task is to choose a proper partition and transformation to get the maximum score.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"   There are several testcases, please process till EOF.<br>   In each test case, first line contains two integers n and m. Following n lines each contains m integers A<sub>ij</sub>, describing the matrix.<br>   1 &#x2264; n,m &#x2264; 30,1 &#x2264; A<sub>ij</sub> &#x2264; 10000.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"   For each testcase output one line contains one integer: the maximum score you can get.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2 4\n1 1 1 1\n2 2 2 2\n4 4\n1 1 1 3\n2 1 3 3\n2 2 4 3\n2 4 4 4</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6\n10</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"Fudan University","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+Multi-University+Training+Contest+3&amp;source=1&amp;searchmode=source\"> 2014 Multi-University Training Contest 3 </a> ","type":"source","format":"html","require":["katex"]}]}