{"title":"Minimum Spanning Tree","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4408","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4408&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4408","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4408"},"statement":[{"title":"Problem Description","content":"XXX is very interested in algorithm. After learning the Prim algorithm and Kruskal algorithm of minimum spanning tree, XXX finds that there might be multiple solutions. Given an undirected weighted graph with n (1&lt;=n&lt;=100) vertexes and m (0&lt;=m&lt;=1000) edges, he wants to know the number of minimum spanning trees in the graph.<br>","type":"description","format":"html"},{"title":"Input","content":"There are no more than 15 cases. The input ends by 0 0 0.<br>For each case, the first line begins with three integers --- the above mentioned n, m, and p. The meaning of p will be explained later. Each the following m lines contains three integers u, v, w (1&lt;=w&lt;=10), which describes that there is an edge weighted w between vertex u and vertex v( all vertex are numbered for 1 to n) . It is guaranteed that there are no multiple edges and no loops in the graph.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output a single integer in one line representing the number of different minimum spanning trees in the graph.<br>The answer may be quite large. You just need to calculate the remainder of the answer when divided by p (1&lt;=p&lt;=1000000000). p is above mentioned, appears in the first line of each test case.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5 10 12\n2 5 3\n2 4 2\n3 1 3\n3 4 2\n1 2 3\n5 4 3\n5 1 3\n4 1 1\n5 3 3\n3 2 3\n0 0 0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2012+ACM%2FICPC+Asia+Regional+Jinhua+Online&amp;source=1&amp;searchmode=source\"> 2012 ACM/ICPC Asia Regional Jinhua Online </a> ","type":"source","format":"html"}]}