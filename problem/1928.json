{"title":"Once Around the Lock","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=1928","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=1928&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=1928","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=1928"},"statement":[{"title":"Problem Description","content":"Most of us at one time or another have used a circular combination lock (think back to those glorious days in high school and your gym locker). Most combination locks consist of a dial with the numbers 0 through n-1 printed on it in clockwise order. The dial can be turned either clockwise or counterclockwise, bringing one of the numbers to the top of the dial (if 0 is at the top of the dial, a turn of 1 in the counterclockwise direction would bring 1 to the top). Each lock has a three number code (x, y, z) and can only be opened after the following series of steps:<br>1. The lock dial must first be spun clockwise at least one full rotation, ending with the number x at the top (with no intervening counterclockwise turns). Note this could be accomplished with consecutive clockwise turns.<br>2. The lock must be turned counterclockwise until the number y appears at the top for the second time. Note this could be accomplished with consecutive counterclockwise turns (but no intervening clockwise turns).<br>3. The lock must then be turned clockwise until the number z appears on top, without going more than one full rotation. Note this could be accomplished with consecutive clockwise turns (but no intervening counterclockwise turns).<br>Any rotation after this last step will cause the lock to be closed again.<br>For this problem, you will be given a lock and a series of turns and you must determine at the end whether or not the lock is open. You should assume prior to the first turn that the lock has just been closed, and the dial spun counterclockwise until 0 is on top.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"Input will consist of multiple test cases. The first line of each test case will contain four integers n x y z, indicating the number of digits on the lock&#x2019;s dial and the three-number combination (x, y and z will all be different and n &lt;= 1000). The next line(s) will consist of a series of dial rotations of the form d s, where d is either C or CC (for clockwise or counterclockwise) and s (&gt; 0) indicates how many numbers to spin through at the top of the dial. For example, if n = 50 and the current number on top of the dial is 4, the rotation CC 6 would bring the number 10 to the top, while a rotation of C 6 would bring 48 to the top. The series of dial rotations may extend over multiple lines, ending with the character ?. A line with a single 0 on it will follow the last test case.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each problem instance, output a single line containing either the word Open or Closed, prefaced by the test case number as shown in the sample output.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">60 6 1 58\nC 114 CC 115 C 3 ?\n60 6 1 58\nC 54 CC 115 C 3 ?\n60 6 1 58\nC 54 C 60 CC 115 C 3 ?\n0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case 1: Open\nCase 2: Closed\nCase 3: Open</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2007+East+Central+North+America&amp;source=1&amp;searchmode=source\"> 2007 East Central North America </a> ","type":"source","format":"html","require":["katex"]}]}