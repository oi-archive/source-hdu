{"title":"Queenâ€™s Case","time_limit":5000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3514","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3514&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3514","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3514"},"statement":[{"title":"Problem Description","content":"A small country called Maltius was governed by a queen. The queen was known as an oppressive ruler.People in the country suffered from heavy taxes and forced labor. So some young people decided to form a revolutionary army and fight against the queen. Now, they besieged the palace and have just rushed into the entrance.<br><br>Your task is to write a program to determine whether the queen can escape or will be caught by the army.<br><br>Here is detailed description.<br>&#xFFFD;&#xFFFD;&#xA0;&#xA0;The palace can be considered as grid squares.<br>&#xFFFD;&#xFFFD;&#xA0;&#xA0;The queen and the army move alternately. The queen moves first.<br>&#xFFFD;&#xFFFD;&#xA0;&#xA0;At each of their turns, they either move to an adjacent cell or stay at the same cell.<br>&#xFFFD;&#xFFFD;&#xA0;&#xA0;Each of them must follow the optimal strategy.<br>&#xFFFD;&#xFFFD;&#xA0;&#xA0;If the queen and the army are at the same cell, the queen will be caught by the army immediately.<br>&#xFFFD;&#xFFFD;&#xA0;&#xA0;If the queen is at any of exit cells alone after the army&#xFFFD;&#xFFFD;s turn, the queen can escape from the army.<br>&#xFFFD;&#xFFFD;&#xA0;&#xA0;There may be cases in which the queen cannot escape but won&#xFFFD;&#xFFFD;t be caught by the army forever,<br>under their optimal strategies.<br>","type":"description","format":"html"},{"title":"Input","content":"The input describes a map of the palace. The first line of the input contains two integers W (1 &lt;= W &lt;= 30) and H (1 &lt;=H &lt;= 30), which indicate the width and height of the palace. The following H lines, each of which contains W characters, denote the map of the palace. &#xFFFD;&#xFFFD;Q&#xFFFD;&#xFFFD; indicates the queen,&#xFFFD;&#xFFFD;A&#xFFFD;&#xFFFD; the army,&#xFFFD;&#xFFFD;E&#xFFFD;&#xFFFD; an exit,&#xFFFD;&#xFFFD;#&#xFFFD;&#xFFFD; a wall and &#xFFFD;&#xFFFD;.&#xFFFD;&#xFFFD; a floor.<br><br>The map contains exactly one &#xFFFD;&#xFFFD;Q&#xFFFD;&#xFFFD;, exactly one &#xFFFD;&#xFFFD;A&#xFFFD;&#xFFFD; and at least one &#xFFFD;&#xFFFD;E&#xFFFD;&#xFFFD;. You can assume both the queen and the army can reach all the exits<br><br>","type":"input_format","format":"html"},{"title":"Output","content":"Output &#xFFFD;&#xFFFD;Queen can escape.&#xFFFD;&#xFFFD;, &#xFFFD;&#xFFFD;Army can catch Queen.&#xFFFD;&#xFFFD; or &#xFFFD;&#xFFFD;Queen can not escape and Army can not catch Queen.&#xFFFD;&#xFFFD; in a line.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2 2\nQE\nEA\n3 1\nQAE\n3 1\nAQE\n5 5\n..E..\n.###.\nA###Q\n.###.\n..E..\n5 1\nA.E.Q\n5 5\nA....\n####.\n..E..\n.####\n....Q</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Queen can not escape and Army can not catch Queen.\nArmy can catch Queen.\nQueen can escape.\nQueen can not escape and Army can not catch Queen.\nArmy can catch Queen.\nArmy can catch Queen.\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div><i>On the first sample input, the queen can move to exit cells, but either way the queen will be caught at the next army&#xFFFD;&#xFFFD;s turn. So the optimal \nstrategy for the queen is staying at the same cell. Then the army can move to exit cells as well, but again either way the army will miss the queen from \nthe other exit. So the optimal strategy for the army is also staying at the same cell. Thus the queen cannot escape but won&#xFFFD;&#xFFFD;t be caught.</i></div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2010+ACM-ICPC+Multi-University+Training+Contest%A3%A88%A3%A9%A1%AA%A1%AAHost+by+ECNU&amp;source=1&amp;searchmode=source\"> 2010 ACM-ICPC Multi-University Training Contest&#xFFFD;&#xFFFD;8&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;Host by ECNU </a> ","type":"source","format":"html"}]}