{"title":"3x3 Convolution","time_limit":1000,"memory_limit":512,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6898","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6898&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6898","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6898"},"statement":[{"title":"Problem Description","content":"Given an $n\\times n$ matrix $A$ and a $3\\times 3$ matrix $K$. These two matrices are very special : they are both non-negative matrices and the sum of all elements in matrix $K$ is 1 (In order to avoid floating-point error, we will give matrix $K$ in a special way in input).<br><br>Now we define a function $C(A,K)$, the value of $C(A,K)$ is also a $n\\times n$ matrix and it is calculated below(we use $C$ to abbreviate $C(A,K)$):<br><br>$C_{x,y}=\\sum_{i=1}^{min(n-x+1,3)}\\sum_{j=1}^{min(n-y+1,3)}A_{x+i-1,y+j-1}K_{i,j}$<br><br>Now we define $C^{m}(A,K)=C(C^{m-1}(A,K),K)$ and $C^{1}(A,K)=C(A,K)$, Kanade wants to know $lim_{t\\rightarrow \\infty}C^{t}(A,K)$<br><br>It&apos;s guaranteed that the answer exists and is an integer matrix.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"There are $T$ test cases in this problem.<br><br>The first line has one integer $T$.<br><br>Then for every test case:<br><br>The first line has one integer $n$.<br><br>Then there are $n$ lines and each line has $n$ non negative integers. The j-th integer of the i-th row denotes $A_{i,j}$<br><br>Then there are $3$ lines and each line has $3$ non negative integers. The j-th integer of the i-th row denotes $K&apos;_{i,j}$<br><br>Then $K$ could be derived from $K&apos;$ by the following formula: $$K_{i,j}=K&apos;_{i,j}/(\\sum_{x=1}^{3}\\sum_{y=1}^{3}K&apos;_{x,y})$$<br><br>$1\\leq T\\leq 100$<br><br>$3\\leq n\\leq 50$<br><br>$0\\leq A_{i,j}\\leq 1000$<br><br>$0\\leq K&apos;_{i,j}\\leq 1000$<br><br>$\\sum_{x=1}^{3}\\sum_{y=1}^{3}K&apos;_{x,y}&gt;0$","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output the answer matrix by using the same format as the matrix $A$ in  input.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n3\n1 2 3\n4 5 6\n7 8 9\n3 0 0\n0 0 0\n0 0 0\n3\n1 2 3\n4 5 6\n7 8 9\n1 0 0\n0 1 0\n0 0 0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1 2 3\n4 5 6\n7 8 9\n0 0 0\n0 0 0\n0 0 0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2020%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC%A3%A8CCPC%A3%A9+-+%CD%F8%C2%E7%D1%A1%B0%CE%C8%FC&amp;source=1&amp;searchmode=source\"> 2020&#x4E2D;&#x56FD;&#x5927;&#x5B66;&#x751F;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x7ADE;&#x8D5B;&#xFF08;CCPC&#xFF09; - &#x7F51;&#x7EDC;&#x9009;&#x62D4;&#x8D5B; </a> ","type":"source","format":"html","require":["katex"]}]}