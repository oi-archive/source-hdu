{"title":"Difference of Clustering","time_limit":3000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5486","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5486&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5486","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5486"},"statement":[{"title":"Problem Description","content":"Given two clustering algorithms, the old and the new, you want to find the difference between their results. <br>A clustering algorithm takes many $member\\ entities$ as input and partition them into $clusters$. In this problem, a member entity must be clustered into exactly one cluster. However, we don&#x2019;t have any pre-knowledge of the clusters, so different algorithms may produce different number of clusters as well as different cluster IDs. One thing we are sure about is that the $member IDs$ are stable, which means that the same member ID across different algorithms indicates the same member entity.<br>To compare two clustering algorithms, we care about three kinds of relationship between the old clusters and the new clusters: split, merge and 1:1. Please refer to the figure below.<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C624-1003-1.jpg\"></center> <br>Let&#x2019;s explain them with examples. Say in the old result, m0, m1, m2 are clustered into one cluster c0, but in the new result, m0 and m1 are clustered into c0, but m2 alone is clustered into c1. We denote the relationship like the following:<br>&#x25CF;&#xA0;&#xA0;In the old, c0 = [m0, m1, m2]<br>&#x25CF;&#xA0;&#xA0;In the new, c0 = [m0, m1], c1 = [m2]<br>There is no other members in the new c0 and c1. Then we say the old c0 is split into new c0 and new c1. A few more examples:<br>&#x25CF;&#xA0;&#xA0;In the old, c0 = [m0, m1, m2]<br>&#x25CF;&#xA0;&#xA0;In the new, c0 = [m0, m1, m2]. <br>This is 1:1.<br>&#x25CF;&#xA0;&#xA0;In the old, c0 = [m0, m1], c1 = [m2]<br>&#x25CF;&#xA0;&#xA0;In the new, c0 = [m0, m1, m2]<br>This is merge. Please note, besides these relationship, there is another kind called &#x201C;n:n&#x201D;:<br>&#x25CF;&#xA0;&#xA0;In the old, c0 = [m0, m1], c1 = [m2, m3]<br>&#x25CF;&#xA0;&#xA0;In the new, c0 = [m0, m1, m2], c1 = [m3]<br>We don&#x2019;t care about n:n. <br>In this problem, we will give you two sets of clustering results, each describing the old and the new. We want to know the total number of splits, merges, and 1:1 respectively.<br><br>","type":"description","format":"html"},{"title":"Input","content":"The first line of input contains a number $T$ indicating the number of test cases ($T&#x2264;100$).<br>Each test case starts with a line containing an integer $N$ indicating the number of member entities ($0&#x2264;N&#x2264;10^6$ ). In the following $N$ lines, the $i$-th line contains two integers c1 and c2, which means that the member entity with ID i is partitioned into cluster c1 and cluster c2 by the old algorithm and the new algorithm respectively. The cluster IDs c1 and c2 can always fit into a 32-bit signed integer.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output a single line consisting of &#x201C;Case #X: A B C&#x201D;. $X$ is the test case number starting from 1. $A$, $B$, and $C$ are the numbers of splits, merges, and 1:1s.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n3\n0 0\n0 0\n0 1\n4\n0 0\n0 0\n1 1\n1 1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1: 1 0 0\nCase #2: 0 0 2</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2015+ACM%2FICPC+Asia+Regional+Hefei+Online&amp;source=1&amp;searchmode=source\"> 2015 ACM/ICPC Asia Regional Hefei Online </a> ","type":"source","format":"html"}]}