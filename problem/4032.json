{"title":"Fight the Landlord","time_limit":5000,"memory_limit":64.2265625,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4032","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4032&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4032","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4032"},"statement":[{"title":"Problem Description","content":"Fight the Landlord (&#x6597;&#x5730;&#x4E3B;) is a card game for three players. In each hand one player, the &quot;landlord&quot;, plays alone and the others form a team(may called two peasants). The landlord&apos;s aim is to be the first to play out all his cards in valid combinations, and the team wins if any one of them manages to play all their cards before the landlord.<br><br>A complete deck consists of 52 standard cards plus 2 jokers, red and black. The cards rank from high to low: R(Red Joker), B(Black joker), 2, A, K, Q, J, T(10), 9, 8, 7, 6, 5, 4, 3. Each rank of standard card has 4 cards.<br><br>The landlord plays first, and may play a single card or any legal combination. Each subsequent player in anticlockwise order must either pass (play no card) or beat the previous play by playing a higher combination of the same number of cards and same type. There are just two exceptions to this: a rocket can beat any combination, and a bomb can beat any combination except a higher bomb or rocket - see definitions below.<br><br>In this game, there are thirteen types of combination that can be played:<br><br><strong>1.&#xA0;&#xA0;Single card </strong>- ranking from 3 (low) up to red joker (high) as explained above.<br><strong>2.&#xA0;&#xA0;Pair</strong> - two cards of the same rank, from 3 (low) up to 2 (high), for example 3-3, A-A.<br><strong>3.&#xA0;&#xA0;Triplet </strong> - three cards of the same rank, for example 9-9-9.<br><strong>4.&#xA0;&#xA0;Triplet with an attached card</strong>  - a triplet with a single card added, the single card must be different from the triplet, for example 6-6-6-8. These rank according to the rank of the triplet - so for example 9-9-9-3 beats 8-8-8-A.<br><strong>5.&#xA0;&#xA0;Triplet with an attached pair </strong> - a triplet with a pair added, the ranking being determined by the rank of the triplet - for example Q-Q-Q-6-6 beats 10-10-10-K-K.<br><strong>6.&#xA0;&#xA0;Sequence </strong> - at least five cards of consecutive rank, from 3 up to ace - for example 8-9-10-J-Q. 2 and jokers cannot be used.<br><strong>7.&#xA0;&#xA0;Sequence of pairs </strong>- at least three pairs of consecutive ranks, from 3 up to A. 2 and jokers cannot be used. For example 10-10-J-J-Q-Q-K-K.<br><strong>8.&#xA0;&#xA0;Sequence of triplets </strong>- at least two triplets of consecutive ranks from 3 up to A. 2 cannot be used. For example 4-4-4-5-5-5.<br><strong>9.&#xA0;&#xA0;Sequence of triplets with attached cards </strong> -  an extra card is added to each triplet. Only the triplets have to be in sequence, for example 7-7-7-8-8-8-3-6. The attached cards must be different from all the triplets and from each other. Although triplets of 2 cannot be included in the triplets sequence, a 2 or a joker or one of each can be attached, but not both jokers.<br><strong>10.&#xA0;&#xA0;Sequence of triplets with attached pairs </strong> - an extra pair is attached to each triplet. Only the triplets have to be in sequence - for example 8-8-8-9-9-9-4-4-J-J. The pairs must be different in rank from each other and from all the triplets. Although triplets of 2 cannot be included in the triplets sequence, a pair of 2 can be attached. Note that attached single cards and attached pairs cannot be mixed - for example 3-3-3-4-4-4-6-7-7 is not valid.<br><strong>11.&#xA0;&#xA0;Bomb</strong> - four cards of the same rank. A bomb can beat everything except a rocket or a bomb with higher rank.<br><strong>12.&#xA0;&#xA0;Rocket</strong> - a pair of jokers. It is the highest combination and beats anything else, including bombs.<br><strong>13.&#xA0;&#xA0;Quadplex set </strong> - there are two types: a quad (four cards of the same rank) with two single cards of different ranks attached, such as 6-6-6-6-8-9, or a quad with two pairs of different ranks attached, such as J-J-J-J-9-9-Q-Q. 2 and jokers can be attached, but you cannot use both jokers in one quadplex set. Quadplex sets are ranked according to the rank of the quad. Note that a quadplex set can only beat a lower quadplex set of the same type, and cannot beat any other type of combination. Also a quadplex set can be beaten by a bomb made of lower ranked cards.<br><br>At the beginning of each round, the landlord has 20 cards and the others each get 17 cards, can the landlord has a strategy to bring out his cards all the way alone until he wins the game and leave no chance for the others to play? <br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line of the input is T, which stands for the number of test cases you need to solve.<br><br>For each case, three lines are given. The first line contains 20 characters describes 20 cards in landlord&#x2019;s hand. The following two lines each contains 17 characters describe the two peasants&#x2019; cards. It is guaranteed that the given 54 cards make up a complete deck.<br><br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each case, you should output &#x201C;Case k: &#x201D; first, where k indicates the case number and counts from one. Then output &#x201C;Yes&#x201D; or &#x201C;No&#x201D;.<br><br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6\n34567TJQKA2222BRKKKA\n45678AAQQJJTT3339\n45566778889994TJQ\n3456789TJQ2222BRKKK3\n456789TJQKAAA3344\n5566778899TTJJQQA\n3456789TJQKKK4BR2222\n456789TJQKA9TTJJQ\nAAA3334556677889Q\n33445566778899JJJ222\nB2AAAKQQTT3456789\nRKKKAQQTT3456789J\nBR33336666KKKK222245\nTTTT7777445JJQQAA\n99998888455QQJJAA\nAAAKKKQQQJJJTTT98765\nBR234555666777888\n222333444999TJQKA</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case 1: Yes\nCase 2: Yes\nCase 3: No\nCase 4: Yes\nCase 5: No\nCase 6: Yes\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div> A lot of test cases, pay attention to the efficiency of your program.</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=The+36th+ACM%2FICPC+Asia+Regional+Chengdu+Site+%A1%AA%A1%AA+Online+Contest&amp;source=1&amp;searchmode=source\"> The 36th ACM/ICPC Asia Regional Chengdu Site &#x2014;&#x2014; Online Contest </a> ","type":"source","format":"html","require":["katex"]}]}