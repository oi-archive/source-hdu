{"title":"Game","time_limit":10000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6610","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6610&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6610","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6610"},"statement":[{"title":"Problem Description","content":"Again Alice and Bob is playing a game with stones. There are N piles of stones labelled from $1$ to $N$, the $i$ th pile has $a_i$ stones. <br><br>First Alice will choose piles of stones with consecutive labels, whose leftmost is labelled with $L$ and the rightmost one is $R$. After, Bob will choose another consecutive piles labelled from $l$ to $r$ $(L \\leq{l}\\leq{r}\\leq R)$. Then they&apos;re going to play game within these piles.<br><br>Here&apos;s the rules of the game: Alice takes first and the two will take turn to make a move: choose one pile with nonegetive stones and take at least one stone and at most all away. One who cant make a move will lose.<br><br>Bob thinks this game is not so intersting because Alice always take first. So they add a new rule, which is that Bob can swap the number of two adjacent piles&apos; stones whenever he want before a new round. That is to say, if the $i$ th and $i + 1$ pile have $a_i$ and $a_{i + 1}$ stones respectively, after this swapping there will be $a_{i + 1}$ and $a_i$.<br><br>Before today&apos;s game with Bob, Alice wants to know, if both they play game optimally when she choose the piles from L to R, there are how many pairs (l, r) chosed by Bob that will make Alice *win*.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"Input contains several test cases.<br><br>For each case:<br><br>The fisrt line contains $N$, $M$. $N$ is mentioned aboved ans $M$ is the number of the sum of game rounds and the times of Bob&apos;s swapping.<br><br>The second line contains N integars $a_1, a_2, ... a_n$, indicating the number of each piles&apos; stones.<br><br>The next M lines will have an integar $opt$ $(1 \\leq opt \\leq 2)$, indicating the type of operation.<br><br>If opt equals $1$, then $L$ and $R$ follow. Alice and Bob start a new round and Alice choose $L$ and $R$ as mentioned. <br><br>If opt equals $2$, then $POS$ follows. Bob will swap the piles labelled $POS$ and $POS + 1$.<br><br><br>$0 \\leq a_i \\leq 1,000,000$<br><br>$1 \\leq N, M \\leq 100,000, \\sum{N}, \\sum{M} &lt; 600,000$<br><br>$1 \\leq L \\leq R \\leq N$<br><br>$1 \\leq POS &lt; N$","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each case:<br><br>For each opt which equals $1$, you shall output one line with an integar indicating the number of pairs $(l, r)$ that will make Alice win the round.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3 3\n4 0 4\n2 2\n2 1\n1 1 3</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2019+Multi-University+Training+Contest+3&amp;source=1&amp;searchmode=source\"> 2019 Multi-University Training Contest 3 </a> ","type":"source","format":"html","require":["katex"]}]}