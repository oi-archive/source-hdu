{"title":"Team Queue","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=1387","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=1387&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=1387","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=1387"},"statement":[{"title":"Problem Description","content":"Queues and Priority Queues are data structures which are known to most computer scientists. The Team Queue, however, is not so well known, though it occurs often in everyday life. At lunch time the queue in front of the Mensa is a team queue, for example. <br>In a team queue each element belongs to a team. If an element enters the queue, it first searches the queue from head to tail to check if some of its teammates (elements of the same team) are already in the queue. If yes, it enters the queue right behind them. If not, it enters the queue at the tail and becomes the new last element (bad luck). Dequeuing is done like in normal queues: elements are processed from head to tail in the order they appear in the team queue. <br><br>Your task is to write a program that simulates such a team queue. <br><br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The input will contain one or more test cases. Each test case begins with the number of teams t (1&lt;=t&lt;=1000). Then t team descriptions follow, each one consisting of the number of elements belonging to the team and the elements themselves. Elements are integers in the range 0 - 999999. A team may consist of up to 1000 elements. <br><br>Finally, a list of commands follows. There are three different kinds of commands: <br><br>ENQUEUE x - enter element x into the team queue <br>DEQUEUE - process the first element and remove it from the queue <br>STOP - end of test case <br>The input will be terminated by a value of 0 for t. <br><br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, first print a line saying &quot;Scenario #k&quot;, where k is the number of the test case. Then, for each DEQUEUE command, print the element which is dequeued on a single line. Print a blank line after each test case, even after the last one. <br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n3 101 102 103\n3 201 202 203\nENQUEUE 101\nENQUEUE 201\nENQUEUE 102\nENQUEUE 202\nENQUEUE 103\nENQUEUE 203\nDEQUEUE\nDEQUEUE\nDEQUEUE\nDEQUEUE\nDEQUEUE\nDEQUEUE\nSTOP\n2\n5 259001 259002 259003 259004 259005\n6 260001 260002 260003 260004 260005 260006\nENQUEUE 259001\nENQUEUE 260001\nENQUEUE 259002\nENQUEUE 259003\nENQUEUE 259004\nENQUEUE 259005\nDEQUEUE\nDEQUEUE\nENQUEUE 260002\nENQUEUE 260003\nDEQUEUE\nDEQUEUE\nDEQUEUE\nDEQUEUE\nSTOP\n0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Scenario #1\n101\n102\n103\n201\n202\n203\n\nScenario #2\n259001\n259002\n259003\n259004\n259005\n260001</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=University+of+Ulm+Local+Contest+1998&amp;source=1&amp;searchmode=source\"> University of Ulm Local Contest 1998 </a> ","type":"source","format":"html","require":["katex"]}]}