{"title":"Little Pony and Boast Busters","time_limit":10000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4988","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4988&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4988","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4988"},"statement":[{"title":"Problem Description","content":"&quot;I hereby challenge you, Ponyvillians: anything you can do, I can do better. Any takers? Anyone? Or is Trixie destined to be the greatest equine who has ever lived!?!&quot; &#x2014; &quot;Boast Busters&quot;<br><br>Given two permutation P<sub>0</sub> &amp;&amp; P<sub>1</sub> of {0, 1, ..., n - 1}, we define the crossing number of it as follows. Write P<sub>0</sub> from left to right above P<sub>1</sub> and draw a straight line between each same elements. The crossing number of P<sub>0</sub> and P<sub>1</sub> is the number of pairs of lines that cross.<br><br>For example, if n = 5, and P<sub>0</sub> = {0, 1, 2, 3, 4}, and P<sub>1</sub> = {1, 3, 0, 2, 4}, then the crossing number of P<sub>0</sub> and P<sub>1</sub> is 3, as shown in the figure below.<br><br><center><img style=\"max-width:100%;\" src=\"../../data/images/C531-1004-1.png\"></center><br>Now given you the two permutation, you need to implement the following operations:<br><br>SWAP p a b: swap P<sub>p</sub>[a] and P<sub>p</sub>[b] (0&lt;=p&lt;=1, 0&lt;=a, b&lt;=n-1).<br><br>QUERY: ask the crossing number of the current P<sub>0</sub> and P<sub>1</sub>.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"Input contains multiple test cases (less than 10). For each test case, the first line contains one integer n (1&lt;=n&lt;=10^5).<br>The second line contains n integers P<sub>0</sub>[0], P<sub>0</sub>[1], ..., P<sub>0</sub>[n-1].<br>The third line contains n integers P<sub>1</sub>[0], P<sub>1</sub>[1], ..., P<sub>1</sub>[n-1].<br>The next line contains one integer q &#x2014;&#x2014; the number of operations (1&lt;=q&lt;=10^5). The next q line, each line will contains a operation as we mentioned above.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each query, output the corresponding result in one line.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\n0 1 2 3 4\n1 3 0 2 4\n5\nQUERY\nSWAP 1 2 4\nQUERY\nSWAP 0 2 4\nQUERY</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n6\n5</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%237&amp;source=1&amp;searchmode=source\"> BestCoder Round #7 </a> ","type":"source","format":"html","require":["katex"]}]}