{"title":"Magical Forest","time_limit":12000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4941","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4941&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4941","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4941"},"statement":[{"title":"Problem Description","content":"   There is a forest can be seen as N * M grid. In this forest, there is some magical fruits, These fruits can provide a lot of energy, Each fruit has its location(Xi, Yi) and the energy can be provided Ci. <br><br>   However, the forest will make the following change sometimes: <br>      1. Two rows of forest exchange. <br>      2. Two columns of forest exchange. <br>   Fortunately, two rows(columns) can exchange only if both of them contain fruits or none of them contain fruits. <br><br>   Your superior attach importance to these magical fruit, he needs to know this forest information at any time, and you as his best programmer, you need to write a program in order to ask his answers quick every time. ","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"   The input consists of multiple test cases. <br><br>   The first line has one integer W. Indicates the case number.(1&lt;=W&lt;=5)<br><br>   For each case, the first line has three integers N, M, K. Indicates that the forest can be seen as maps N rows, M columns, there are K fruits on the map.(1&lt;=N, M&lt;=2*10^9, 0&lt;=K&lt;=10^5)<br><br>   The next K lines, each line has three integers X, Y, C, indicates that there is a fruit with C energy in X row, Y column. (0&lt;=X&lt;=N-1, 0&lt;=Y&lt;=M-1, 1&lt;=C&lt;=1000)<br><br>   The next line has one integer T. (0&lt;=T&lt;=10^5)<br>   The next T lines, each line has three integers Q, A, B. <br>   If Q = 1 indicates that this is a map of the row switching operation, the A row and B row exchange. <br>   If Q = 2 indicates that this is a map of the column switching operation, the A column and B column exchange. <br>   If Q = 3 means that it is time to ask your boss for the map, asked about the situation in (A, B). <br>   (Ensure that all given A, B are legal. )","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"   For each case, you should output &quot;Case #C:&quot; first, where C indicates the case number and counts from 1.<br><br>   In each case, for every time the boss asked, output an integer X, if asked point have fruit, then the output is the energy of the fruit, otherwise the output is 0. ","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n3 3 2\n1 1 1\n2 2 2\n5\n3 1 1\n1 1 2\n2 1 2\n3 1 1\n3 2 2</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1:\n1\n2\n1\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>No two fruits at the same location.</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"UESTC","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+Multi-University+Training+Contest+7&amp;source=1&amp;searchmode=source\"> 2014 Multi-University Training Contest 7 </a> ","type":"source","format":"html","require":["katex"]}]}