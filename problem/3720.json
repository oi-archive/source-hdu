{"title":"Arranging Your Team","time_limit":3000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3720","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3720&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3720","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3720"},"statement":[{"title":"Problem Description","content":"Your country has qualified for the FIFA 2010 South Africa World Cup. As the coach, you have made up the 23 men squad. Now you must select 11 of them as the starters. As is well known, there are four positions in soccer: goalkeeper, defender, midfielder and striker. Your favorite formation is 4-4-2, that is, you should choose 4 defenders, 4 midfielders, 2 strikers, and of course, 1 goalkeeper. As a retired ACMer, you want to write a program to help you make decision. Each person&apos;s ability has been evaluated as a positive integer. And what&apos;s more, for some special pairs of persons, if the two people are both on the field, there will be an additional effect (positive or negative). Now you should choose the 11 persons to make the total value maximum.","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases, separated by an empty line. The first 23 lines of each test case indicate each person&apos;s name S<sub>i</sub>, ability value V<sub>i</sub>, and position. The length of each name is no more than 30, and there are no whitespaces in the names. All the names are different. The ability values are positive integers and no more than 100. The position is one of &quot;goalkeeper&quot;, &quot;defender&quot;, &quot;midfielder&quot; and &quot;striker&quot;.<br><br>Then an integer M indicates that there are M special pairs. Each of the following M lines contains S<sub>i</sub>, S<sub>j</sub> and C<sub>ij</sub>, means that if S<sub>i</sub> and S<sub>j</sub> are both on the field, the additional profit is C<sub>ij</sub>. (-100 &#x2264; C<sub>ij</sub> &#x2264; 100). S<sub>i</sub> and S<sub>j</sub> are different strings, and must be in the previous 23 names. All the (S<sub>i</sub>, S<sub>j</sub>) pairs<br>are different.<br>","type":"input_format","format":"html"},{"title":"Output","content":"Output one line for each test case, indicating the maximum total ability values, that is, the total ability values of the 11 persons plus the additional effects. If you cannot choose a 4-4-2 formation, output &quot;impossible&quot; instead.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Buffon 90 goalkeeper\nDe_Sanctis 80 goalkeeper\nMarchetti 80 goalkeeper\nZambrotta 90 defender\nCannavaro 90 defender\nChiellini 90 defender\nMaggio 90 defender\nBonucci 80 defender\nCriscito 80 defender\nBocchetti 80 defender\nPirlo 90 midfielder\nGattuso 90 midfielder\nDe_Rossi 90 midfielder\nMontolivo 90 midfielder\nCamoranesi 80 midfielder\nPalombo 80 midfielder\nMarchisio 80 midfielder\nPepe 80 midfielder\nIaquinta 90 striker\nDi_Natale 90 striker\nGilardino 80 striker\nQuagliarella 80 striker\nPazzini 80 striker\n1\nPirlo Quagliarella 50\n\nZhangSan01 50 goalkeeper\nZhangSan02 50 defender\nZhangSan03 50 defender\nZhangSan04 50 defender\nZhangSan05 50 defender\nZhangSan06 50 defender\nZhangSan07 50 defender\nZhangSan08 50 defender\nZhangSan09 50 defender\nZhangSan10 50 defender\nZhangSan11 50 defender\nZhangSan12 50 defender\nZhangSan13 50 defender\nZhangSan14 50 defender\nZhangSan15 50 defender\nZhangSan16 50 midfielder\nZhangSan17 50 midfielder\nZhangSan18 50 midfielder\nZhangSan19 50 midfielder\nZhangSan20 50 midfielder\nZhangSan21 50 midfielder\nZhangSan22 50 midfielder\nZhangSan23 50 midfielder\n0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1030\nimpossible</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2010+Asia+Tianjin+Regional+Contest&amp;source=1&amp;searchmode=source\"> 2010 Asia Tianjin Regional Contest </a> ","type":"source","format":"html"}]}