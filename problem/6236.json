{"title":"Debug","time_limit":1000,"memory_limit":256,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6236","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6236&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6236","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6236"},"statement":[{"title":"Problem Description","content":"Recently, Alice and Bob are working on a quantum computation model. In this model, all the variables are uncertain, and could be changed during any time. Fortunately, there are some techniques to construct the input data to make these variables show some certain feature at certain time. In other words, all condition statement can be controlled respectively from the input data.<br><br>To test some algorithms in this model, Alice wrote some codes to run on a prototype machine. As this machine requires a lots of resource to work, Alice wanted Bob to make a plan to debug these codes efficiently. Bob analysed the model and the machine, and found that in every unit of time, they can test exactly one program and exactly one input data. Bob want to minimize the time to debug the program. Now he asks for your help.<br><br>For your convenience, Bob would give you a simple edition of the codes. The new codes consist of some keywords, labels, and necessarily separative signs. Followings are formulas of sentence:<br>    1&#xFFFD;&#xFFFD; A label can be any combination of letters and number except keywords.<br>    2&#xFFFD;&#xFFFD; A label sentence is written as a label and a following colon without separative sign.<br>    3&#xFFFD;&#xFFFD; An atomic sentence is written as a keyword STATEMENT.<br>    4&#xFFFD;&#xFFFD; A jump sentence is written as a keyword GOTO and a following label, donating that the machine will jump to the label sentence which is with the same label. It is guaranteed that the each label sentence exists only once.<br>    5&#xFFFD;&#xFFFD; A condition sentence would be donated as a keyword IF and a following jump sentence. You can control the machine to execute the jump sentence or not through the input data. Also, you can have difference choose on the same condition sentence even if the input is the same.<br>    6&#xFFFD;&#xFFFD; A end sentence is written as a keyword END, donating that the code is over. End sentence exists once and at the end of a program. However, you can terminate the program at any position you want.<br>Additionally, separative signs could be space, tab or line break. Upper case letters and lower case letters are considered as different letters. The program would run starting at the first sentence and ending at the end sentence or your termination. To make sure the code is correct, you need to let every atomic sentence run at least once. Can you find the least time Bob need to debug this code?<br>","type":"description","format":"html"},{"title":"Input","content":"The first line is the number of test cases. For each test case, there is the code as described before. Each case contains no more than $100$ labels, $100$ atomic sentence, and $500$ others sentences.<br><br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output a line containing the minimum time Bob need. If there is no solution, output $-1$.<br><br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\nSTATEMENT\nIF GOTO L1\nSTATEMENT\nGOTO L2\nL1:\nSTATEMENT\nL2:\nEND\nSTATEMENT\nIF GOTO L1\nSTATEMENT\nGOTO L2\nL1: IF GOTO L1\nL2:\nEND\nSTATEMENT\nL0:\nIF GOTO L1\nSTATEMENT\nGOTO L2\nL1: STATEMENT\nL2: IF GOTO L0\nEND</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n1\n1</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2017%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC-%B9%FE%B6%FB%B1%F5%D5%BE-%D6%D8%CF%D6%C8%FC%A3%A8%B8%D0%D0%BB%B9%FE%C0%ED%B9%A4%A3%A9&amp;source=1&amp;searchmode=source\"> 2017&#xFFFD;&#x439;&#xFFFD;&#xFFFD;&#xFFFD;&#x467;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x1BE;&#xFFFD;&#xFFFD;&#xFFFD;-&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x57E;-&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x43B;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD; </a> ","type":"source","format":"html"}]}