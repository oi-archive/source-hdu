{"title":"Saving the Princess","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3824","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3824&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3824","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3824"},"statement":[{"title":"Problem Description","content":"As most fairy tales said, unfortunately, our poor princess is trapped in a castle by some bad guys again. <br><br>Simple word, we need save her again, because she is so beautiful and graceful that we love her so much. Our country was composed of N cities and M undirected roads, the princess was in the city A, and we were in city 0, the capital. Obviously, only we arrive at the city A first can we save the princess.<br>However, it&#x2019;s not a shortest path problem because we had extremely enough time to spend among the roads. What matters was whether we could arrive at the city A.<br><br>Perhaps a strange problem, but it&#x2019;s reasonable because we need food and water while travelling from one city to another, or we just would be died before we can see the princess. To make the situation less complicated, we assumed we always consumed two units of food and one unit of water when we were walking, just like a coefficient multiply the distance we had walked. <br><br>But the condition left for us is a little annoyed. As our country was very poor, we could only purchase the food in the capital. What&#x2019;s more, at any time, the sum of food units and water units we carried can&#x2019;t exceed the capacity S.<br>Oh, don&#x2019;t be despair, please. Also some not too bad news was here. We could rest and collect water as much as possible at any city, and in each city, there were plenty of storages to store food for our later use.<br><br>Now, to save our lovely and pitiful princess, how much food we have to purchase in the capital at least?","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line contains a single integer T, indicating the number of test cases.<br>Each test case begins with four integers N, M, S, A. Their meanings are the same as the description.<br>Then M lines follow, each line contains three integers Ai, Bi, Ci, indicating an undirected road from Ai to Bi whose length was Ci.<br><br>Technical Specification<br><br>1. 1 &lt;= T &lt;= 50<br>2. 2 &lt;= N &lt;= 1000<br>3. 1 &lt;= M &lt;= 50000<br>4. 1 &lt;= S, Ci &lt;= 100000<br>5. 1 &lt;= A &lt; N<br>6. 0 &lt;= Ai, Bi &lt; N, Ai != Bi","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output the case number first, then the minimum units of food if you can arrive to the city A, otherwise output &#x201C;Poor princess, we will miss you!&#x201D;","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n2 1 5 1\n0 1 1\n2 1 5 1\n0 1 2\n4 5 20 3\n0 1 3\n0 2 4\n2 3 5\n1 3 6\n0 3 7</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case 1: 2\nCase 2: Poor princess, we will miss you!\nCase 3: 30</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"iSea@WHU","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=The+6th+Central+China+Invitational+Programming+Contest+and+9th+Wuhan+University+Programming+Contest+Final&amp;source=1&amp;searchmode=source\"> The 6th Central China Invitational Programming Contest and 9th Wuhan University Programming Contest Final </a> ","type":"source","format":"html","require":["katex"]}]}