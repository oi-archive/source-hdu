{"title":"Breaking Down News","time_limit":10000,"memory_limit":512,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6856","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6856&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6856","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6856"},"statement":[{"title":"Problem Description","content":"<b>It is preferrable to read the pdf statment.</b><br><br>Cuber QQ, who is the producer of Breaking News, is tired of all the pressures from producing high-quality content and making sponsors happy. The most painful part of this job is, actually, to put all the news clips into units, between which advertisements are broadcast. Recently, after acquiring some knowledge from technology department, he found that he can actually leverage some help from algorithms.<br><br>Formally, the sequence of news clips to be broadcast tonight is a sequence $a$ consisting of $n$ integers, where $a=a_1,a_2,\\ldots,a_n$ ($a_i\\in \\{-1,0,1\\}$), which are the expected quality of those news clips. Being of negative quality does not mean that the clip will not be broadcast. Actually all the contents have already been carefully selected to fit the length of the TV show. Also, the clips should follow the order, which is already carefully arranged.<br><br>To insert ads between clips, Cuber QQ asks you to split the sequence into $m$ ($m \\ge 1$) non-empty units, i.e., consecutive subsequences, so that every clip belongs to exactly one unit. Formally, if the $k$-th unit is $a_{l_k},a_{l_k+1},\\cdots ,a_{r_k}$, then $r_k+1=l_{k+1}$ for all $1\\le k &lt; m$.<br><br>Furthermore, each unit should be of moderate length, neither too long nor too short. Formally, $L \\le r_i-l_i+1\\le R$ should hold for all $1\\le k \\le m$.<br><br>The quality of a unit, is defined to be 1 if quality sum of its corresponding clips is greater than 0, -1 if the sum is lower than 0, and 0 otherwise. This can be formulated with $v_k= [(\\sum_{i=l_k}^{r_k} a_i ) &gt; 0]-[(\\sum_{i=l_k}^{r_k} a_i ) &lt; 0]$.<br><br>The problem is to determine the optimal $m$ and the split plan, to maximize the sum of values of all units, i.e., to maximize $\\sum_{k=1}^m v_k$.<br>","type":"description","format":"html"},{"title":"Input","content":"The first line of the input contains a single integer $T$ ($1\\le T\\le 1~000$), denoting the number of test cases.<br><br>For each of the next $T$ cases:<br><br><ul><br>  <li> The first line contains three space-separated integers $n$, $L$, $R$ ($1\\le L\\le R \\le n\\le 10^6$).</li><br>  <li> The second line contains $n$ integers $a_1,a_2,\\ldots,a_n$ ($a_i\\in \\{-1,0,1\\}$).</li><br></ul><br><br>It is guaranteed that at least one valid split exists.<br><br>The sum of $n$ in all test cases doesn&apos;t exceed $9\\cdot 10^6$.","type":"input_format","format":"html"},{"title":"Output","content":"For every test case, output one line containing an integer, denoting the maximum value.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n5 1 5\n1 -1 0 -1 1\n5 5 5\n-1 1 -1 1 -1\n5 1 1\n1 -1 0 -1 1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n-1\n0</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2020+Multi-University+Training+Contest+8&amp;source=1&amp;searchmode=source\"> 2020 Multi-University Training Contest 8 </a> ","type":"source","format":"html"}]}