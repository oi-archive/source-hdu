{"title":" Stone game","time_limit":1000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5865","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5865&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5865","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5865"},"statement":[{"title":"Problem Description","content":"Birdstorm and hahaha are playing a game. Given a DAG (<b>Directed acyclic graph</b>) with n nodes and m edges. There are total k stones on the nodes and each node can contains more than one stone. Each turn, one can move at most two stones alone the edge, and he is lost if he can not move any one. Birdstorm move first and he wants to know how many ways to do his first operation that he can win the game.","type":"description","format":"html"},{"title":"Input","content":"There are multiple test case. Each case begin with n(1&lt;=n&lt;=5000), m(1&lt;=m&lt;=100000), k(1&lt;=k&lt;=300). Next m lines, each lines contains two integers u, v, indicates an edge from u to v. Then a line with k numbers, indicates the position of the i-th stone.","type":"input_format","format":"html"},{"title":"Output","content":"Each test case, print one line, the number of ways.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4 3 1\n2 1\n3 2\n3 4\n3</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1</div></pre>","type":"example","format":"html"},{"title":"Author","content":"BUPT","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2016+Multi-University+Training+Contest+10&amp;source=1&amp;searchmode=source\"> 2016 Multi-University Training Contest 10 </a> ","type":"source","format":"html"}]}