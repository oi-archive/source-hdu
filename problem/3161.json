{"title":"Pipes","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3161","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3161&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3161","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3161"},"statement":[{"title":"Problem Description","content":"<br><center><img style=\"max-width:100%;\" src=\"../../../data/images/C240-1007-1.jpg\"></center><br>After writing a solver for the &quot;moveable maze&quot; game last week, you have grown tired of it. After all, you already know the optimal solution. To entertain yourself, you find another puzzle game called &quot;Pipes&quot;, and play that for a while. On one puzzle, you have not been able to find a solution by hand, and you think that there is no solution. You decide to write a program to tell you whether this is the case.<br><br>The game is played on a grid with <i>R</i> rows and <i>C</i> columns. Each square of the grid contains a black dot in the centre and black lines in the direction of some, none, or all of its north, east, south, and west neighbouring squares, with the following restriction: if two opposite directions both have lines, then at least one of the other two directions has a line as well. In other words, it is forbidden for a square to consist of a straight line.<br><br>The objective of the game is to rotate each square, as many times as you like, such that for each square, if it has a line going in a compass direction (that is, north, east, south, or west), then it has a neighbour in that compass direction and that neighbour has a line going in the opposite compass direction. In other words, each edge in the grid should either have a line on both sides or neither side.<br><br>Your task is to determine whether a given grid has a solution.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The input consists of several test cases. <br><br>The first line of each test case contains the two integers <i>R</i> and <i>C</i>, separated by spaces, with 1 &lt;= <i>R</i>,<i>C</i> &lt;= 12. <br><br>The following <i>R</i> lines of input each contain one row of the grid, from north to south. Each of these lines contains exactly <i>C</i> strings of letters, separated by spaces, that correspond to squares of the grid, from west to east. Their format is as follows:<br><ul><li>If the string is the single character <b><i>x</i></b>, then the square does not contain a line to any of its neighbours. </li><br><li>Otherwise, the string contains some of the characters N, E, S, W, which indicate that a black line extends from this square&apos;s centre in the direction of its north, east, south, or west neighbour, respectively. No character will appear in the string more than once.</li></ul>Input is terminated by a line containing 0 0. These zeros are not a test case and should not be processed.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output SOLVABLE if there is a solution to the puzzle, and UNSOLVABLE otherwise.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3 3\nNW NW x\nNES NESW W\nE W x\n2 2\nES x\nx N\n0 0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">SOLVABLE\nUNSOLVABLE</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=University+of+Waterloo+Local+Contest+2009.10&amp;source=1&amp;searchmode=source\"> University of Waterloo Local Contest 2009.10 </a> ","type":"source","format":"html","require":["katex"]}]}