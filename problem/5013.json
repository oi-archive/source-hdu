{"title":"City Tour","time_limit":3000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5013","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5013&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5013","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5013"},"statement":[{"title":"Problem Description","content":"   There are m visitors coming to visit country A, and they plan to visit all n cities in the country one after another. The cities are numbered from 1 to n by the order they are visited. The visitors start their tour at city 1. Each day, for each visitor i, he has p<sub>i</sub> probability to go to next city(which means city number increases by 1), and 1 - p<sub>i</sub> probability to fall in love with current city and stay there till the end of tour. If a visitor reach city n, he will not move any more.<br><br>   When visitor i reach city j, he get H<sub>ij</sub> units of happiness.For j &gt; 1, suppose city j is visited by c<sub>j</sub>(c<sub>j</sub>&gt;0) visitors and city j - 1 is visited by c<sub>j - 1</sub>(c<sub>j - 1</sub> &gt; 0) visitors, then each of c<sub>j</sub> city j&apos;s visitors will get extra <img style=\"max-width:100%;\" src=\"../../data/images/C534-1007-1.jpg\"> units of happiness.<br><br>   Let h<sub>tot</sub> denote the total happiness of all visitors at the end of tour. Now you need to calculate the expectation of h<sub>tot</sub>.","type":"description","format":"html"},{"title":"Input","content":"   There are multiple test cases. Please process till EOF. <br><br>   For each case, the first line contains two integers m and n (1 &#xFFFD;&#xFFFD; m &#xFFFD;&#xFFFD; 16,1 &#xFFFD;&#xFFFD; n &#xFFFD;&#xFFFD; 16) , indicating the number of visitors and the number of cities respectively.<br>   <br>   The second line contains m real numbers p<sub>i</sub>(0 &#xFFFD;&#xFFFD; p<sub>i</sub> &#xFFFD;&#xFFFD; 1)&#xFFFD;&#xFFFD;the probability for the i<sub>th</sub> visitor to move to next city each day. The probabilities are given with at most 6 digits after decimal point.<br><br>   Then there are m lines follow, each line contains n integers. The j-th integer of ith line denotes h<sub>ij</sub> (1 &#xFFFD;&#xFFFD; h<sub>ij</sub> &#xFFFD;&#xFFFD; 100).","type":"input_format","format":"html"},{"title":"Output","content":"   For each test case, print a single real number in a line, represents the expectation of h<sub>tot</sub>. The answer will be considered valid if it differs from the correct one by at most 10<sup>-5</sup>.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3 1\n0.1 0.2 0.3\n10\n20\n30\n\n3 3\n0.5 0.5 0.5\n1 1 1\n1 1 1\n1 1 1\n\n4 4\n0.1 0.4 0.2 0.3\n7 2 18 10\n2 6 9 5 \n4 4 19 17\n7 3 13 17</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">60.0000000\n6.84375000\n34.230645587</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+ACM%2FICPC+Asia+Regional+Xi%27an+Online&amp;source=1&amp;searchmode=source\"> 2014 ACM/ICPC Asia Regional Xi&apos;an Online </a> ","type":"source","format":"html"}]}