{"title":"Analyzing Login/Logout Records","time_limit":2000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2310","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2310&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2310","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2310"},"statement":[{"title":"Problem Description","content":"You have a computer literacy course in your university. In the computer system, the login/logout records of all PCs in a day are stored in a file. Although students may use two or more PCs at a time, no one can log in to a PC which has been logged in by someone who has not logged out of that PC yet.<br><br>You are asked to write a program that calculates the total time of a student that he/she used at least one PC in a given time period (probably in a laboratory class) based on the records in the file.<br><br>The following are example login/logout records.<br><br>    * The student 1 logged in to the PC 1 at 12:55<br>    * The student 2 logged in to the PC 4 at 13:00<br>    * The student 1 logged in to the PC 2 at 13:10<br>    * The student 1 logged out of the PC 2 at 13:20<br>    * The student 1 logged in to the PC 3 at 13:30<br>    * The student 1 logged out of the PC 1 at 13:40<br>    * The student 1 logged out of the PC 3 at 13:45<br>    * The student 1 logged in to the PC 1 at 14:20<br>    * The student 2 logged out of the PC 4 at 14:30<br>    * The student 1 logged out of the PC 1 at 14:40 <br><br>For a query such as &quot;Give usage of the student 1 between 13:00 and 14:30&quot;, your program should answer &quot;55 minutes&quot;, that is, the sum of 45 minutes from 13:00 to 13:45 and 10 minutes from 14:20 to 14:30, as depicted in the following figure.<br><img style=\"max-width:100%;\" src=\"../../../data/images/2310-1.png\">","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The input is a sequence of a number of datasets. The end of the input is indicated by a line containing two zeros separated by a space. The number of datasets never exceeds 10.<br><br>Each dataset is formatted as follows.<br><br>    N M <br>    r <br>    record1<br>    ...<br>    recordr <br>    q <br>    query1<br>    ...<br>    queryq <br>    &#x3000;<br><br>&#x3000;<br><br>The numbers N  and M  in the first line are the numbers of PCs and the students, respectively. r  is the number of records. q  is the number of queries. These four are integers satisfying the following.<br><br>    1 &#x2264; N  &#x2264; 1000, 1 &#x2264; M  &#x2264; 10000, 2 &#x2264; r  &#x2264; 1000, 1 &#x2264; q  &#x2264; 50 <br><br>&#x3000;<br><br>Each record consists of four integers, delimited by a space, as follows.<br><br>    t  n  m  s  <br><br>s  is 0 or 1. If s  is 1, this line means that the student m  logged in to the PC n  at time t . If s  is 0, it means that the student m  logged out of the PC n  at time t . The time is expressed as elapsed minutes from 0:00 of the day. t , n  and m  satisfy the following.<br><br>    540 &#x2264; t  &#x2264; 1260, 1 &#x2264; n  &#x2264; N , 1 &#x2264; m  &#x2264; M  <br><br>You may assume the following about the records.<br># Records are stored in ascending order of time t. <br># No two records for the same PC has the same time t. <br># No PCs are being logged in before the time of the first record nor after that of the last record in the file.<br># Login and logout records for one PC appear alternatingly, and each of the login-logout record pairs is for the same student. &#x3000;<br><br>&#x3000;<br><br>Each query consists of three integers delimited by a space, as follows.<br><br>    ts  te  m  <br><br>It represents &quot;Usage of the student m  between ts  and te &quot;. ts , te  and m  satisfy the following.<br><br>    540 &#x2264; ts  &lt; te  &#x2264; 1260, 1 &#x2264; m  &#x2264; M  <br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each query, print a line having a decimal integer indicating the time of usage in minutes. Output lines should not have any character other than this number.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4 2\n10\n775 1 1 1\n780 4 2 1\n790 2 1 1\n800 2 1 0\n810 3 1 1\n820 1 1 0\n825 3 1 0\n860 1 1 1\n870 4 2 0\n880 1 1 0\n1\n780 870 1\n13 15\n12\n540 12 13 1\n600 12 13 0\n650 13 15 1\n660 12 15 1\n665 11 13 1\n670 13 15 0\n675 11 13 0\n680 12 15 0\n1000 11 14 1\n1060 12 14 1\n1060 11 14 0\n1080 12 14 0\n3\n540 700 13\n600 1000 15\n1000 1200 11\n1 1\n2\n600 1 1 1\n700 1 1 0\n5\n540 600 1\n550 650 1\n610 620 1\n650 750 1\n700 800 1\n0 0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">55\n70\n30\n0\n0\n50\n10\n50\n0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=Japan+2007+Domestic&amp;source=1&amp;searchmode=source\"> Japan 2007 Domestic </a> ","type":"source","format":"html","require":["katex"]}]}