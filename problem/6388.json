{"title":"YJJâ€™s Stack","time_limit":5000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6388","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6388&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6388","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6388"},"statement":[{"title":"Problem Description","content":"As it&#x2019;s known to all, there&#x2019;s a cute girl named YJJ living in Sand River. One day when he was learning stack, he suddenly thought that it would be more interesting to add timestamp to each stack command, and wanted to delete the element(even it&#x2019;s not the top one) as he wanted.<br><br>So he invented a stack called &quot;YJJ&apos;s stack&quot;, which supports the following four command:<br><br>&#x25CF; push v t &#x2013; push  $v$  into YJJ&#x2019;s stack, whose timestamp is  $t$ ; <br>&#x25CF; delete v t &#x2013; delete the uppermost element from the stack which is equal to  $v$ , whose timestamp is  $t$ ; <br>&#x25CF; pop t  &#x2013; pop the top element from YJJ&#x2019;s stack, whose timestamp is  $t$ ; <br>&#x25CF; query t  &#x2013; execute a query operation which is described below, whose timestamp is  $t$ ;<br><br>There is an empty set of commands initially. When an command except  query t  arrives, we put the command into the set. When an command  query t  arrives, we process as follows:<br><br>1.  Clear YJJ&apos;s stack .<br>2.  Execute the command currently in the set whose timestamp is less than  t .<br>3.  The executing order of command is ordered by their timestamp in ascending order.<br>4. Print the top element in the stack.<br><br>Records of command are in arriving order, you are required to execute according to above rules. Another three constraints are made to simplify the problem :<br><br>1.  All the  pop  and  delete  command are valid. In another word, if you do the process correctly,  pop   command will not be excuted on an empty YJJ&#x2019;s stack and  delete   v   command will not be excuted on an  YJJ&#x2019;s stack without  v .<br>2.  All timestamps are different.<br>3.  The number of  pop  command is no more than $5$.","type":"description","format":"html"},{"title":"Input","content":"The first line of the input contains an integer $T$ $(1&#x2264;T&#x2264;10)$,which is the number of test cases.<br><br>In each case, the first line of the input contains an integer $N$ $(1&#x2264;N&#x2264;1.2\\times 10^5)$. The following $N$ lines each contain an command in one of the following four formats:  push v t ,  delete v t ,  pop t ,  query t , where $1&#x2264;v&#x2264;5, 0&#x2264;t&#x2264;10^9$, and  $v, t$  are integers. The command are given in the order in which they arrive.","type":"input_format","format":"html"},{"title":"Output","content":"For each  query  command, output the answer in a line. If the stack is empty, output $-1$ instead.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n13\npush 2 10\npush 1 20\nquery 21\ndelete 2 30\nquery 31\npush 3 40\nquery 53\npop 60\nquery 62\npush 2 70\nquery 41\npush 1 50\nquery 91\n9\npush 2 10\npush 1 20\nquery 11\nquery 21\ndelete 2 30\nquery 31\nquery 12\npop 40\nquery 41</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n1\n3\n1\n3\n2\n2\n1\n1\n2\n-1</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2018+Multi-University+Training+Contest+7&amp;source=1&amp;searchmode=source\"> 2018 Multi-University Training Contest 7 </a> ","type":"source","format":"html"}]}