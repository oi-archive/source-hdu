{"title":"Knight's Problem","time_limit":3000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3690","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3690&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3690","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3690"},"statement":[{"title":"Problem Description","content":"You must have heard of the Knight&apos;s Tour problem. In that problem, a knight is placed on an empty chess board and you are to determine whether it can visit each square on the board exactly once.<br><br>Let&apos;s consider a variation of the knight&apos;s tour problem. In this problem, a knight is place on an infinite plane and it&apos;s restricted to make certain moves. For example, it may be placed at (0, 0) and can make two kinds of moves: Denote its current place as (x,y), it can only move to (x+1,y+2) or (x+2,y+1). The goal of this problem is to make the knight reach a destination position as quickly as possible (i.e. make as less moves as possible).","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line contains an integer T ( T &lt; 20) indicating the number of test cases.<br><br>Each test case begins with a line containing four integer: fx fy tx ty(-5000&lt;=fx,fy,tx,ty&lt;=5000). The knight is originally placed at (fx, fy) and (tx, ty) is its destination.<br><br>The following line contains an integer m(0&lt;m&lt;=10), indicating how many kinds of moves the knight can make.<br><br>Each of the following m lines contains two integer mx my(-10&lt;=mx,my&lt;=10; |mx|+|my|&gt;0), which means that if a knight stands at (x,y), it can move to (x+mx,y+my).<br><br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"Output one line for each test case. It contains an integer indicating the least number of moves needed for the knight to reach its destination. Output &quot;IMPOSSIBLE&quot; if the knight may never gets to its target position.<br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n0 0 6 6\n5\n1 2\n2 1\n2 2\n1 3\n3 1\n0 0 5 5\n2\n1 2\n2 1</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\nIMPOSSIBLE</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2010+Asia+Fuzhou+Regional+Contest&amp;source=1&amp;searchmode=source\"> 2010 Asia Fuzhou Regional Contest </a> ","type":"source","format":"html","require":["katex"]}]}