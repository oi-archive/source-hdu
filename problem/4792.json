{"title":"Bob's new toy","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4792","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4792&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4792","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4792"},"statement":[{"title":"Problem Description","content":"Bob used to have many toy blocks and he loved cube blocks very much and  builds many structures only using cube blocks. Now, Bob has new toys to play, a set of  magnetic robs with different length and magnetic balls to connect these robs. He  decide to use these new toys to reproduce those structure he used to build using cube  blocks by replacing every cube block with the cube frame below.<br><center><img style=\"max-width:100%;\" src=\"../../../data/images/4792-1.jpg\"></center><br>As you can see, each block is composed by 8 magnetic balls, 12 magnetic robs with  length 1(standard rob). And there  would be some magnetic robs with length &#xFFFD;&#xFFFD;2 (long  rob) connecting to diagonal balls to make it rigid. Adjacent cubes can share balls and  robs. Before long he realize that there is no need to put 3 long robs to connect the  diagonal balls of each cube to make it rigid. For example, if the structure is a 2 &#xFFFD;&#xFFFD; 2 &#xFFFD;&#xFFFD;  2 cube, only 9 robs is need to prevent the structure from out of its shape.<br><center><img style=\"max-width:100%;\" src=\"../../../data/images/4792-2.jpg\"></center><br>If there are less than 9 long robs, for example, 8 long rods, the structure may  transform into the shape showed in pictures  below so it cannot maintain its original shape.<br><center><img style=\"max-width:100%;\" src=\"../../../data/images/4792-3.jpg\"></center><br>Bob wonder what is the minimum number of long robs need to prevent the structure  from out of the shape.","type":"description","format":"html"},{"title":"Input","content":"There are multiple cases. The first line of each case contains three  integers, H, L and W (1 &#xFFFD;&#xFFFD; H, L, W &#xFFFD;&#xFFFD;10), indicating the height, length and width of the  structure built by original cube blocks. Then H sections of input following, each  section contains L lines and each line contains W characters describing the layout of  the structure. The w<sub>th</sub> character of l<sub>th</sub> line in the h<sub>th</sub> section is &apos;*&apos; when there is a cube  block in position (w,l,h), or &apos;.&apos; otherwise.<br>Sections are separated by a blank line. The input structure is guaranteed to be  connected by faces and there would be at least one &apos;*&apos; in each ca se. Please note that  the final structure is built by replacing each cube block by robs and balls, as  mentioned above.","type":"input_format","format":"html"},{"title":"Output","content":"For each case, output one integer, the minimum number of long robs Bob needed to make the structure rigid.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1 2 3\n***\n***\n1 2 3\n*.*\n***\n2 2 2\n**\n**\n\n**\n**\n3 3 3\n***\n***\n***\n\n***\n***\n***\n\n***\n***\n***\n3 3 3\n***\n***\n***\n\n***\n*.*\n***\n\n***\n***\n***</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">9\n11\n9\n15\n15\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nThe last two cases are essentially the same when Bob builds the structure using balls and robs.\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2013+Asia+Changsha+Regional+Contest+&amp;source=1&amp;searchmode=source\"> 2013 Asia Changsha Regional Contest  </a> ","type":"source","format":"html"}]}