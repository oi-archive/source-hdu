{"title":"Call It What You Want","time_limit":3000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5736","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5736&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5736","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5736"},"statement":[{"title":"Problem Description","content":"Professor Zhang has heard that the longest path problem cannot be solved in polynomial time for arbitrary graphs unless P = NP. Now, Professor Zhang would like to solve this problem in polynomial time in some graphs.<br><br>The longest path problem is the problem of finding a simple path of maximum length in a given graph. A path is called simple if it does not have any repeated vertices. The length of a path is measured by its number of edges on the path.","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases. The first line of input contains an integer $T$ (about 350), indicating the number of test cases. For each test case:<br><br>The first line contains two integers $n$ and $m$ $(3 \\le n \\le 10^4, n \\le m \\le n + 4)$ -- the number of vertices and the number of edges.<br><br>Each of the following $m$ lines contains two integers $a_i$ and $b_i$ which denotes an edge between vertices $a_i$ and $b_i$ $(1 \\le a_i, b_i \\le n, a_i \\ne b_i)$.<br><br>It is guaranteed that the graph is connected and does not contain multiple edges.","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output an integer denoting the length of the longest path.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n5 5\n1 2\n2 3\n3 4\n4 5\n5 1\n7 7\n1 2\n2 3\n3 4\n4 5\n5 1\n5 6\n4 7\n7 10\n1 2\n2 3\n3 4\n4 5\n1 5\n2 5\n3 5\n1 6\n5 6\n4 7</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n6\n6</div></pre>","type":"example","format":"html"},{"title":"Author","content":"zimpha","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2016+Multi-University+Training+Contest+2&amp;source=1&amp;searchmode=source\"> 2016 Multi-University Training Contest 2 </a> ","type":"source","format":"html"}]}