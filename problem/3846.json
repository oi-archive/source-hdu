{"title":"Pyramids","time_limit":15000,"memory_limit":125,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3846","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3846&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3846","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3846"},"statement":[{"title":"Problem Description","content":"It is not too hard to build a pyramid if you have a lot of identical cubes. On a flat foundation you lay, say, 10 &#xFFFD;&#xFFFD; 10 cubes in a square. Centered on top of that square you lay a 9 &#xFFFD;&#xFFFD; 9 square of cubes. Continuing this way you end up with a single cube, which is the top of the pyramid. The height of such a pyramid equals the length of its base, which in this case is 10. We call this a high pyramid.<br><br>If you think that a high pyramid is too steep, you can proceed as follows. On the 10 &#xFFFD;&#xFFFD; 10 base square, lay an 8 &#xFFFD;&#xFFFD; 8 square, then a 6 &#xFFFD;&#xFFFD; 6 square, and so on, ending with a 2 &#xFFFD;&#xFFFD; 2 top square (if you start with a base of odd length, you end up with a single cube on top, of course). The height of this pyramid is about half the length of its base. We call this a low pyramid.<br><br>Once upon a time (quite a long time ago, actually) there was a pharaoh who inherited a large number of stone cubes from his father. He ordered his architect to use all of these cubes to build a pyramid, not leaving a single one unused. The architect kindly explained that not every number of cubes can form a pyramid. With 10 cubes you can build a low pyramid with base 3. With 5 cubes you can build a high pyramid of base 2. But no pyramid can be built using exactly 7 cubes.<br><br>The pharaoh was not amused, but after some thinking he came up with new restrictions.<br>1. All cubes must be used.<br>2. You may build more than one pyramid, but you must build as few pyramids as possible.<br>3. All pyramids must be different.<br>4. Each pyramid must have a height of at least 2.<br>5. Satisfying the above, the largest of the pyramids must be as large as possible (i.e., containing the most cubes).<br>6. Satisfying the above, the next-to-largest pyramid must be as large as possible.<br>7. And so on...<br><br>Drawing figures and pictures in the sand, it took the architect quite some time to come up with the best solution.<br>Write a program that determines how to meet the restrictions of the pharaoh, given the number of cubes.","type":"description","format":"html"},{"title":"Input","content":"The input consists of several test cases, each one on a single line. A test case is an integer c, where 1 &lt;= c &lt;= 10^6, giving the number of cubes available.<br>The last test case is followed by a line containing a single zero.","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, display its case number followed by the pyramids to be built. The pyramids should be ordered with the largest first. Pyramids are specified by the length of their base followed by an L for low pyramids or an H for high pyramids. If two differenct pyramids have the same number of cubes, list the high pyramid first. Print &#xFFFD;&#xFFFD;impossible&#xFFFD;&#xFFFD; if it is not possible to meet the requirements of the pharaoh.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">29\n28\n0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case 1: 3H 3L 2H\nCase 2: impossible</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2011WorldFinal&amp;source=1&amp;searchmode=source\"> 2011WorldFinal </a> ","type":"source","format":"html"}]}