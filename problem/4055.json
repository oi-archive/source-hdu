{"title":"Number String","time_limit":5000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4055","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4055&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4055","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4055"},"statement":[{"title":"Problem Description","content":"The signature of a permutation is a string that is computed as follows: for each pair of consecutive elements of the permutation, write down the letter &apos;I&apos; (increasing) if the second element is greater than the first one, otherwise write down the letter &apos;D&apos; (decreasing). For example, the signature of the permutation {3,1,2,7,4,6,5} is &quot;DIIDID&quot;.<br><br>Your task is as follows: You are given a string describing the signature of many possible permutations, find out how many permutations satisfy this signature.<br><br>Note: For any positive integer n, a permutation of n elements is a sequence of length n that contains each of the integers 1 through n exactly once.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"Each test case consists of a string of 1 to 1000 characters long, containing only the letters &apos;I&apos;, &apos;D&apos; or &apos;?&apos;, representing a permutation signature.<br><br>Each test case occupies exactly one single line, without leading or trailing spaces.<br><br>Proceed to the end of file. The &apos;?&apos; in these strings can be either &apos;I&apos; or &apos;D&apos;.<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, print the number of permutations satisfying the signature on a single line. In case the result is too large, print the remainder modulo 1000000007.<br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">II\nID\nDI\nDD\n?D\n??</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n2\n2\n1\n3\n6\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nPermutation {1,2,3} has signature &quot;II&quot;.\nPermutations {1,3,2} and {2,3,1} have signature &quot;ID&quot;.\nPermutations {3,1,2} and {2,1,3} have signature &quot;DI&quot;.\nPermutation {3,2,1} has signature &quot;DD&quot;.\n&quot;?D&quot; can be either &quot;ID&quot; or &quot;DD&quot;.\n&quot;??&quot; gives all possible permutations of length 3.\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"HONG, Qize","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2011+Asia+Dalian+Regional+Contest&amp;source=1&amp;searchmode=source\"> 2011 Asia Dalian Regional Contest </a> ","type":"source","format":"html","require":["katex"]}]}