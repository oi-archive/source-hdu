{"title":"Data Handler","time_limit":10000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4286","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4286&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4286","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4286"},"statement":[{"title":"Problem Description","content":"&#x3000;&#x3000;You are in charge of data in a company, so you are called &quot;Data Handler&quot;. Different from the data in computer, the data you have are really in huge volume, and each data contains only one integer. All the data are placed in a line from left to right. There are two &quot;hand&quot; to handle the data, call hand &quot;L&quot; and hand &quot;R&quot;. Every hand is between two adjacent data or at the end of the data line.<br>&#x3000;&#x3000;In one day, the company gives you many commands to handle these data, so you should finish them one by one. At the beginning, there are N data, and hand &quot;L&quot; and &quot;R&quot; are in some positions. Each command is one the following formats:<br>&#x3000;&#x3000;(1)MoveLeft L/R: it means that you should move the hand &quot;L&quot;/&quot;R&quot; left one data unit;<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C414-1009-1.jpg\"></center> <br><br>&#x3000;&#x3000;(2)MoveRight L/R: it means that you should move the hand &quot;L&quot;/&quot;R&quot; right one data unit;<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C414-1009-2.jpg\"></center> <br><br><br>&#x3000;&#x3000;(3)Insert L X: it means that you should insert the data that contains X at the right of the hand &quot;L&quot;;<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C414-1009-3.jpg\"></center> <br><br><br>&#x3000;&#x3000;(4)Insert R X: it means that you should insert the data that contains X at the left of the hand &quot;R&quot;;<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C414-1009-4.jpg\"></center> <br><br><br>&#x3000;&#x3000;(5)Delete L: it means that you should delete the one data at the right of the hand &quot;L&quot;;<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C414-1009-5.jpg\"></center> <br><br><br>&#x3000;&#x3000;(6)Delete R: it means that you should delete the one data at the left of the hand &quot;R&quot;;<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C414-1009-6.jpg\"></center> <br><br><br>&#x3000;&#x3000;(7)Reverse: it means that you should reverse all the data between hand &quot;L&quot; and hand &quot;R&quot;.<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C414-1009-7.jpg\"></center> <br><br>&#x3000;&#x3000;After finish all the commands, you should record all the data from left to right. So please do it.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"&#x3000;&#x3000;The first line contains an integer T(1&lt;=T&lt;=10), the number of test cases.<br>&#x3000;&#x3000;Then T test cases follow. For each test case, the first line contains an integer N(1&lt;=N&lt;=500000), the number of data at the beginning. The second line contains N integers, means the integer in each data, from left to right. The third line contains two integers L and R (1&lt;=L&lt;=R&lt;=N), the positions of hand &quot;L&quot; and hand &quot;R&quot;. It means that hand &quot;L&quot; is at the left of the L-th data and hand &quot;R&quot; is at the right of the R-th data. The fourth line contains one integer M(1&lt;=M&lt;=500000), the number of commands. Then M lines follow, each line contains a command in the above format. All the integers in the data will in range [-10000,10000].<br>&#x3000;&#x3000;It is guaranteed that there are always some data between hand &quot;L&quot; and &quot;R&quot;, and if the hand is at the left/right end of the data line, it will not receive the command MoveLeft/MoveRight.<br>&#x3000;&#x3000;Because of large input, please use scanf instead of cin.<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"&#x3000;&#x3000;For each test case, output the integers in the data from left to right in one line, separated in a single space.<br>&#x3000;&#x3000;Because of large output, please use printf instead of cout.<br>&#x3000;&#x3000;<br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n5\n1 2 3 4 5\n1 5\n5\nMoveLeft R\nInsert R 6\nReverse\nDelete R\nInsert L 7\n5\n6536 5207 2609 6604 -4046\n1 3\n5\nDelete L\nInsert R -9221\nReverse\nDelete L\nMoveRight L</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">7 6 4 3 2 5\n2609 5207 6604 -4046</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2012+ACM%2FICPC+Asia+Regional+Tianjin+Online&amp;source=1&amp;searchmode=source\"> 2012 ACM/ICPC Asia Regional Tianjin Online </a> ","type":"source","format":"html","require":["katex"]}]}