{"title":"Decision","time_limit":10000,"memory_limit":512,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6847","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6847&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6847","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6847"},"statement":[{"title":"Problem Description","content":"Notice&#xFF1A;Don&apos;t output extra spaces at the end of one line.<br><br>Dodo and ddd rent a house together. The house has several bedrooms of different sizes. They all want to get the biggest one, so they come up with a strategy to allocate the biggest room. The strategy is as follows:<br><br>- Each of them chooses an integer in $[0,t]$ randomly, where $t$ is a constant value. Call the number chosen by them $v_1$ and $v_2$ respectively.<br><br>- Generate an array $\\{X_n\\}$: define $X_0=v_1+v_2$, for $n \\geq 0$, define $X_{n+1}=(aX_n+c) \\mod m$, where $a, c, m$ are constant values.<br><br>- If $X_{|v_1-v_2|}$ is an odd number, Dodo gets the biggest room. Otherwise, ddd gets it.<br><br>ddd wants to know the probability of him getting the biggest room. Please help him to calculate it. Please output the probability by using an irreducible fraction.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line contains an integer $T(1 \\leq T \\leq 100)$, indicating the number of test cases.<br><br>Each test case contains one line, which contains $4$ integers $t, a, c, m(2 \\leq m \\leq 10^6, 0 \\leq a, c &lt; m, 0 \\leq t &lt; \\frac{m}{2})$.<br><br>It is guaranteed that there are at most $12$ test cases with $m &gt; 5000$.<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"$T$ lines, each line contains an irreducible fraction, indicating the answer. ","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\n7 1 0 29\n7 0 1 29\n77 77 77 777\n84 74 26 363\n10 15 76 9479</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1/2\n1/8\n84/169\n3729/7225\n71/121</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2020+Multi-University+Training+Contest+7&amp;source=1&amp;searchmode=source\"> 2020 Multi-University Training Contest 7 </a> ","type":"source","format":"html","require":["katex"]}]}