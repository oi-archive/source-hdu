{"title":"Pop the Balloons","time_limit":7000,"memory_limit":256,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6407","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6407&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6407","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6407"},"statement":[{"title":"Problem Description","content":"Recently, an interesting balloon-popping game can be commonly found near the streets. The rule of this game is quite simple: some balloons are tied to cells of an $n \\times m$ lattice, and you are allowed to throw $k$ darts to prick the balloons. The more balloons you pierce, the more incredible prize you will get.<br><br>Probably because too many people have got bored with this childish game, a new variation of the game has appeared. In this variation, the balloons are replaced with more powerful ones: when a balloon explodes, strong gusts travel in four directions, blowing away all remaining balloons in the same row and column. In order to reduce the difficulty, not all cells are filled with a balloon.<br><br>For example, if you prick the yellow balloon in the following figure, then the red balloons will be blown away, with only the blue balloon remaining.<br><br><center><img style=\"max-width:100%;\" src=\"../../../data/images/C755-1011-1.jpg\"></center><br><br>Now, you are given $k$ darts. Since you are a good dart player that you can precisely throw it to any position you want, it is easy for you to use these $k$ darts to clear all balloons (either by directly pricking, or by blowing away by other exploded balloons). Now you begin to consider: for every $1 \\leq x \\leq k$, how many different ways are there to clear all balloons with exactly $x$ darts? Two ways are considered different if and only if there exists $i$, such that the positions of $i$-th pricked balloons differ. Note that you cannot throw the dart to an empty cell.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line of input is a single integer $T$ $(1 \\leq T \\leq 100)$, denoting the number of test cases.<br><br>Each test case begins with a line of three integers $m, n$ $(1 \\leq m \\leq 12, 1 \\leq n \\leq 20)$, denoting the size of the balloon lattice, and $k$ $(1 \\leq k \\leq 20)$, denoting the number of darts. The next $m$ lines, each containing $n$ characters, describe the balloon lattice. Each character is either $\\texttt{&apos;Q&apos;}$, which denotes a balloon, or $\\texttt{&apos;.&apos;}$, which denotes an empty cell.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, display $k$ lines. The $i$-th line is a single integer denoting the number of different ways of clearing all balloons with exactly $i$ darts.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n2 2 2\nQQ\n.Q\n2 2 2\nQQ\n..\n3 3 3\n.Q.\nQQQ\n.Q.\n1 3 1\nQ.Q</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n2\n2\n0\n1\n8\n0\n2</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2018+Multi-University+Training+Contest+8&amp;source=1&amp;searchmode=source\"> 2018 Multi-University Training Contest 8 </a> ","type":"source","format":"html","require":["katex"]}]}