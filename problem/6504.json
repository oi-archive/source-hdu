{"title":"Problem E. Split The Tree","time_limit":4000,"memory_limit":256,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6504","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6504&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6504","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6504"},"statement":[{"title":"Problem Description","content":"You are given a tree with n vertices, numbered from 1 to n. ith vertex has a value $w_i$<br>We define the weight of a tree as the number of different vertex value in the tree.<br>If we delete one edge in the tree, the tree will split into two trees. The score is the sum of these two trees&#xFFFD;&#xFFFD; weights.<br>We want the know the maximal score we can get if we delete the edge optimally","type":"description","format":"html"},{"title":"Input","content":"Input is given from Standard Input in the following format:<br>n<br>$p_2$ $p_3$ . . . $p_n$<br>$w_1$ $w_2$ . . . $w_n$<br><b>Constraints</b><br>2 &#xFFFD;&#xFFFD; n &#xFFFD;&#xFFFD; 100000<br>1 &#xFFFD;&#xFFFD; $p_i$ &lt; i<br>1 &#xFFFD;&#xFFFD; $w_i$ &#xFFFD;&#xFFFD; 100000(1 &#xFFFD;&#xFFFD; i &#xFFFD;&#xFFFD; n), and they are integers<br>$p_i$ means there is a edge between $p_i$ and i","type":"input_format","format":"html"},{"title":"Output","content":"Print one number denotes the maximal score","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n1 1\n1 2 2\n3\n1 1\n1 1 1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n2</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2018+%B6%AB%B1%B1%B5%D8%C7%F8%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC&amp;source=1&amp;searchmode=source\"> 2018 &#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x467;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x1BE;&#xFFFD;&#xFFFD;&#xFFFD; </a> ","type":"source","format":"html"}]}