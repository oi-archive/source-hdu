{"title":"Breweries","time_limit":15000,"memory_limit":63.9990234375,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=1837","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=1837&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=1837","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=1837"},"statement":[{"title":"Problem Description","content":"People drink a lot of beer in Romania. For each city i of the N cities of the country (numbered from 1 to N), the amount of beer B<sub>i</sub> demanded by its inhabitants is known. In order to satisfy the overall demand, a famous beer company wishes to build K breweries in K distinct cities of Romania. From these breweries, beer will be transported to other cities using the existing road network. Each road connects two distinct cities and has a certain length. Because of the recent floods, the road network of Romania has the shape of a tree: that is, there is exactly one path between any pair of cities. Let&#x2019;s condier a city i and a brewery located in a city X, which is the closest brewery to i. The cost of transporting beer to the city i is dist(i,X)*B<sub>i</sub>, where dist(i,X) is the distance between city i and city X. The beer company wants to choose the locations of the K breweries in such a way that the maximum cost of transporting beer to any city in the country is minimized.","type":"description","format":"html"},{"title":"Input","content":"The first line of input contains an integer number T, representing the number of test cases to follow. The first line of each test case contains 2 integer numbers: N (1&lt;=N&lt;=100.000) and K (1&lt;=K&lt;=N). The next N lines contain the beer demands of each city: the i<sup>th</sup> of these lines contains the value B<sub>i</sub> (1&lt;=B<sub>i</sub>&lt;=10.000). The next N-1 lines contain 3 integers each: A, B and L (1&lt;=L&lt;=10.000), meaning that there exists a road of length L between city A and city B.","type":"input_format","format":"html"},{"title":"Output","content":"For each of the T test cases, in the order given in the input, print one line containing the minimum value for the maximum cost of transporting beer, in the case of an optimal placement of the breweries.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n4 2\n3\n4\n2\n7\n1 2 10\n2 3 21\n2 4 57</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">42\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nExplanation for sample input and output:\nThe tree is presented in the figure below. The cities where the breweries were built are colored in yellow (the darker color). \nThe cost of beer transportation equal to 42 is achieved between city 3 and the brewery located in city 2.\n<center><img src=\"../../../data/images/C92-1002-1.jpg\"></center>\n\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Author","content":"Mugurel Ionut Andreica","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=Politehnica+University+of+Bucharest+Local+Team+Contest+2007&amp;source=1&amp;searchmode=source\"> Politehnica University of Bucharest Local Team Contest 2007 </a> ","type":"source","format":"html"}]}