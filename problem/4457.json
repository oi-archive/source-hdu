{"title":"Klotski","time_limit":5000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4457","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4457&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4457","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4457"},"statement":[{"title":"Problem Description","content":"Klotski game is coming again!<br><br><center><img style=\"max-width:100%;\" src=\"../../data/images/4457-1.jpg\"></center> <br><i><br>Klotski (from Polish klocki&#x2014;wooden blocks) is a sliding block puzzle. Sometimes it only refers to the block arrangement in the right-hand-side diagram, where the largest block (in red) must be moved to the bottom middle location (marked in blue). In a more global sense, Klotski refers to a whole group of similar sliding-block puzzles where the aim is to move a specific block to some predefined location. <br>From Wikipedia.org <br></i><br>But today, I will re-define the game for you. <br>The board is a n&#xD7;m grid. There are some blocks on it. A block covers one or more cells of the grid. These blocks are 4-connected. There are also some empty cells on the board. Every step you can move only one block up or down or to the left or to the right , and two blocks can never overlap. <br>Here the problem comes: giving you two layouts of board, calculate the least step(s) that needed to move blocks so that the board can be transferred from one layout to another.","type":"description","format":"html"},{"title":"Input","content":"There are several test cases. <br>For each test, the first line has three integers n,m and k, indicating that the board is n&#xD7;m and there are k blocks on it. ( 0&lt; n,m&lt;=20, 0&lt;=k&lt;=10). <br>The following n lines describe the starting layout. Every line has m characters representing m cells. &apos;.&apos; represents an empty cell and &#x2018;0&#x2019;~&#x2019;9&#x2019; indicates a cell covered by a block. The none-empty cells which represented by the same characters are all covered by a same block and one block can only cover cells represented by the same characters. <br>The next n lines describe the ending layout. <br>Input ends with n = 0 ,m= 0, and k=0.","type":"input_format","format":"html"},{"title":"Output","content":"For each test case you should output a line with an integer indicating the least step(s) needed to transform the starting layout into the ending layout.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5 4 10\n48..\n6200\n6200\n7311\n7359\n7632\n7632\n4811\n.005\n.009\n0 0 0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">46\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nAbout seventy percent of the test cases are of n&lt;=10 and m&lt;=10. There are exactly 10 test cases.\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2012+Asia+Hangzhou+Regional+Contest&amp;source=1&amp;searchmode=source\"> 2012 Asia Hangzhou Regional Contest </a> ","type":"source","format":"html"}]}