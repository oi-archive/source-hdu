{"title":" Inkopolis","time_limit":12000,"memory_limit":256,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6251","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6251&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6251","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6251"},"statement":[{"title":"Problem Description","content":"<center><img style=\"max-width:100%;\" src=\"../../../data/images/C787-1009-1.jpg\"></center><br>Inkopolis is the city in which Inklings live in, it can be regarded as an undirected connected graph with exactly $N$ vertices and $N$ edges between vertices. It is guaranteed that the graph doesn&#x2019;t contain duplicated edges or self loops. Inklings can splatter a special type of colored ink to decorate the roads they live in. Inklings are capricious so they often change the color of the roads to celebrate the upcoming Splatfest.<br>The Splatfest lasts for exactly $M$ days, on each day Inklings will splatter ink on exactly one road, the color on this road will be coverd by the new color of the ink. At the end of each day, they wonder how many different colored regions are there in the Inkopolis. A colored region is a set of connected roads with same color, to be clear, two roads are in the same colored region if they have the same color and share a common vertex.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line of the input gives the number of test cases, $T$. $T$ test cases follow.<br>For each test case, the first line contains two integers $N$ and $M$, where $N$ is the number of vertexes and roads in Inkopolis, and $M$ is the number of days that Splatfest lasts.<br>Following $N$ lines describe the roads between the vertexes. Each line contains 3 integers $x$, $y$, $c$, representing there is a road with color $c$ between the $x^{th}$ and the $y^{th}$ vertex.<br>Next following $M$ lines describe the operations on each day. Each line contains 3 integers $x$, $y$, $c$, representing an operation that Inklings splatter the ink with color $c$ to the road between the $x^{th}$ and the $y^{th}$ vertex, it is guaranteed that there is such a road.<br>$1 \\leq T \\leq 100$<br>$3 \\leq N \\leq 2 \\times 10^5$<br>$1 \\leq M \\leq 2 \\times 10^5$<br>$1 \\leq x, y, c \\leq n$<br>$\\sum N, \\sum M \\leq 10^6$","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output one line containing &#x201C;Case #x:&#x201D; first, where $x$ is the test case number (starting from 1).<br>The following $M$ lines each consists of an integer which is the number of colored regional in Inkopolis after each day.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n4 3\n4 2 4\n2 3 3\n3 4 2\n1 4 1\n3 4 2\n2 3 4\n3 4 3\n4 4\n1 2 1\n2 3 1\n3 4 1\n4 1 1\n1 2 2\n3 4 2\n2 3 2\n4 1 4</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1:\n4\n3\n3\nCase #2:\n2\n4\n2\n2</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2017%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC-%D7%DC%BE%F6%C8%FC-%D6%D8%CF%D6%C8%FC%A3%A8%B8%D0%D0%BB%B9%FE%B9%A4%B4%F3%A3%A9&amp;source=1&amp;searchmode=source\"> 2017&#x4E2D;&#x56FD;&#x5927;&#x5B66;&#x751F;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x7ADE;&#x8D5B;-&#x603B;&#x51B3;&#x8D5B;-&#x91CD;&#x73B0;&#x8D5B;&#xFF08;&#x611F;&#x8C22;&#x54C8;&#x5DE5;&#x5927;&#xFF09; </a> ","type":"source","format":"html","require":["katex"]}]}