{"title":"Min-Max","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6511","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6511&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6511","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6511"},"statement":[{"title":"Problem Description","content":"This problem is about two very common functions $~min(a, b)~$ and $~max(a, b)~$, the function $~min(a, b)~$ returns the smaller of $~a~$ and $~b~$, and function $~max(a, b)~$ returns the bigger one.<br><br>Now, you are given a permutation $a_1, a_2,...,a_n$, and $~m~$ expressions, the $~ith~$ expression will one of the follows<br><br>1. $b_i = min(X, Y)$<br>2. $b_i = max(X, Y)$<br><br>Where $~X~$, $~Y~$ can be $~a_j(1 \\leq j \\leq n)~$ or $~b_j(1 \\leq j &lt;i)~$.<br>And the questions is, if we randomly choose permutation $a_1, a_2,...,a_n$ with equal probability, what is the expected value of $~b_m~$.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The input data contains server test case(end with EOF), for each test case<br>The first line contain two integer $~n~$ and $~m~$. ($2 \\leq n \\leq 15, 1 \\leq m \\leq 1000$)<br>Then following $~m~$ lines, the $ith$ line describe the right side of the $~ith~$ expression(note that the left side is always be $~b_i=~$), and is one of the follows:<br>1. $min\\, tp_0\\, id_0\\, tp_1\\, id_1$<br>2. $max\\, tp_0\\, id_0\\, tp_1\\, id_1$<br>The pair $(tp, id)$ describe one variable, if tp is &apos;a&apos;, then it means $~a_{id}~$, else tp will be &apos;b&apos;, and it means $~b_{id}~$","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"One line contain one integer $E[b_m] \\times n!$, it can be prove, that the result always be an integer.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3 2\nmax a 2 a 3\nmin a 1 b 1\n3 2\nmax a 2 a 3\nmax a 1 b 1</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">10\n18</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2019%D6%D0%C9%BD%B4%F3%D1%A7%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC%A3%A8%D6%D8%CF%D6%C8%FC%A3%A9&amp;source=1&amp;searchmode=source\"> 2019&#x4E2D;&#x5C71;&#x5927;&#x5B66;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x7ADE;&#x8D5B;&#xFF08;&#x91CD;&#x73B0;&#x8D5B;&#xFF09; </a> ","type":"source","format":"html","require":["katex"]}]}