{"title":"wyh2000 and sequence","time_limit":3000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5286","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5286&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5286","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5286"},"statement":[{"title":"Problem Description","content":"Young theoretical computer scientist wyh2000 is concentrating on studying data structures.<br><br>In order to show his wisdom, he gives his students a hard problem.<br><br>Wyh2000 gives a sequence $A_1,A_2,\\ldots,A_n$.He would ask his students $q$ times,each time he gives $l,r$.Suppose $[l, r]$ have $k$ different numbers $c_1,c_2,\\ldots,c_k$,and $c_i$ appears $b_i$ times in the interval $[l, r]$,the students should tell him the value of $\\sum_{i=1}^{k}c_i^{b_i}$ modulo $1000000007$,you should use online algorithm.","type":"description","format":"html"},{"title":"Input","content":"In the first line, there is an integer $T$ indicates the number of test cases.<br><br>For each case, the first line contains two integers $n,q$,the second line contains $n$ integers $A_1,A_2,\\ldots,A_n$.<br><br>In the next $q$ lines,each line contains 2 intergers $a,b$.Query parameters $l,r$ are obtained from the numbers $a,b$.$l=\\min((a \\oplus la)\\%n+1,(b \\oplus la)\\%n+1),r=\\max((a \\oplus la)\\%n+1,(b \\oplus la)\\%n+1)$<br><br>The $\\oplus$ means xor,and $la$ equals the response for the previous query.$la=0$ when each case begin.<br><br>$T\\leq5,1\\leq A_i,a,b\\leq10^9$<br><br>In the $i$th case,$1\\leq n,q\\leq i\\times10000$","type":"input_format","format":"html"},{"title":"Output","content":"Print a response for each query in a separate line.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n5 3\n2 1 2 3 1\n10 14\n9 8\n8 7\n5 2\n2 3 3 2 2\n7 4\n3 6</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">8\n3\n6\n7\n13\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nIn the first case&#xFFFD;&#xFFFD;the inquiry intervals are $[1,5],[1,2],[2,5]$.\nIn the second case&#xFFFD;&#xFFFD;the inquiry intervals are $[3,5],[2,5]$.\nDon&apos;t add extra spaces after any line of your hack data.\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%2348+%28%24%29&amp;source=1&amp;searchmode=source\"> BestCoder Round #48 ($) </a> ","type":"source","format":"html"}]}