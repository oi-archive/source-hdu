{"title":"Question for the Leader","time_limit":4000,"memory_limit":256,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5329","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5329&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5329","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5329"},"statement":[{"title":"Problem Description","content":"JRY is the leader of a village. He has $n$ lands, and there are $n$ roads connecting them. There is at most one road connecting two lands and all lands are connected.<br><br>Now, JRY wants to divided the $n$ lands into $k$ disjoint sets of equal size, satisfying that one can move between any two lands belonging to the same set passing only through lands frome this set.<br><br>Furthermore, he wants to know how many $k(1\\leq k\\leq n)$ he can choose.","type":"description","format":"html"},{"title":"Input","content":"There are multiple testcases, the sum of $n$ is less then $10^6$.<br><br>For each test case, the first line contains one integer $n(1\\leq n\\leq 10^5)$.<br><br>The next line contains $n$ integers, the $i$-th integer $a_i$ means that there is an edge between $i$ and $a_i$. It is guaranteed that the graph doesn&apos;t contain self loops and multiple edges.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each testcase print a single integer - the number of ways to choose the integer $k$.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6\n2 3 4 5 6 1\n6\n2 4 2 3 4 3</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n3\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nCase 1 : $k$ = 1,2,3,6\nCase 2:  $k$ = 1,3,6\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Author","content":"XJZX","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2015+Multi-University+Training+Contest+4&amp;source=1&amp;searchmode=source\"> 2015 Multi-University Training Contest 4 </a> ","type":"source","format":"html"}]}