{"title":"Balanced Sequence","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6299","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6299&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6299","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6299"},"statement":[{"title":"Problem Description","content":"Chiaki has $n$ strings $s_1,s_2,\\dots,s_n$ consisting of &apos;(&apos; and &apos;)&apos;. A string of this type is said to be balanced:<br><br>+ if it is the empty string<br>+ if $A$ and $B$ are balanced, $AB$ is balanced,<br>+ if $A$ is balanced, $(A)$ is balanced.<br><br>Chiaki can reorder the strings and then concatenate them get a new string $t$. Let $f(t)$ be the length of the longest balanced subsequence (not necessary continuous) of $t$. Chiaki would like to know the maximum value of $f(t)$ for all possible $t$.<br>","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases. The first line of input contains an integer $T$, indicating the number of test cases. For each test case:<br>The first line contains an integer $n$ ($1 \\le n \\le 10^5$) -- the number of strings.<br>Each of the next $n$ lines contains a string $s_i$ ($1 \\le |s_i| \\le 10^5$) consisting of `(&apos; and `)&apos;.<br>It is guaranteed that the sum of all $|s_i|$ does not exceeds $5 \\times 10^6$.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output an integer denoting the answer.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n1\n)()(()(\n2\n)\n)(</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n2</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2018+Multi-University+Training+Contest+1&amp;source=1&amp;searchmode=source\"> 2018 Multi-University Training Contest 1 </a> ","type":"source","format":"html"}]}