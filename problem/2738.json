{"title":"Frugal Search","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2738","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2738&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2738","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2738"},"statement":[{"title":"Problem Description","content":"For this problem you will write a search engine that takes a query, searches a collection of words, and finds the lexicographically smallest word that matches the query (i.e., the matching word that would appear first in an English dictionary). A query is a sequence of one or more terms separated by single vertical bars (&quot;|&quot;). A term is one or more letters followed by zero or more signed letters. A signed letter is either +s (&quot;positive&quot; s) or -s (&quot;negative&quot; s), where s is a single letter. All letters are lowercase, and no letter will appear more than once within a term. A query will not contain spaces. A term matches a word if the word contains at least one of the unsigned letters, all of the positive letters, and none of the negative letters; a query matches a word if at least one of its terms matches the word.","type":"description","format":"html"},{"title":"Input","content":"The input consists of one or more test cases followed by a line containing only &quot;#&quot; that signals the end of the input. Each test case consists of 1&#xFFFD;C100 words, each on a line by itself, followed by a line containing only &quot;*&quot; that marks the end of the word list, followed by one or more queries, each on a line by itself, followed by a line containing only &quot;**&quot; that marks the end of the test case. Each word will consist of 1&#xFFFD;C20 lowercase letters. All words within a test case will be unique. Each query will be as defined above and will be 1&#xFFFD;C79 characters long.","type":"input_format","format":"html"},{"title":"Output","content":"For each query, output a single line containing the lexicographically smallest word within that test case that matches the query, or the word NONE if there is no matching word. At the end of each test case, output a dollar sign on a line by itself.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">elk\ncow\nbat\n*\nea\nacm+e\nnm+o|jk+l\n**\ndebian\nslackware\ngentoo\nubuntu\nsuse\nfedora\nmepis\n*\nyts\ncab-e+n\nr-e|zjq|i+t|vs-p+e-u-c\n**\n#</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">bat\nNONE\nelk\n$\ngentoo\nubuntu\nNONE\n$</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=Mid-Central+USA+2006&amp;source=1&amp;searchmode=source\"> Mid-Central USA 2006 </a> ","type":"source","format":"html"}]}