{"title":"Rikka with Sequence","time_limit":3000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5828","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5828&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5828","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5828"},"statement":[{"title":"Problem Description","content":"As we know, Rikka is poor at math. Yuta is worrying about this situation, so he gives Rikka some math tasks to practice. There is one of them:<br><br>Yuta has an array A with n numbers. Then he makes m operations on it. <br><br>There are three type of operations:<br><br>1 l r x : For each i in [l,r], change A[i] to A[i]+x<br>2 l r : For each i in [l,r], change A[i] to $\\lfloor \\sqrt A[i] \\rfloor$<br>3 l r : Yuta wants Rikka to sum up A[i] for all i in [l,r]<br><br>It is too difficult for Rikka. Can you help her?","type":"description","format":"html"},{"title":"Input","content":"The first line contains a number t(1&lt;=t&lt;=100), the number of the testcases. And there are no more than 5 testcases with n&gt;1000.<br><br>For each testcase, the first line contains two numbers n,m(1&lt;=n,m&lt;=100000). The second line contains n numbers A[1]~A[n]. Then m lines follow, each line describe an operation.<br><br>It is guaranteed that 1&lt;=A[i],x&lt;=100000.","type":"input_format","format":"html"},{"title":"Output","content":"For each operation of type 3, print a lines contains one number -- the answer of the query.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n5 5\n1 2 3 4 5\n1 3 5 2\n2 1 4\n3 2 4\n2 3 5\n3 1 5</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\n6</div></pre>","type":"example","format":"html"},{"title":"Author","content":"&#x5B66;&#x519B;&#x4E2D;&#x5B66;","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2016+Multi-University+Training+Contest+8&amp;source=1&amp;searchmode=source\"> 2016 Multi-University Training Contest 8 </a> ","type":"source","format":"html"}]}