{"title":"DZY Loves Inversions","time_limit":2000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5196","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5196&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5196","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5196"},"statement":[{"title":"Problem Description","content":"DZY has a array $a$, consisting of $n$  positive integers, indexed from 1 to $n$. <br><br>Let&apos;s denote the number with index $i$ as $a_i$.<br><br>DZY wants to count, with a given pair ($l,r$)$(l\\leq r)$, how many pairs of integers $i$ and $j$ are there, such that $l \\leq i \\leq j \\leq r$ and the sequence $b=a_{i}a_{i+1}\\cdots a_{j}$ has exactly $k$ inversions.<br><br>Moreover, DZY has $q$ queries.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The input consists several test cases.($TestCase\\leq 5$)<br><br>The first line contains three integers $n, q, k(1 \\leq n \\leq 10^5, 1 \\leq q \\leq 10^5, 0 \\leq k \\leq 10^{18})$.<br><br>The next line contains $n$ positive integers, separated by single spaces, $a_1,a_2,\\cdots ,a_n(1 \\leq a_i \\leq 10^9)$.<br><br>Each of the next $q$ lines has two integers: $l,r$, representing a query.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each query, please print a line containing the answer. ","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6 4 1\n3 1 5 4 2 6\n2 4\n2 3\n3 4\n1 5</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n0\n1\n5\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>query 1. (2,4), (3,4) are ok.\nquery 2. No such pair. \nquery 3. (3,4) is ok.\nquery 4. (1,2), (1,3), (2,4), (3,4), (4,5) are ok.</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%2335&amp;source=1&amp;searchmode=source\"> BestCoder Round #35 </a> ","type":"source","format":"html","require":["katex"]}]}