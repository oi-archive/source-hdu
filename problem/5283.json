{"title":"Senior's Fish","time_limit":7000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5283","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5283&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5283","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5283"},"statement":[{"title":"Problem Description","content":"Xuejiejie loves to eat fish. One day, she goes to a pond for fishing. The pond can be seen as a two-dimensional surface, and her fishing net can be seen as a rectangle. One of the edges of the rectangle is parallel to the x-axis ,and another is parallel to y-axis. The fishes can be seen as points. Sometimes the fishes will enter the net, and sometimes they will leave the net. So, Xuejiejie doesn&apos;t know the appropriate time to draw the net in when she will get as many fishes as possible. <br><br>Xuejiejie assigns each fish with a number, from 1 to $n$, $n$ being the total number. There are 2 types of movements of the fishes:<br><br>1 l r d : the fishes index between the interval [l&#xFF0C;r] moved towards the x-axis for length d (For example , if a fish&apos;s current position is $(x,y)$ , after moving , its position will change to $(x+d,y)$. )<br><br>2 l r d : the fishes index between the interval [l&#xFF0C;r] moved towards the y-axis for length d (For example , if a fish&apos;s current position is $(x,y)$, after moving , its position will change to $(x,y+d)$. )<br><br>And sometimes Xuejiejie will ask you some questions.","type":"description","format":"html"},{"title":"Input","content":"In the first line there is an integer $T$, indicates the number of test cases.<br><br>In each case:<br><br>The first line includes an integer $n$ indicating the total number of fish.<br><br>The second line includes 4 integers $x1$&#xFF0C;$y1$&#xFF0C;$x2$&#xFF0C;$y2$&#xFF0C;indicating the  position of the fishing net. $(x1,y1)$ means the lower-left position, and $(x2,y2)$ means the top-right position.<br><br>The next n lines: each line includes $x[i],y[i]$; means the fish i&apos;s initial position.<br><br>The next line includes an integer $m$.<br><br>The next $m$ lines describe the events you have to deal with.<br><br>In each line the first integer is $c$ ($1\\leq c\\leq 3$), which indicates the type of events.<br><br>1 l r d : the fish index between the interval [l&#xFF0C;r] moved towards the x-axis for length d<br><br>2 l r d : the fish index between the interval [l&#xFF0C;r] moved towards the y-axis for length d<br><br>3 l r : query the number of the fish index between the interval [l&#xFF0C;r] which are in the net(including the one in the border)<br><br>$1\\leq n, m\\leq 100000$, $1\\leq l\\leq r\\leq n$. $1\\leq d\\leq 10^9$, $x1\\leq x2$, $y1\\leq y2$&#x3002; Ensure that any time all involved coordinate values in the range of$[-10^9,10^9]$&#x3002;","type":"input_format","format":"html"},{"title":"Output","content":"In each case:<br><br>For each type 3 events, output a integer which means the answer.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n5\n1 1 5 5\n1 1\n2 2\n3 3\n4 4\n5 5\n3\n3 1 5\n1 2 4 2\n3 1 5</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\n4</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%2347+%28%24%29&amp;source=1&amp;searchmode=source\"> BestCoder Round #47 ($) </a> ","type":"source","format":"html"}]}