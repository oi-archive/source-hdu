{"title":"mustedge mustedge mustedge","time_limit":2000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6200","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6200&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6200","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6200"},"statement":[{"title":"Problem Description","content":"Give an connected undirected graph with $n$ nodes and $m$ edges, ($n,m\\leq 10^5$) which has no selfloops or multiple edges $initially$. <br>Now we have $q$ operations ($q\\leq 10^5$): <br>&#xA0;&#xA0;<br> $\\cdot 1\\ u\\ v$: add an undirected edge from $u$ to $v$; $(u \\neq v\\&amp;\\&amp; 1 \\leq u,v \\leq n)$<br> $\\cdot 2\\ u\\ v$: count the number of $mustedges$ from $u$ to $v$; $(1 \\leq u,v \\leq n)$.<br><br>$mustedge$: we define set $E_i$ as a path from $u$ to $v$ which contain edges in this path, and $| \\cap_1^kE_i |$ is the number of $mustedges$. $| x |$ means size of set $x$, and $E_1, E_2\\dots E_k$ means all the paths.<br>It&apos;s guaranteed that $\\sum{n},\\sum{m},\\sum{q}\\leq 10^6$<br>Please note that maybe there are more than one edges between two nodes after we add edges. They are not the same, which means they can be in a set at the same time. Read the sample data for more information.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"Input starts with an integer $T$, denoting the number of test cases.<br>For each case:<br>First line are two number $n$ and $m$;<br>Then next $m$ lines, each contains two integers $u$ and $v$, which indicates an undirected edge from $u$ to $v$;<br>Next line contains a number $q$, the number of operations;<br>Then next $q$ lines, contains three integers $x$, $u$ and $v$ where $x$ is the operation type, which describes an operation.<br><br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output &quot;Case #x:&quot; where $x$ is the test case number starting from 1.<br>In each test case, print a single number one line when query the number of $mustedges$.<br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n4 3\n1 2\n2 3\n3 4\n5\n2 1 4\n1 2 3\n2 1 4\n2 2 3\n2 2 4\n8 9\n1 2\n2 3\n1 3\n3 4\n4 5\n4 6\n5 7\n5 8\n7 8\n5\n2 7 8\n2 1 6\n2 4 7\n1 6 8\n2 5 6</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1:\n3\n2\n0\n1\nCase #2:\n0\n2\n1\n0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2017+ACM%2FICPC+Asia+Regional+Shenyang+Online&amp;source=1&amp;searchmode=source\"> 2017 ACM/ICPC Asia Regional Shenyang Online </a> ","type":"source","format":"html","require":["katex"]}]}