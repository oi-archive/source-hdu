{"title":"Operation the Sequence","time_limit":1500,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5063","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5063&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5063","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5063"},"statement":[{"title":"Problem Description","content":"You have an array consisting of n integers: $a_1=1, a_2=2, a_3=3, \\ldots, a_n=n$. Then give you m operators, you should process all the operators in order. Each operator is one of four types:<br>Type1: O 1 call fun1();<br>Type2: O 2 call fun2();<br>Type3: O 3 call fun3();<br>Type4: Q i query current value of a[i], <b>this operator will have at most 50</b>.<br>Global Variables: a[1&#x2026;n],b[1&#x2026;n];<br>fun1() {<br>    index=1;<br>&#xA0;&#xA0;for(i=1; i&lt;=n; i +=2) <br>&#xA0;&#xA0;&#xA0;&#xA0;b[index++]=a[i];<br>&#xA0;&#xA0;for(i=2; i&lt;=n; i +=2)<br>&#xA0;&#xA0;&#xA0;&#xA0;b[index++]=a[i];<br>&#xA0;&#xA0;for(i=1; i&lt;=n; ++i)<br>&#xA0;&#xA0;&#xA0;&#xA0;a[i]=b[i];<br>}<br>fun2() {<br>&#xA0;&#xA0;L = 1;R = n;<br>&#xA0;&#xA0;while(L&lt;R) {<br>&#xA0;&#xA0;&#xA0;&#xA0;Swap(a[L], a[R]); <br>&#xA0;&#xA0;&#xA0;&#xA0;++L;--R;<br>&#xA0;&#xA0;}<br>}<br>fun3() {<br>&#xA0;&#xA0;for(i=1; i&lt;=n; ++i) <br>&#xA0;&#xA0;&#xA0;&#xA0;a[i]=a[i]*a[i];<br>}","type":"description","format":"html"},{"title":"Input","content":"The first line in the input file is an integer $T(1 \\leq T \\leq 20)$, indicating the number of test cases.<br>The first line of each test case contains two integer $n(0&lt;n \\leq 100000)$, $m(0&lt;m \\leq 100000)$.<br>Then m lines follow, each line represent an operator above.","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output the query values, the values may be so large, you just output the values mod 1000000007(1e9+7).","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n3 5\nO 1\nO 2\nQ 1\nO 3\nQ 1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n4</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%2313&amp;source=1&amp;searchmode=source\"> BestCoder Round #13 </a> ","type":"source","format":"html"}]}