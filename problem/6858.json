{"title":"Discovery of Cycles","time_limit":4000,"memory_limit":512,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6858","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6858&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6858","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6858"},"statement":[{"title":"Problem Description","content":"<b>It is preferrable to read the pdf statment.</b><br><br>In response to the 8202 Olympics, Quber City, which was the host of the competition, is planning to build a magnificent stadium. The stadium is nowhere close to traditional stadiums that are typically embedded with a cyclic running trail. According to the plan, there are $n$ service spots in the stadium, and $m$ undirected running trails connecting them. Such adventurous design has brought worldwide attention to the stadium, but also comes with a huge cost.<br><br>Therefore the designers are working to simplify the design to cut down the cost. They discovered that the easiest way to do this is to sort the $m$ running trails in some particular order, and keep only some consecutive trails in the list. Since only part of the trails will be built, fund will be saved and everyone will be happy --- perhaps except those long-distance runners who needs a cyclic trail for the competition. A cyclic trail is a trail that starts at some service spot, passes through some distinct spots, before getting back to where it starts. All the running trails that have been used are required to be distinct. (This is by definition a <b>simple cycle</b> if you are familiar with terms in graph theory.)<br><br>Your task is to write a program that can quickly check, whether one can find at least one simple cycle, given that the stadium is built with some particular running trails selected consecutively from the trail list.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line of the input contains a single integer $T$ ($1\\le T\\le 10$), denoting the number of test cases.<br><br>For each of the next $T$ cases, the first line contains three space-separated integers $n$, $m$, $q$ ($1\\le n,m,q \\le 3\\cdot 10^5$), denoting the number of service spots, number of running trails in the initial plan, and the number of queries.<br><br>In the next $m$ lines, the $i$-th line contains two space-separated integers $u_i$, $v_i$ ($1\\le u_i,v_i\\le n$, $u_i\\ne v_i$).<br><br>Each of the next $q$ lines contains two space-separated integers $l&apos;$, $r&apos;$ ($1\\le l&apos;\\le r&apos;\\le m$). $l$ and $r$ can be calculated via the following procedure. <br><br><ul><br><li> Let $\\text{lastans}$ denote the answer to the last query (if the answer is &apos;&apos;Yes&apos;&apos;, $\\text{lastans} = 1$, otherwise $\\text{lastans}=0$) and is initially zero.</li><br><li> $k_1=(l&apos;\\; \\text{xor}\\; \\text{lastans})\\; \\text{mod}\\; m + 1$.</li><br><li> $k_2=(r&apos;\\; \\text{xor}\\; \\text{lastans})\\; \\text{mod}\\; m + 1$.</li><br><li> $l = \\min(k_1, k_2)$.</li><br><li> $r = \\max(k_1, k_2)$.</li><br></ul><br><br>$l$ and $r$ means the edges in $[l, r]$ will be chosen. That means, for this query, only edges $(u_l, v_l), (u_{l+1}, v_{l+1}), \\ldots, (u_r, v_r)$ are visible.<br><br>It is guaranteed that $\\sum n,\\sum m \\le 1.5\\cdot 10^6$.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For every query, output &apos;&apos;Yes&apos;&apos; in one line if edges that are chosen forms at least one cyclic trail, otherwise output &apos;&apos;No&apos;&apos; in one line.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n3 4 3\n1 2\n1 2\n2 3\n3 1\n1 4\n2 3\n2 4</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Yes\nNo\nYes</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2020+Multi-University+Training+Contest+8&amp;source=1&amp;searchmode=source\"> 2020 Multi-University Training Contest 8 </a> ","type":"source","format":"html","require":["katex"]}]}