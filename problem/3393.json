{"title":"Precious","time_limit":5000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3393","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3393&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3393","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3393"},"statement":[{"title":"Problem Description","content":"Gollum is finding his Precious. The precious is hiding in a magic maze. The maze can be considered as a simple polygon. Some vertexes of the polygon are doors that can only allow Gollum to get in, and the other doors can only allow Gollum to get out.<br>Gollum doesn&#xFFFD;&#xFFFD;t know that restrict, he choose a door to get in, and choose a door to get out after he has got his precious. Gollum hasn&#xFFFD;&#xFFFD;t learned math, so we believe that Gollum choose the door randomly, that means if there are n doors, the probability of a door chose by Gollum is 1/n.<br>There is a monster in the maze, and if Gollum stay in the maze more than m minutes, the monster will wake up and eat Gollum. Gollum can move one unit distance by one minute.<br>We want to know the probability that Gollum got his precious.","type":"description","format":"html"},{"title":"Input","content":"The input consists of multiply test cases. The first line of each test case contains two integers, n (3 &lt;= n &lt;= 100), m (0 &lt;= m &lt;= 10000), where n is the number of vertexes of the maze, and m is the time limit. The next n lines represent the maze, each line contains a coordinate, x, y (-10000 &lt;= x, y &lt;= 10000) and a DoorType. If DoorType equals to -1, then you can get in from this vertex; if DoorType equals to 0, then it&#xFFFD;&#xFFFD;s not a door; if DoorType equals to 1, then you can get out from this vertex. The last line of each test case is a coordinate, indicating the location of the precious. You can assume that the precious is always in the maze.<br>The last test case is followed by a line containing two zeros, which means the end of the input.","type":"input_format","format":"html"},{"title":"Output","content":"Output the probability. Please take it with 9 factional digits.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">12 4\n-2 -1 -1\n-1 -1 -1\n-1 -2 -1\n1 -2 -1\n1 -1 -1\n2 -1 -1\n2 1 1\n1 1 1\n1 2 1\n-1 2 1\n-1 1 1\n-2 1 1\n0 0\n0 0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">0.138888889</div></pre>","type":"example","format":"html"},{"title":"Author","content":"momodi@whu","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=The+5th+Guangting+Cup+Central+China+Invitational+Programming+Contest&amp;source=1&amp;searchmode=source\"> The 5th Guangting Cup Central China Invitational Programming Contest </a> ","type":"source","format":"html"}]}