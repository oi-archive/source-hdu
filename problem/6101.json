{"title":"Gumballs&Dungeons","time_limit":1000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6101","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6101&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6101","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6101"},"statement":[{"title":"Problem Description","content":"Warriors Gumball goes to a maze which has N * M cells.<br>There are seven monsters in this maze, numbered from 0 to 6. Each monster has HP and ATK.<br><br>There are 4 types of buff in the maze&#xFF1A;<br>1. ATK buff : increase Ab attack point (ATK)<br>2. DEF buff : increase Db defense point (DEF)<br>3. HP buff : increase Hb health point (HP)<br>4. MP buff : increase Mb magic point (MP)<br><br>Warriors Gumball is a great Gumball. At first he has As ATK, Ds DEF, Hs HP and Ms MP. And he can use 3 types of magic:<br>1. Drainage of magic : increase Hm HP<br>2. Light spells : increase Am ATK<br>3. Earth magic : increase Dm DEF<br>Each magic which Warriors used will consume Mm MP.<br><br>The meaning of the symbols in the maze:<br>&apos;S&apos; : initial position of Warriors Gumball, &#x2018;S&#x2019; only appear once.<br>&apos;#&apos; : obstacle, can&apos;t move to this cell<br>&apos;.&apos; : empty, can move to this cell<br>&apos;A&apos; : ATK buff<br>&apos;D&apos; : DEF buff<br>&apos;H&apos; : HP buff<br>&apos;M&apos; : MP buff<br>&apos;0&apos; - &apos;6&apos; : denotes monster. This cell can be moved in only if this monster is killed.Each number only appear once.<br><br>Each step Warriors Gumball can move in four directions(up, down, left, right).<br><br>If Warriors Gumball want to kill a monster, he will attack monster.<br>In every attack, If Warriors Gumball&apos;s DEF not less than monster&#x2019;s ATK, He will not get hurt. Otherwise Warriors Gumball&apos;s HP will reduce the value equivalent to the difference between monster&apos;s ATK and Warriors Gumball&apos;s DEF. monster&apos;s HP will reduce the value equivalent to Gumball&apos;s ATK. Warriors Gumball&#x2019;s HP and monster&#x2019;s HP will reduce at the same time.<br>If the monster&apos;s HP reduced to less than or equal to 0, the monster will die.<br>But if Warriors Gumball&apos;s HP reduced to less than or equal to 0, he will die and game over.<br><br>He wants to know the maximum HP can be remained when he kill all monsters(When all the monsters are killed, you can still explore the maze). Can you help him?","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line is an integer T which indicates the case number.<br>And as for each case, first line is two integer N and M which indicates the size of maze.<br>Next N line, each line M character which indicates the maze.<br>Next seven line, each line is two integer A and H, which indicates the monsters ATK and HP<br>Next line is four integer As, Ds, Hs, Ms which indicates Warriors Gumball initial state<br>Next line is four integer Am, Dm, Hm, Mm which indicates information of magic<br>Next line is four integer Ab, Db, Hb, Mb which indicates information of buff<br><br>Limit<br>$1 \\leq T \\leq 20$<br>$1 \\leq N, M \\leq 100$<br>$1 \\leq Ai, Hi \\leq 20$<br>$1 \\leq As, Ds, Hs, Ms \\leq 100000$<br>$1 \\leq Am, Dm, Hm, Mm \\leq 100000$<br>$1 \\leq Ab, Db, Hb, Mb \\leq 100000$<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"As for each case, you need to output one integer which indicate the answer.<br>If Warriors Gumball can&#x2019;t achieve goal, output -1.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n4 4\nS012\n###M\n###4\nH365\n2 2\n2 2\n18 2\n2 2\n2 2\n2 2\n2 2\n1 1 20 1\n1 1 1 1\n1 1 10 1\n4 4\nS012\n###M\n###4\nH365\n2 2\n2 2\n2 2\n19 2\n2 2\n2 2\n2 2\n1 1 20 1\n1 1 1 1\n1 1 10 1</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">11\n13</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2017+Multi-University+Training+Contest+-+Team+6&amp;source=1&amp;searchmode=source\"> 2017 Multi-University Training Contest - Team 6 </a> ","type":"source","format":"html","require":["katex"]}]}