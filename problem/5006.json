{"title":"Resistance","time_limit":3000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5006","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5006&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5006","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5006"},"statement":[{"title":"Problem Description","content":"Recently DRD got a number of wires. Some of the wires have the resistance 1 ohm while the others have the resistance 0 ohm. Each wire has probability 50% to be 0 ohm or 1 ohm.<br><br>Now ATM gets a circuit board. There are N points in the circuit board. DRD wants to connect these points using his wires. He chooses a wire randomly and chooses two points in the board randomly. Then he will connect the two points using the wire he chooses. DRD will use M wires. Note that it&apos;s possible that there exist two points which are not connected by wires.<br><br>ATM is interested in the equivalent resistance between the point S and point T. Since they lack of instruments, they want you to calculate the answer. ","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line contains an integer T, denoting the number of the test cases.<br><br>For each test case: The first line contains 4 integers: N, M, S, and T. For each of the next M lines, it contains 3 integers: u, v, and c, representing that DRD uses a wire, whose resistance is c, to connect the point u and v. It&apos;s guaranteed that 1 &lt;= N &lt;= 10000 and M = 4*N. 1 &lt;= u, v &lt;= N. c is randomly chosen from {0, 1} and u and v are randomly chosen from {1, 2, ..., N}. Note that u can equal v. ","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output a real number. There must be exactly 6 digits after the decimal point. If S and T are not connected by wires, output &quot;inf&quot; (without quotes) instead.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n10 40 6 1\n9 4 1\n7 3 1\n10 1 0\n5 2 0\n6 7 1\n7 3 1\n3 5 1\n3 6 1\n8 10 0\n8 3 0\n7 3 1\n3 9 1\n2 8 1\n10 5 0\n10 2 1\n10 9 1\n9 1 0\n7 5 1\n10 2 0\n8 1 0\n2 8 0\n10 2 0\n1 5 0\n5 4 0\n7 4 1\n8 5 1\n4 3 1\n6 1 1\n5 10 0\n3 9 1\n5 1 0\n9 2 1\n3 4 1\n5 8 0\n3 5 1\n3 4 1\n2 7 0\n4 4 0\n1 8 0\n10 10 0\n10 40 2 1\n5 6 1\n8 10 1\n3 8 1\n8 5 0\n6 4 1\n9 9 1\n3 6 1\n2 4 1\n9 8 0\n9 3 0\n7 7 1\n8 6 1\n10 4 1\n1 3 0\n2 8 1\n9 8 0\n8 1 1\n6 4 0\n3 4 0\n1 4 0\n1 10 0\n9 10 0\n6 1 1\n3 1 1\n5 4 0\n1 2 1\n7 2 1\n10 9 0\n6 1 0\n10 3 1\n8 6 1\n1 4 0\n1 1 0\n4 3 0\n1 8 0\n7 10 1\n10 6 0\n4 5 0\n2 2 0\n4 2 1</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">0.333333\n0.222222</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+ACM%2FICPC+Asia+Regional+Anshan+Online&amp;source=1&amp;searchmode=source\"> 2014 ACM/ICPC Asia Regional Anshan Online </a> ","type":"source","format":"html","require":["katex"]}]}