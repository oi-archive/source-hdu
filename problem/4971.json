{"title":"A simple brute force problem.","time_limit":1000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4971","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4971&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4971","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4971"},"statement":[{"title":"Problem Description","content":"   There&apos;s a company with several projects to be done. Finish a project will get you profits. However, there are some technical problems for some specific projects. To solve the problem, the manager will train his employee which may cost his budget. There may be dependencies between technical problems, for example, A requires B means you need to solve problem B before solving problem A. If A requires B and B requires A, it means that you should solve them at the same time. You can select which problems to be solved and how to solve them freely before finish your projects. Can you tell me the maximum profit?<br>","type":"description","format":"html"},{"title":"Input","content":"   The first line of the input is a single integer T(&lt;=100) which is the number of test cases. <br><br>   Each test case contains a line with two integer n(&lt;=20) and m(&lt;=50) which is the number of project to select to complete and the number of technical problem.<br><br>   Then a line with n integers. The i-th integer(&lt;=1000) means the profit of complete the i-th project.<br><br>   Then a line with m integers. The i-th integer(&lt;=1000) means the cost of training to solve the i-th technical problem.<br><br>   Then n lines. Each line contains some integers. The first integer k is the number of technical problems, followed by k integers implying the technical problems need to solve for the i-th project.<br><br>   After that, there are m lines with each line contains m integers. If the i-th row of the j-th column is 1, it means that you need to solve the i-th problem before solve the j-th problem. Otherwise the i-th row of the j-th column is 0.","type":"input_format","format":"html"},{"title":"Output","content":"   For each test case, please output a line which is &quot;Case #X: Y &quot;, X means the number of the test case and Y means the the maximum profit.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n2 3\n10 10\n6 6 6\n2 0 1\n2 1 2\n0 1 0\n1 0 0\n0 0 0\n2 3\n10 10\n8 10 6\n1 0\n1 2\n0 1 0\n1 0 0\n0 0 0\n2 3\n10 10\n8 10 6\n1 0\n1 2\n0 1 0\n0 0 0\n0 0 0\n2 3\n10 10\n8 10 6\n1 0\n1 2\n0 0 0\n1 0 0\n0 0 0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1: 2\nCase #2: 4\nCase #3: 4\nCase #4: 6</div></pre>","type":"example","format":"html"},{"title":"Author","content":"BJTU","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+Multi-University+Training+Contest+10&amp;source=1&amp;searchmode=source\"> 2014 Multi-University Training Contest 10 </a> ","type":"source","format":"html"}]}