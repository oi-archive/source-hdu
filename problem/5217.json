{"title":"Brackets","time_limit":10000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5217","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5217&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5217","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5217"},"statement":[{"title":"Problem Description","content":"Miceren likes playing with brackets. <br><br>There are $N$ brackets on his desk forming a sequence. In his spare time, he will do $Q$ operations on this sequence, each operation is either of these two types: <br><br>1. Flip the $X$-th bracket, i.e. the $X$-th bracket will become ) if it is ( before, otherwise become ( .<br><br>2. In a given subsequence $[L,~R]$, query the $K$-th bracket position number after deleting all matched brackets. If the amount of brackets left is less than $K$, output -1. <br>For example, if $N$ = 10, $L$ = 2, $R$ = 9 and the sequence is ))(()))((). In the sub sequence [2, 9], the brackets sequence is )(()))((. After deleting all matched brackets, the sequence becomes ) )((. If $K$ = 1, answer is 2. If $K$ = 2, answer is 7. If $K$ = 3, answer is 8. If $K$ = 4, answer is 9. If $K~\\ge~5$, answer is -1.<br><br>Miceren is good at playing brackets, instead of calculating them by himself. <br><br>As his friend, can you help him?","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line contains a single integer $T$, indicating the number of test cases.<br><br>Each test case begins with two integers $N,~Q$, indicating the number of brackets in Miceren&apos;s desk and the number of queries. <br><br>Each of following $Q$ lines describes an operation: if it is &quot;1 X&quot;, it indicate the first type of operation. Otherwise it will be &quot;2 L R K&quot;, indicating the second type of operation.<br><br>$T$ is about 100.<br><br>$1~\\le~N, Q~\\le~200000.$<br><br>For each query, $1~\\le~X~\\le~N$ and $1~\\le~L~\\le~R~\\le~N$, $1~\\le~K~\\le~N$.<br><br>The ratio of test cases with $N~\\gt~100000$ is less than 10%.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each query operation, output the answer. If there is no $K$ brackets left, output -1.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n10 5\n))(()))(()\n2 2 9 2\n2 2 9 3\n2 2 9 5\n1 3\n2 2 9 5</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">7\n8\n-1\n8</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=%C8%FC%C2%EB%26quot%3BBestCoder%26quot%3B%B1%AD%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%B9%DA%BE%FC%C8%FC&amp;source=1&amp;searchmode=source\"> &#x8D5B;&#x7801;&quot;BestCoder&quot;&#x676F;&#x4E2D;&#x56FD;&#x5927;&#x5B66;&#x751F;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x51A0;&#x519B;&#x8D5B; </a> ","type":"source","format":"html","require":["katex"]}]}