{"title":"Power Stations","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3663","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3663&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3663","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3663"},"statement":[{"title":"Problem Description","content":"There are N towns in our country, and some of them are connected by electricity cables. It is known that every town owns a power station. When a town&#x2019;s power station begins to work, it will provide electric power for this town and the neighboring towns which are connected by cables directly to this town. However, there are some strange bugs in the electric system &#x2013;One town can only receive electric power from no more than one power station, otherwise the cables will be burned out for overload.<br><br>The power stations cannot work all the time. For each station there is an available time range. For example, the power station located on Town 1 may be available from the third day to the fifth day, while the power station on Town 2 may be available from the first day to the forth day. You can choose a sub-range of the available range as the working time for each station. Note that you can only choose one sub-range for each available range, that is, once the station stops working, you cannot restart it again. Of course, it is possible not to use any of them.<br><br>Now you are given all the information about the cable connection between the towns, and all the power stations&#x2019; available time. You need to find out a schedule that every town will get the electricity supply for next D days, one and only one supplier for one town at any time.<br>","type":"description","format":"html"},{"title":"Input","content":"There are several test cases. The first line of each test case contains three integers, N, M and D (1 &lt;= N &lt;= 60, 1 &lt;= M &lt;= 150, 1 &lt;= D &lt;= 5), indicating the number of towns is N, the number of cables is M, and you should plan for the next D days. <br><br>Each of the next M lines contains two integers a, b (1 &lt;= a, b &lt;= N), which means that Town a and Town b are connected directly. Then N lines followed, each contains two numbers si and ei, (1 &lt;= si &lt;= ei &lt;= D) indicating that the available time of Town i&#x2019;s power station is from the si-th day to the ei-th day (inclusive).<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, if the plan exists, output N lines. The i-th line should contain two integers ui and vi, indicating that Town i&#x2019;s power station should work from the ui-th day to vi-day (inclusive). If you didn&#x2019;t use this power station at all, set ui = vi = 0.<br><br>If the plan doesn&#x2019;t exist, output one line contains &#x201C;No solution&#x201D; instead. <br><br>Note that the answer may not be unique. Any correct answers will be OK.<br><br>Output a blank line after each case.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3 3 5\n1 2\n2 3\n3 1\n1 5\n1 5\n1 5\n\n4 4 5\n1 2\n2 3\n3 4\n4 1\n1 5\n1 5\n1 5\n1 5</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1 5\n0 0\n0 0\n\nNo solution</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2010+Asia+Regional+Harbin&amp;source=1&amp;searchmode=source\"> 2010 Asia Regional Harbin </a> ","type":"source","format":"html"}]}