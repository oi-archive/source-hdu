{"title":"ACM Rank","time_limit":2000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5096","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5096&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5096","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5096"},"statement":[{"title":"Problem Description","content":"   &quot;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD; A problem is solved when it is accepted by the judges.  Teams are ranked according to the most problems solved. Teams who solve the same number of problems are ranked by least total time. The total time is the sum of the time consumed for each problem solved. The time consumed for a solved problem is the time elapsed from the beginning of the contest to the submittal of the accepted run plus 20 penalty minutes for every rejected run for that problem regardless of submittal time. There is no time consumed for a problem that is not solved.&quot;<br>                                                                             - ACM/ICPC Contest Rules<br><br>You are writing a new ranking system for ACM/ICPC Contests. During a contest, you may receive the following kinds of request from participants:<br><br>&#xFFFD;&#xFFFD;   <b>Submission</b><br>(Format:  S [minute]:[Team No]:[Problem ID]:[Result])<br>If a team submits a problem which they have already solved, or the last valid submission of the same team is less than 5 minutes ago, then this submission should be considered invalid and ignored by your system; otherwise, the submission is valid and saved for further processing - if the result is 1 (Correct), then this submission should be considered accepted by the system. <br><br>&#xFFFD;&#xFFFD;   <b>Query a team&apos;s rank on the rank list.</b><br>(Format: R [Team No]) <br>Sort the teams according to the contest rules mentioned above. A tie may occur between two teams who solved equal number of problems and same penalty. <br>A rank list example can see below.<br><br><center><img style=\"max-width:100%;\" src=\"../../data/images/C541-1007-1.jpg\"></center><br>Two teams who solved same amount of problems and have same penalty always have same rank.<br><br>&#xFFFD;&#xFFFD;   <b>Query the team with rank K on the rank list.</b><br>(Format: T [k])<br>If a tie occurs, i.e. there are more than one team with rank K, return the team which the first get last accepted submission (according to the input order) (If they are all zero solved problem , just return the team with small number). If there is not a team with rank K, return -1 instead.<br><br>   Initially every team has no submissions, and the contest will last no more than 5 hours.","type":"description","format":"html"},{"title":"Input","content":"   There are multiple test cases in the input. Each test case starts with two integers, N and M, (1 &lt;= N &lt;= 10000, 1 &lt;= M &lt;= 10), the number of teams participating in the competition, and the total number of problems in the contest. Teams are numbered from 0 to N - 1. Each of the following lines is either in one of the three formats listed above, or a single line &quot;Contest Ends&quot; followed by an empty line indicating the end of current test case. It is guaranteed that there are no more than 100000 requests in each test case. Input ends with End-of-File.","type":"input_format","format":"html"},{"title":"Output","content":"   For every submission request, if the submitted program is accepted, you need to output a line whose format is [Team No] [Problem ID]; for every query about team&apos;s rank on the rank list, output the result in one single line; for every query about the team with the rank K, if a team is found, output a line with one integer, the number of the team, or -1 if you are unable to find such a team. Please print a blank line after each test case. If there are multiple teams with rank K, output the team which the first get last accepted submission (according to the input order) (If they are all zero solved problem , just return the team with small number).","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5 8\nS 5:0:A:0\nS 8:0:A:1\nS 9:1:B:1\nS 15:0:A:1\nT 1\nT 2\nT 3\nR 0\nR 1\nR 2\nR 3\nContest Ends</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">[1][B]\n[0][A]\n1\n0\n2\n2\n1\n3\n3</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014%C9%CF%BA%A3%C8%AB%B9%FA%D1%FB%C7%EB%C8%FC%A1%AA%A1%AA%CC%E2%C4%BF%D6%D8%CF%D6%A3%A8%B8%D0%D0%BB%C9%CF%BA%A3%B4%F3%D1%A7%CC%E1%B9%A9%CC%E2%C4%BF%A3%A9&amp;source=1&amp;searchmode=source\"> 2014&#xFFFD;&#x3FA;&#xFFFD;&#x22B;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x13F;&#xFFFD;&#xFFFD;&#xFFFD;&#x5A3;&#xFFFD;&#xFFFD;&#xFFFD;&#x43B;&#xFFFD;&#x3FA;&#xFFFD;&#xFFFD;&#xFFFD;&#x467;&#xFFFD;&#x1E69;&#xFFFD;&#xFFFD;&#x13F;&#xFFFD;&#xFFFD; </a> ","type":"source","format":"html"}]}