{"title":"Colorful Toy","time_limit":1000,"memory_limit":256,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5080","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5080&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5080","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5080"},"statement":[{"title":"Problem Description","content":"A toy is made up of N vertices and M undirected edges in the 2D plane. As usual, you want to know how many ways there are to color the vertices of the toy. You have totally C colors.  And of course, to make things fun, you think that if one color configuration can be rotated to get another, these two configurations should be considered the same. Rotation means 2D in-plane rotation and reflection is not considered as rotation.<br><br><center><img style=\"max-width:100%;\" src=\"../../data/images/C549-1011-1.jpg\"></center><br>For instance, consider coloring the following toy with 2 colors. The coordinates of the vertices are:<br><br>   1. (0,0)<br>   2. (1,0)<br>   3. (0,1)<br>   4. (-1,0)<br>   5. (0,-1)<br><br>The toy has 6 edges: (1,2), (1,3), (2,3), (3,4), (4,5), (5,2).<br><br>As a 2D being, this toy has no symmetry. So there are 32 ways to color it. Had the first two edges been removed, there would be only 12 different ways.<br><br>You should output the answer modulo 10<sup>9</sup> + 7.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line contains an integer T (T &#x2264; 20) denoting the number of the test cases.<br><br>Each test case begins with three positive integers N (1 &#x2264; N &#x2264; 50), M (0 &#x2264; M &#x2264; N (N - 1)/2) and C(1 &#x2264; C &#x2264; 100).<br><br>Then follow N lines. Each line contains 2 integers in range [-10000,10000] describing a vertex.<br><br>Then follow M lines. Each line contains 2 integers in range [1,N] representing an edge. There are neither duplicate edges nor self-loops.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output one line containing the answer.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n5 6 2\n0 0\n1 0\n0 1\n-1 0\n0 -1\n1 2\n1 3\n2 3\n3 4\n4 5\n5 2\n5 4 2\n0 0\n1 0\n0 1\n-1 0\n0 -1\n2 3\n3 4\n4 5\n5 2</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">32\n12</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+Asia+AnShan+Regional+Contest&amp;source=1&amp;searchmode=source\"> 2014 Asia AnShan Regional Contest </a> ","type":"source","format":"html","require":["katex"]}]}