{"title":"Mosaic","time_limit":5000,"memory_limit":100,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4819","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4819&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4819","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4819"},"statement":[{"title":"Problem Description","content":"The God of sheep decides to pixelate some pictures (i.e., change them into pictures with mosaic). Here&apos;s how he is gonna make it: for each picture, he divides the picture into n x n cells, where each cell is assigned a color value. Then he chooses a cell, and checks the color values in the L x L region whose center is at this specific cell. Assuming the maximum and minimum color values in the region is A and B respectively, he will replace the color value in the chosen cell with floor((A + B) / 2).<br><br>Can you help the God of sheep?","type":"description","format":"html"},{"title":"Input","content":"The first line contains an integer T (T &#xFFFD;&#xFFFD; 5) indicating the number of test cases. Then T test cases follow.<br><br>Each test case begins with an integer n (5 &lt; n &lt; 800). Then the following n rows describe the picture to pixelate, where each row has n integers representing the original color values. The j-th integer in the i-th row is the color value of cell (i, j) of the picture. Color values are nonnegative integers and will not exceed 1,000,000,000 (10^9).<br><br>After the description of the picture, there is an integer Q (Q &#xFFFD;&#xFFFD; 100000 (10^5)), indicating the number of mosaics.<br><br>Then Q actions follow: the i-th row gives the i-th replacement made by the God of sheep: xi, yi, Li (1 &#xFFFD;&#xFFFD; xi, yi &#xFFFD;&#xFFFD; n, 1 &#xFFFD;&#xFFFD; Li &lt; 10000, Li is odd). This means the God of sheep will change the color value in (xi, yi) (located at row xi and column yi) according to the Li x Li region as described above. For example, an query (2, 3, 3) means changing the color value of the cell at the second row and the third column according to region (1, 2) (1, 3), (1, 4), (2, 2), (2, 3), (2, 4), (3, 2), (3, 3), (3, 4). Notice that if the region is not entirely inside the picture, only cells that are both in the region and the picture are considered.<br><br>Note that the God of sheep will do the replacement one by one in the order given in the input.&#xFFFD;&#xFFFD;","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, print a line &quot;Case #t:&quot;(without quotes, t means the index of the test case) at the beginning.<br><br>For each action, print the new color value of the updated cell.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n3\n1 2 3\n4 5 6\n7 8 9\n5\n2 2 1\n3 2 3\n1 1 3\n1 2 3\n2 2 3</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1:\n5\n6\n3\n4\n6</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2013+Asia+Regional+Changchun+&amp;source=1&amp;searchmode=source\"> 2013 Asia Regional Changchun  </a> ","type":"source","format":"html"}]}