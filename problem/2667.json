{"title":"SpaceStation","time_limit":2000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2667","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2667&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2667","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2667"},"statement":[{"title":"Problem Description","content":"N space stations are built in the space, and flights should be set among these space stations. Flights are bidirectional, and connect different space stations. A valid arrangement of flights must satisfy the rules below: <br>1. Every space station can be reached from all others via flights directly or indirectly. <br>2. Because the spaceships are too expensive, the number of flights should be minimal. <br>3. Due to the limited resource of service and communication, the number of flights directly connected to each space station is limited. <br>Here comes the problem: how many different valid arrangements can be set? <br>Two arrangements A and B are different means that, there exists at least one flight in A but not in B, or there exists at least one flight in B but not in A. ","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"    The input contains multiple test cases. <br>    The first line contains an integer T, 0 &lt; T &lt;= 20, representing the number of test cases. <br>    For each test case: <br>    The first line contains an integer N, 0 &lt; N &lt;= 300, representing the number of space stations. The second line contains N integers K1&#x3001;K2 ? KN, 0 &lt;= Ki &lt;= N - 1,Ki, separated by blanks, representing the maximal flights directly connected to the i-th space station. ","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"    For each test case: <br>    Output one line containing an integer ? the number of arrangements in total modulo 9973. ","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2 \n4 \n2 2 2 2 \n4 \n3 3 3 3 </div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">12 \n16 </div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=HDU%C4%D0%C9%FA%D7%A8%B3%A1%B9%AB%BF%AA%C8%FC%A1%AA%A1%AA%B8%CF%D4%DA%C5%AE%C9%FA%D6%AE%C7%B0%CF%C8%B9%FD%BD%DA%A3%A8From+WHU%A3%A9&amp;source=1&amp;searchmode=source\"> HDU&#x7537;&#x751F;&#x4E13;&#x573A;&#x516C;&#x5F00;&#x8D5B;&#x2014;&#x2014;&#x8D76;&#x5728;&#x5973;&#x751F;&#x4E4B;&#x524D;&#x5148;&#x8FC7;&#x8282;&#xFF08;From WHU&#xFF09; </a> ","type":"source","format":"html","require":["katex"]}]}