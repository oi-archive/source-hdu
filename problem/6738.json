{"title":"Houraisan Kaguya","time_limit":15000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6738","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6738&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6738","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6738"},"statement":[{"title":"Problem Description","content":"Houraisan Kaguya is fighting against Fujiwara no Mokou over the moon. Suddenly, Mokou launches a spell &#xFFFD;&#xFFFD;Imperishable Shooting&#xFFFD;&#xFFFD;(just a programming problem, believe it or not) to attack Kaguya, which is as follows.<br>Given a prime number p and n positive integers a1, a2, &#xFFFD;&#xFFFD; &#xFFFD;&#xFFFD; &#xFFFD;&#xFFFD; , an which are strictly less than p.<br>For two integers a, b (0 &#xFFFD;&#xFFFD; a, b &lt; p), we say a is representable by b if and only if there exists a positive integer x that bx &#xFFFD;&#xFFFD; a(mod p). Furthermore, we define f(a, b) as the minimum positive integer u that au modulo p is representable by b. If no such u exists, f(a, b) is specially defined as 0.<br>The problem is to determine the value of following formula.<br>$$(\\sum_{i=1}^{n}\\sum_{j=1}^{n}f(a_i,a_j)\\times f(a_j,a_i)) \\mod p$$<br>Please help Kaguya solve it so that Kaguya can give Mokou the sixth puzzle in the next round.","type":"description","format":"html"},{"title":"Input","content":"The first line contains two positive integers n, p (1 &#xFFFD;&#xFFFD; n &#xFFFD;&#xFFFD; 100 000, 2 &#xFFFD;&#xFFFD; p &#xFFFD;&#xFFFD; 1018), denoting the number of given integers and the given prime number.<br>The next line contains n positive integers ai (1 &#xFFFD;&#xFFFD; ai &lt; p), denoting the given integers.","type":"input_format","format":"html"},{"title":"Output","content":"Output a single line containing a non-negative integer, denoting the answer.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4 5\n1 2 3 4</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=642ccpcQHD&amp;source=1&amp;searchmode=source\"> 642ccpcQHD </a> ","type":"source","format":"html"}]}