{"title":"Clear All of Them II","time_limit":5000,"memory_limit":61.296875,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3921","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3921&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3921","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3921"},"statement":[{"title":"Problem Description","content":"Acmers have been the Earth Protector against the evil enemy for a long long time, now it&#x2019;s your second turn to protect our home.<br>&#xA0;&#xA0;There are 4 * n enemies in the map. Your task is to clear all of them with your super laser gun at the fixed position (x, y).<br>&#xA0;&#xA0;For each laser shot, your laser beam can reflect 3 times (must be 3 times), which means it can kill 4 enemies at one time. And the energy this shot costs is the total length <br>of the laser path.<br>For example, if you are at (0, 0), and use one laser shot kills the 4 enemies in the order of (3, 4), (6, 0), (3, 0), (0, 4), then the energy this shot costs is 5.0 + 5.0 + 3.0 + 5.0<br> = 18. 00.<br>To save the energy, you decide to use the Greedy Algorithm, which means for each shot, you select four existed enemies and decide the reflect order, so that this shot&#x2019;s<br> energy cost is minimum. If there is a tie, we assure that choosing the shot whose four enemies&#x2019; average distance to you is smallest can avoid a tie. (See the sample for <br>more details)<br>Now, telling you your position and the 4n enemies&#x2019; position, can you tell me how much energy you need in total to clear all of them?<br>&#xA0;&#xA0;Note that:<br>&#xA0;&#xA0;    &gt; Each enemy can only be attacked once.<br>&#xA0;&#xA0;    &gt; All the positions will be unique.<br>&#xA0;&#xA0;    &gt; You must attack 4 different enemies in one shot.<br>&#xA0;&#xA0;    &gt; You can&#x2019;t change your position.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line contains a single positive integer T( T &lt;= 20 ), indicates the number of test cases.<br>For each case:<br>&#xA0;&#xA0;There are 2 integers x and y in the first line, which means your position.<br>&#xA0;&#xA0;The second line is an integer n(1 &lt;= n &lt;= 50), denote there are 4n enemies.<br>&#xA0;&#xA0;Then there following 4n lines, each line have 2 integers denote the position of an enemy.<br>&#xA0;&#xA0;All the position integers are between -1000 and 1000.<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case: output the case number as shown and then print a decimal v, which is the energy you need in total to clear all of them (round to 2 decimal places).<br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n\n0 0\n1\n6 0\n3 0\n3 4\n0 4\n\n0 0\n2\n1 0\n2 0\n3 0\n4 0\n1 1\n1 2\n1 3\n1 4</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1: 14.00\nCase #2: 13.00\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>Case #2: \nFor the first shot, \n(0, 0)-&gt;(1, 0)-&gt;(2, 0)-&gt;(3, 0)-&gt;(4, 0) cost 4 energy;\nand (0, 0)-&gt;(1, 0)-&gt;(1, 1)-&gt;(1, 2)-&gt;(1, 3) cost 4 energy, too.\nBut (0, 0)-&gt;(1, 0)-&gt;(1, 1)-&gt;(1, 2)-&gt;(1, 3)&#x2019;s average distance to you(0, 0) is smallest(which is about 1.9531398), so we choose (0, 0)-&gt;(1, 0)-&gt;(1, 1)-&gt;(1, 2)-&gt;(1, 3) \nfor the first shot.</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2011+Multi-University+Training+Contest+9+-+Host+by+BJTU&amp;source=1&amp;searchmode=source\"> 2011 Multi-University Training Contest 9 - Host by BJTU </a> ","type":"source","format":"html","require":["katex"]}]}