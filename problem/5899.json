{"title":"oasis in desert","time_limit":4000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5899","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5899&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5899","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5899"},"statement":[{"title":"Problem Description","content":"There are N oases connected by M roads in the desert,and each road is L km long.Now a traveler who can at most walk K km with his supplies.<br><br>We define two concept now: <br><br>1.The Biggest Dangerous Oasis List: For every pair of oases in the list,their minimum distance should be longer than K km.And the size of The Biggest Dangerous Oasis List is biggest among lists which meet the condition.<br><br>2.The Smallest Safe Oasis List:for every pair of oases in the desert,if their minimum distance is shorter than K km,the list should contain at least one of them .And the size of The Smallest Safe Oasis List is smallest among lists which meet the condition.<br><br>Now the traveler wants to get a list which is both The Biggest Dangerous Oasis List and The Smallest Safe Oasis List.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"There is a t in the first line,means k cases.In each case,there is firstly n (0&lt;= n &lt;= 500 ),m(0&lt;=m&lt;=n*(n-1)/2) and k(0&lt;=k&lt;=100000).Then m lines, each line input a,b(1&lt;=a,b&lt;=n),and l(0&lt;=l&lt;=100000),means there is a road which is l km long between a and b.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"for each case,firstly the size of the list,then print the oases in the list in increasing order,separated by spaces.<br>If there are multiple answers, print the lexicographically smallest one.<br>If there is no list, output &quot;Impossible&quot;","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n6 7 30\n1 2 40\n1 3 20\n1 4 30\n2 3 15\n5 3 20\n5 6 20\n3 6 50</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n1 2 5</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2016+ACM%2FICPC+Asia+Regional+Shenyang+Online&amp;source=1&amp;searchmode=source\"> 2016 ACM/ICPC Asia Regional Shenyang Online </a> ","type":"source","format":"html","require":["katex"]}]}