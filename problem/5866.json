{"title":"Lucky E","time_limit":8000,"memory_limit":256,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5866","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5866&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5866","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5866"},"statement":[{"title":"Problem Description","content":"N lucky lancers are defending a tower. Each lancer occupies a position on the tower. Their leader, Lancer C&#xA8;2 Chulainn, a hero from the Ulster Cycle of Irish mythology, guards on the top of the tower. We can equalize the tower as a tree, each lancer has a supervisor. After several fierce battles, each lancer is wounded to a certain extent, the lancer with identity i took Ai arrows in his knee. This day, the lancers encounter the most powerful enemy ever -- Gilgamesh. Using his Noble Phantasm, Gate of Babylon, Gilgamesh launched M attacks altogether toward the poor lancers. Each time, Gilgamesh chooses a lancer and attacks. Due to the lancers&apos; Protection from Arrows, this lancer has a probability to avoid this attack. However, if he failed to evade the attack, he and all his subordinates would take an arrow in the knee. <br><br>You are given the list of lancers Gilgamesh chose, we consider value S as the value of maximum number of arrows a lancers takes after Gilgamesh attacks.<br>Now C&#xA8;2 Chulainn would like to know the excepted value of S.<br>","type":"description","format":"html"},{"title":"Input","content":"The input data will contain several cases(No more than 5). Each case will begin with two numbers N and M, the number of Lancers and the number of Gilgamesh&apos;s attacks. Each of the next n-1 lines includes two numbers u and v, meaning that v is u&apos;s supervisor.<br><br>The next line have N numbers , and the ith number indicates the number of arrows which the ith lancer have had initially in his knee.<br><br>The next M line means the attacks of Gilgamesh, include a integer v and a real number p, indicating the v-th lancer will be choose , and he has a probability p that he can&apos;t avoid this attack.<br><br>N&lt;=100000, M&lt;=3000,<br>Ai&lt;=10000, 0=&lt;p&lt;=1.0, 1&lt;=v&lt;=N<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, print one line, the excepted value of S. The answer is round to 6 decimal digits.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5 2\n2 1\n3 1\n4 2\n5 2\n8280 5995 9465 3008 9720\n5 0.190\n1 0.770</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">9720.960000</div></pre>","type":"example","format":"html"},{"title":"Author","content":"BUPT","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2016+Multi-University+Training+Contest+10&amp;source=1&amp;searchmode=source\"> 2016 Multi-University Training Contest 10 </a> ","type":"source","format":"html"}]}