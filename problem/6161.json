{"title":"Big binary tree","time_limit":2000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6161","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6161&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6161","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6161"},"statement":[{"title":"Problem Description","content":"<center><img style=\"max-width:100%;\" src=\"../../../data/images/C768-1001-1.jpg\"></center><br>You are given a complete binary tree with n nodes. The root node is numbered 1, and node x&apos;s father node is $\\left \\lfloor x/2 \\right \\rfloor$. At the beginning, node x has a value of exactly x. We define the value of a path as the sum of all nodes it passes(including two ends, or one if the path only has one node). Now there are two kinds of operations:<br>1.&#xA0;&#xA0;change u x Set node u&apos;s value as x(1&#x2264;u&#x2264;n;1&#x2264;x&#x2264;10^10)<br>2.&#xA0;&#xA0;query u Query the max value of all paths which passes node u.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"There are multiple cases.<br>For each case:<br>The first line contains two integers n,m(1&#x2264;n&#x2264;10^8,1&#x2264;m&#x2264;10^5), which represent the size of the tree and the number of operations, respectively.<br>Then m lines follows. Each line is an operation with syntax described above.<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each query operation, output an integer in one line, indicating the max value of all paths which passes the specific node.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6 13\nquery 1\nquery 2\nquery 3\nquery 4\nquery 5\nquery 6\nchange 6 1\nquery 1\nquery 2\nquery 3\nquery 4\nquery 5\nquery 6</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">17\n17\n17\n16\n17\n17\n12\n12\n12\n11\n12\n12</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2017+Multi-University+Training+Contest+-+Team+9&amp;source=1&amp;searchmode=source\"> 2017 Multi-University Training Contest - Team 9 </a> ","type":"source","format":"html","require":["katex"]}]}