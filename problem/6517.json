{"title":"Bring Bring Big Teacher Brother","time_limit":3000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6517","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6517&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6517","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6517"},"statement":[{"title":"Problem Description","content":"&quot;Why are you shouting so loudly? Why don&apos;t you go to the property control? You try roar again?!&quot;<br><br>After the gentle and easy-going Master Sun uttered a lot of adrenaline-provoking words, people did not hate him at all, but liked him more. His paragraph became a source of happiness for people. For example, his idea about meeting and working is very famous: &quot;When the meeting is so serious, everyone is being scolded, how can you laugh when everyone is accepting opinions.Should I smile?smile to the death photo of your horse &quot;.<br><br><br>Later, the Master Sun became an indispensable part of people&apos;s life, and people consider what he said an abstract Bible.<br><br>definition:<br>If the substring $s[l .. r]$ of a string s is an abstract Bible, if and only if $l = r$ or satisfies the following conditions:<br><br>1. $mid$ is an integer, and the character s[mid] appears only once in $s[l .. r]$. (where mid is defined as $\\frac{(l+r)}{2}$ )<br><br>2. $s[l .. mid-1] = s[mid + 1 .. r]$.<br><br>3. $s[l .. mid-1]$ is also an abstract Bible.<br><br>Now, given a string s, the happy value of this string is<br><br>$$\\sum_{l=1}^{\\left|s \\right|} \\sum_{r=l}^{\\left|s \\right|} G(s[l..r])\\times (r-l+1)^2$$<br><br>Where $G(t)=1$ if and only if t is an abstract Bible, otherwise $G(t)=0$.<br><br><br>On this day, Mr. Sun is interacting with his neighbour&apos;s softly and gently. Every word he says has been all memorized by you. Let&apos;s call it string s. You want to quote classics to the people around you. But quoting classics is not equivalent to copying. So you want to know how much happy value can be brought by changing at most one character of the original string s.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"First line containing single integer T representing testcase number.<br>Next T lines each line containing a string.<br><br>$|s| \\leq 10^5$, s only contain lowercase letter.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"T lines,each line one integer representing the answer.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\nabacaba\nzyz</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">83\n12\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>substring\n[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7],[1,3],[3,5],[5,7],[1,7] are abstract bible.\nAnswer = 1 * 7 + 9 + 9 + 9 + 49 = 83\nIt can be proved that you can&apos;t modify any letter such that a better result is procedured.</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2019%D6%D0%C9%BD%B4%F3%D1%A7%B3%CC%D0%F2%C9%E8%BC%C6%BE%BA%C8%FC%A3%A8%D6%D8%CF%D6%C8%FC%A3%A9&amp;source=1&amp;searchmode=source\"> 2019&#x4E2D;&#x5C71;&#x5927;&#x5B66;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x7ADE;&#x8D5B;&#xFF08;&#x91CD;&#x73B0;&#x8D5B;&#xFF09; </a> ","type":"source","format":"html","require":["katex"]}]}