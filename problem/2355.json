{"title":"The Sidewinder Sleeps Tonite","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2355","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2355&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2355","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2355"},"statement":[{"title":"Problem Description","content":"Slitherlink is a type of logic puzzle made popular by Nikoli, the same Japanese puzzle company that has made Sudoku popular the world over. Like<br>most good logic puzzles, it has a set of very basic rules that can nonetheless result in devilishly difficult (and delightful!) puzzling experiences.<br><br>The rules of Slitherlink are as follows:<br><br>A Slitherlink board is made up of a lattice of dots; in this problem, it will be a regular rectangular lattice.<br>Some of the boxes (or cells) defined by the lattice have numbers within them; with a regular rectangular lattice, the numbers will be between 0<br>and 3 inclusive.<br>The goal of a Slitherlink puzzle is to connect adjacent dots (horizontally or vertically, like the sides of boxes) so that there is a single loop that<br>never crosses itself, with no line segments that are not part of the loop (no &quot;dangling&quot; segments or other, separate loops) such that every cell<br>that has a number has exactly that many sides as segments of the loop.<br><br><center><img style=\"max-width:100%;\" src=\"../../../data/images/c131-1005-1.jpg.jpg\"></center><br><br>Given a supposedly solved Slitherlink puzzle, your task will be to determine whether or not it is indeed legitimately solved.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"Input to this problem will begin with a line containing a single integer N (1 &#x2264; N &#x2264; 100) indicating the number of data sets. Each data set consists of<br>the following components:<br><br>A line containing two integers H, W (1 &#x2264; H,W &#x2264; 20) representing the height and width of the Slitherlink puzzle by the number of cells (not<br>dots!) per edge;<br>A series of 2H + 1 lines representing the Slitherlink puzzle, using the following non-whitespace characters:<br>0, 1, 2, 3, ?: The numbers written inside a given cell. A ? represents an empty cell, as in the example graphic above.<br>#: A dot in the lattice.<br>-, |: A horizontal or vertical line segment.<br>.: An empty adjacency between two dots in the lattice.<br><br>Note that all Slitherlink puzzles will be fully represented; that is, there is no internal whitespace on a given line to represent empty cells or<br>adjacencies.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each data set, print &quot;VALID&quot; if the solution is a valid solution to the given Slitherlink, or &quot;INVALID&quot; if the solution is not valid.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n5 5\n#-#-#-#-#-#\n|?.?.?.1.3|\n#.#-#-#.#-#\n|?|?.?|?|?.\n#-#.#.#.#-#\n.2.0.2|?.?|\n#-#.#-#.#-#\n|?|3|?.?|2.\n#.#-#.#-#.#\n|?.?.2|?.0.\n#-#-#-#.#.#\n5 5\n#-#-#-#-#-#\n|?|?.?.1.3|\n#.#-#-#.#-#\n|?|?.?|?|?.\n#-#.#.#.#-#\n.2.0.2|?.?|\n#-#.#-#.#-#\n|?|3|?.?|2.\n#.#-#.#-#.#\n|?.?.2|?.0.\n#-#-#-#-#.#</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">VALID\nINVALID</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=HDU+2008%278+%B9%AB%BF%AA%C8%FC%A3%A8%B7%C7%D4%AD%B4%B4%A3%A9&amp;source=1&amp;searchmode=source\"> HDU 2008&apos;8 &#x516C;&#x5F00;&#x8D5B;&#xFF08;&#x975E;&#x539F;&#x521B;&#xFF09; </a> ","type":"source","format":"html","require":["katex"]}]}