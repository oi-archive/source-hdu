{"title":"Robot Dog","time_limit":2000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5449","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5449&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5449","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5449"},"statement":[{"title":"Problem Description","content":"Mike has just found a dungeon. Inside there are n rooms and p treasure chests. Chests $1, . . . , p$ are located in room $v_1, . . . , v_p$ respectively. The rooms are connected by $n - 1$ passages. Any two rooms connected by a passage are considered adjacent. This dungeon is very special that there exists a path between any two rooms. Among these treasure chests, only chest 1 can be taken in the very beginning, others must be taken in order. That is, only after chest i is taken, may chest $i + 1$ be taken as well, for every $i &#x2208; \\{1, . . . , p - 1\\}$.<br><br>Mike is lazy, so he dislikes to explore the dungeon on his own feet. Therefore, Mike sends his robot dog, Blot, to collect the treasures in the dungeon. Blot can automatically collect the treasures from the chests, and it takes Blot exactly a second to move to any adjacent room. However, Blot&#x2019;s movement is uncontrollable. Blot moves to all adjacent rooms with the same probability. For example, if there are $k$ adjacent rooms, then Blot will move to any of them with probability $\\frac{1}{k}$. Please help mike to compute the expected time that Blot collects all $p$ treasures for him.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line on the input contains an integer $T (T \\leq 10)$. There will be $T$ test cases. The first line of each test case contains an integer $n (2 \\leq n \\leq 50000)$ indicating the number of rooms in the dungeon. The rooms are numbered from $0$ to $n - 1$. Each of the following $n - 1$ lines contains two integers $u$ and $v (u, v &#x2208; \\{0, . . . , n - 1\\})$ indicating room $u$ and room $v$ are adjacent.<br><br>The next line contains an integer $q (q \\leq 100)$ indicating the number of scenarios. Each of the following $q$ lines represents a scenario which consists of some integers $p, v_0, v_1, . . . , v_p$ separated by blanks. The first integer $p (0 &lt; p \\leq 500)$ indicates there will be $p$ treasure chests. The second integer $v_0$ indicates that Blot is in room $v_0$ at the beginning. For $i &#x2208; \\{1, . . . , p\\}$, the $i-th$ treasure will be spawn at room $v_i$. You may assume v<sub>i</sub> $\\neq$ v<sub>i-1</sub> for every $i &#x2208; \\{1, . . . , p\\}$.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output $q$ lines, and the $j-th$ of them corresponds to the $j-th$ scenario of the test case. For each scenario, output the expected time in seconds such that Blot collects all treasures. Print the answer to the fourth decimal place, and separate two consecutive test cases with a blank line.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n3\n1 0\n1 2\n2\n1 0 1\n2 0 2 1\n4\n0 1\n2 0\n3 0\n1\n3 0 1 0 1</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1.0000\n5.0000\n\n11.0000</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2015+ACM%2FICPC+Asia+Regional+Changchun+Online&amp;source=1&amp;searchmode=source\"> 2015 ACM/ICPC Asia Regional Changchun Online </a> ","type":"source","format":"html","require":["katex"]}]}