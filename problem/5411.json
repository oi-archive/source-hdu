{"title":"CRB and Puzzle","time_limit":1000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5411","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5411&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5411","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5411"},"statement":[{"title":"Problem Description","content":"CRB is now playing Jigsaw Puzzle.<br>There are $N$ kinds of pieces with infinite supply.<br>He can assemble one piece to the right side of the previously assembled one.<br>For each kind of pieces, only restricted kinds can be assembled with.<br>How many different patterns he can assemble with at most $M$ pieces? (Two patterns $P$ and $Q$ are considered different if their lengths are different or there exists an integer $j$ such that $j$-th piece of $P$ is different from corresponding piece of $Q$.)<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"There are multiple test cases.  The first line of input contains an integer $T$, indicating the number of test cases. For each test case:<br>The first line contains two integers $N$, $M$ denoting the number of kinds of pieces and the maximum number of moves.<br>Then $N$ lines follow. $i$-th line is described as following format.<br>k $a_{1}\\ a_{2}\\ ...\\ a_{k}$<br>Here $k$ is the number of kinds which can be assembled to the right of the $i$-th kind. Next $k$ integers represent each of them.<br>1 &#x2264; $T$ &#x2264; 20<br>1 &#x2264; $N$ &#x2264; 50<br>1 &#x2264; $M$ &#x2264; $10^5$<br>0 &#x2264; $k$ &#x2264; $N$<br>1 &#x2264; $a_{1}$ &lt; $a_{2}$ &lt; &#x2026; &lt; $a_{k}$ &#x2264; N<br><br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output a single integer - number of different patterns modulo 2015.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n3 2\n1 2\n1 3\n0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>possible patterns are &#x2205;, 1, 2, 3, 1&#x2192;2, 2&#x2192;3</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"KUT&#xFF08;DPRK&#xFF09;","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2015+Multi-University+Training+Contest+10&amp;source=1&amp;searchmode=source\"> 2015 Multi-University Training Contest 10 </a> ","type":"source","format":"html","require":["katex"]}]}