{"title":"Parade Show","time_limit":1000,"memory_limit":63.9990234375,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4749","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4749&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4749","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4749"},"statement":[{"title":"Problem Description","content":"<center><img style=\"max-width:100%;\" src=\"../../data/images/C479-1002-1.jpg\"></center> <br>&#xA0;&#xA0;2013 is the 60 anniversary of Nanjing University of Science and Technology, and today happens to be the anniversary date. On this happy festival, school authority hopes that the new students to be trained for the parade show. You should plan a better solution to arrange the students by choosing some queues from them preparing the parade show. (one student only in one queue or not be chosen)<br>&#xA0;&#xA0;Every student has its own number, from 1 to n. (1&lt;=n&lt;=10^5), and they are standing from 1 to n in the increasing order the same with their number order. According to requirement of school authority, every queue is consisted of exactly m students. Because students who stand adjacent in training are assigned consecutive number, for better arrangement, you will choose in students with in consecutive numbers. When you choose these m students, you will rearrange their numbers from 1 to m, in the same order with their initial one. <br>&#xA0;&#xA0;If we divide our students&#xFFFD;&#xFFFD; heights into k (1&lt;=k&lt;=25) level, experience says that there will exist an best viewing module, represented by an array a[]. a[i] (1&lt;=i&lt;=m)stands for the student&#xFFFD;&#xFFFD;s height with number i. In fact, inside a queue, for every number pair i, j (1&lt;=i,j&lt;=m), if the relative bigger or smaller or equal to relationship between the height of student number i and the height of student number j is the same with that between a[i] and a[j], then the queue is well designed. Given n students&#xFFFD;&#xFFFD; height array x[] (1&lt;=x[i]&lt;=k), and the best viewing module array a[], how many well designed queues can we make at most?<br>","type":"description","format":"html"},{"title":"Input","content":"Multiple cases, end with EOF.<br>First line, 3 integers, n (1&lt;=n&lt;=10^5) m (1&lt;=m&lt;=n) k(1&lt;=k&lt;=25),<br>Second line, n students&#xFFFD;&#xFFFD; height array x[] (1&lt;=x[i]&lt;=k,1&lt;=i&lt;=n);<br>Third line, m integers, best viewing module array a[] (1&lt;=a[i]&lt;=k,1&lt;=i&lt;=m);<br>","type":"input_format","format":"html"},{"title":"Output","content":"One integer, the maximal amount of well designed queues.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">10 5 10\n2 4 2 4 2 4 2 4 2 4\n1 2 1 2 1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2013+ACM%2FICPC+Asia+Regional+Nanjing+Online&amp;source=1&amp;searchmode=source\"> 2013 ACM/ICPC Asia Regional Nanjing Online </a> ","type":"source","format":"html"}]}