{"title":"Joyful Party","time_limit":4000,"memory_limit":512,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6811","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6811&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6811","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6811"},"statement":[{"title":"Problem Description","content":"It is Zhang3&apos;s birthday! Zhang3 is going to hold a birthday party.<br><br>Zhang3 prepared $n$ puzzles for the party, labeled $1, 2, \\ldots, n$. She invited $m$ friends to solve the puzzles. Each puzzle should be solved by exactly one friend, and each friend should solve at least one puzzle. The puzzles must be solved in some order, which means no two puzzles can be solved simultaneously.<br><br>As some puzzles are similar, it may be possible to solve a puzzle by imitating another one. This makes the puzzle solver very happy and produces some joy-value for the party. Specifically, there are some methods to solve a puzzle by imitating. Each of the methods is of the form $(X, L, R, C)$, which means when someone is going to solve puzzle $X$, he can choose another puzzle $Y \\in [L, R]$, as long as he has solved puzzle $Y$ before, then use the method to solve puzzle $X$ by imitating puzzle $Y$, producing $C$ joy-value. Only one imitation can be done while solving a certain puzzle, i.e. only one method and one solved puzzle can be chosen to perform the imitation, even if there are multiple methods and solved puzzles meeting the requirements. Imitating nothing is also allowed, producing no joy-value.<br><br>Zhang3 wants to maximize the total joy-value. Please help her schedule the party (i.e. decide who to solve each puzzle, the order of solving, and the imitations) so that the sum of joy-value produced by imitations is maximized.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line of the input gives the number of test cases, $T \\; (1 \\le T \\le 2)$. $T$ test cases follow.<br><br>For each test case, the first line contains three integers $n, m, k \\; (1 \\le m \\le n \\le 10^5, \\; k \\le 2 \\times 10^5)$, the number of puzzles, the number of friends and the number of methods.<br><br>Then $k$ lines follow, the $i ^ \\mathrm{th}$ of which contains four integers $X_i, L_i, R_i, C_i \\; (1 \\le L_i \\le R_i \\le n, \\; 0 \\le C_i \\le 10^9)$, representing the $i ^ \\mathrm{th}$ method is $(X_i, L_i, R_i, C_i)$.<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, print a line with an integer, representing the maximized total joy-value.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n3 1 3\n1 1 3 600000\n1 3 3 666666\n3 1 1 173768</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">773768</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2020+Multi-University+Training+Contest+4&amp;source=1&amp;searchmode=source\"> 2020 Multi-University Training Contest 4 </a> ","type":"source","format":"html","require":["katex"]}]}