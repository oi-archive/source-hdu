{"title":"Color the chessboard","time_limit":1000,"memory_limit":512,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6122","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6122&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6122","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6122"},"statement":[{"title":"Problem Description","content":"There is a chessboard with $n$ rows and $m$ columns, at first every position is colored red or blue or white. HazelFan want to change the color of every white position into red one or blue one, so that every rectangle in the chessboard with even rows and even colums, contains same number of red positions and blue positions. HazelFan wants to know how many ways are there to color the chessboard, module $998244353$.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line contains a positive integer $T(1\\leq T\\leq5)$, denoting the number of test cases.<br>For each test case:<br>The first line contains two positive integers $n,m(1\\leq n,m\\leq10^3)$.<br>The next $n$ lines, the $i$th line contains a string of length $m$, the $j$th character describes the position in the $i$th row and the $j$th column as below:<br>&apos;R&apos;: the position is colored red.<br>&apos;B&apos;: the position is colored blue.<br>&apos;?&apos;: the position is colored white.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case:<br>A single line contains a nonnegative integer, denoting the answer.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n2 2\nRB\n??\n3 3\n???\n?R?\n???</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n7</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2017+Multi-University+Training+Contest+-+Team+7&amp;source=1&amp;searchmode=source\"> 2017 Multi-University Training Contest - Team 7 </a> ","type":"source","format":"html","require":["katex"]}]}