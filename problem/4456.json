{"title":"Crowd","time_limit":2000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4456","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4456&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4456","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4456"},"statement":[{"title":"Problem Description","content":"City F in the southern China is preparing lanterns festival celebration along the streets to celebrate the festival. <br>Since frequent accidents had happened last year when the citizens went out to admire the colorful lanterns, City F is planning to develop a system to calculate the degree of congestion of the intersection of two streets. <br>The map of City F is organized in an N&#xD7;N grid (N north-south streets and N west-east street). For each intersection of streets, we define a density value for the crowd on the intersection. <br>Initially, the density value of every intersection is zero. As time goes by, the density values may change frequently. A set of cameras with new graphical recognition technology can calculate the density value of the intersection easily in a short time.<br>But the administrator of the police office is planning to develop a system to calculate the degree of congestion. For some consideration, they come up with a conception called &quot;k-dimension congestion degree&quot;. The &quot;k-dimension congestion degree&quot; of intersection (x0,y0) is represented as &quot;c(x0,y0,k)&quot;, and it can be calculated by the formula below:<br><center><img style=\"max-width:100%;\" src=\"../../data/images/4456-1.jpg\"></center> <br>Here, d(x,y) stands for the density value on intersection (x,y) and (x,y) must be in the N&#xD7;N grid. The formula means that all the intersections in the range of manhattan distance k from (x0,y0) effect the k-dimension congestion degree of (x0,y0) equally, so we just simply sum them up to get the k-dimension congestion degree of (x0,y0). <br>The figure below shows a 7&#xD7;7 grid, and it shows that if you want to get the 2-dimension congestion degree of intersection (4,2),you should sum up the density values of all marked intersections.<br><center><img style=\"max-width:100%;\" src=\"../../data/images/4456-2.jpg\"></center> <br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"These are multiple test cases. <br>Each test case begins with a line with two integers N, M, meaning that the city is an N&#xD7;N grid and there will be M queries or events as time goes by. (1 &#x2264; N &#x2264;10 000, 1 &#x2264; M &#x2264; 80 000) Then M lines follow. Each line indicates a query or an event which is given in form of (p, x, y, z), here p = 1 or 2, 1 &#x2264; x &#x2264; N, 1 &#x2264; y &#x2264; N. <br>The meaning of different p is shown below.<br>1. p = 1 the value of d(x,y) is increased by z, here -100 &#x2264; z &#x2264; 100.<br>2. p = 2 query the value of c(x,y,z), here 0 &#x2264; z &#x2264; 2N-1.<br>Input is terminated by N=0.<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each query, output the value for c(x,y,z) in a line.<br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">8 5\n1 8 8 1\n1 1 1 -2\n2 5 5 6\n1 5 5 3\n2 2 3 9\n3 2\n1 3 2 -9\n2 3 2 0\n0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n1\n-9</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2012+Asia+Hangzhou+Regional+Contest&amp;source=1&amp;searchmode=source\"> 2012 Asia Hangzhou Regional Contest </a> ","type":"source","format":"html","require":["katex"]}]}