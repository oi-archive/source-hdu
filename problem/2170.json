{"title":"Frogger","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2170","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2170&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2170","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2170"},"statement":[{"title":"Problem Description","content":"Philip J. Frog just wanted to go for a mid-afternoon swim, but in typical frog fashion he&apos;s ended up in the middle of a busy street. Help Phil figure out how long he&apos;ll be hopping on hot asphalt before he finds his way to the nice cool water.<br><br>Phil may hop one square horizontally or vertically per second. He may only hop onto road, grass, or water. Additionally, he cannot occupy any square occupied by a car. Phil and the cars move at the same time, meaning Phil can &#x201C;hop over&#x201D; an oncoming car. Phil can also remain in the same square if he wishes.  All horizontal movement wraps (e.g., a rightward hop from the rightmost column places Phil in the leftmost column). Cars move horizontally in the direction indicated on the map (&apos;&lt;&apos; means leftward, &apos;&gt;&apos; means rightward) at a rate of one square per second and never collide with anything.<br><br>","type":"description","format":"html"},{"title":"Input","content":"Input begins with a single integer specifying the number of test maps. Each map begins with two integers R and C (0 &lt; R, C &lt;= 30) specifying the number of rows and columns, respectively, followed by R lines each C characters long, specifying the map. The possible map characters are:<br><br>Phil (&apos;&amp;&apos;) - Phil&apos;s starting location. Each map contains exactly one. Always indicates road underneath.<br>Tree (&apos;T&apos;) - Impassable.<br>Grass (&apos;.&apos;) -  Phil can move freely in the grass.<br>Road (&apos;-&apos;) - Hot!<br>Car (&apos;&lt;&apos;, &apos;&gt;&apos;) - Always indicates road underneath.<br>Water (&apos;~&apos;) - Phil&apos;s goal.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each map, output a line containing the fewest number of seconds Phil must spend on the road in order to reach the water, or the string &#x201C;Impassable&#x201D;, if no path to water exists.<br><br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n2 1\n~\n&amp;\n4 7\n~TTTTTT\n.------\n--&gt;-&lt;--\n---&amp;---\n3 5\n~~~~~\n..T..\n&gt;&gt;&amp;&lt;&lt;</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n6\nImpassable</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2007+ACM-ICPC+Pacific+Northwest+Region&amp;source=1&amp;searchmode=source\"> 2007 ACM-ICPC Pacific Northwest Region </a> ","type":"source","format":"html"}]}