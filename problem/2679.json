{"title":"Bloxorz","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2679","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2679&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2679","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2679"},"statement":[{"title":"Problem Description","content":"Bloxorz is an interesting game and someone may have played it before. The rule of this game is simple. <br>This game is played on a platform constructed of many square grids. You have a cuboid whose size is 2&#xFFFD;&#xFFFD;1&#xFFFD;&#xFFFD;1. On the platform there is a 1&#xFFFD;&#xFFFD;1 hole and it&#xFFFD;&#xFFFD;s your destination. What you have to do is move the cuboids to the hole. During the game you must keep the cuboid on the platform, if any part of cuboid is off the platform, you lose the game.<br>When this game starts, the cuboid stays on the platform. The way to move the cuboid is not sliding but rolling. You can move it in any of the four directions. If you want to move it right, the surfaces next to the original bottom in that direction will be the new bottom. In the following three images, the cuboid moves right twice. <br>Pic-1<br> <img style=\"max-width:100%;\" src=\"../../../data/images/C167-04-01.jpg\"> <br><img style=\"max-width:100%;\" src=\"../../../data/images/C167-04-02.jpg\">   &#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;<img style=\"max-width:100%;\" src=\"../../../data/images/C167-04-3.jpg\"> ","type":"description","format":"html"},{"title":"Input","content":"Input contains multiple test cases. Each test case starts with two integers N and M (0&lt;N, M &lt; 20), which stand for number of rows and columns of the platform. Then there comes N lines, describe the platform with &#xFFFD;&#xFFFD;#&#xFFFD;&#xFFFD; for empty cell, &#xFFFD;&#xFFFD;^&#xFFFD;&#xFFFD; for square grid, &#xFFFD;&#xFFFD;X&#xFFFD;&#xFFFD; for the position of cuboid (There maybe two &#xFFFD;&#xFFFD;X&#xFFFD;&#xFFFD;, but data guarantee that these two &#xFFFD;&#xFFFD;X&#xFFFD;&#xFFFD;s belong to the same cuboid and only one cuboid exists.).<br>Then there comes several lines which stand for order list. Each line only contains uppercase characters and blank. In the list, &#xFFFD;&#xFFFD;L&#xFFFD;&#xFFFD; means moving left, &#xFFFD;&#xFFFD;R&#xFFFD;&#xFFFD; means moving right, &#xFFFD;&#xFFFD;U&#xFFFD;&#xFFFD; means moving up and &#xFFFD;&#xFFFD;D&#xFFFD;&#xFFFD; means moving down. If you meet a &#xFFFD;&#xFFFD;Q&#xFFFD;&#xFFFD;, print the whole station of platform. Each case ends with a line a line entitled &#xFFFD;&#xFFFD;END&#xFFFD;&#xFFFD;.<br>ANY MOVE COULD CAUSE YOU TO LOSE THE GAME, YOU SHOULD JUST IGNORE IT.<br>","type":"input_format","format":"html"},{"title":"Output","content":"Print a blank after each situation.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5 6\n^^^^^^\n^X^^^^\n^^^^^^\n#^^^^^\n###^^^\nRQ\nRQ\nEND</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">^^^^^^\n^^XX^^\n^^^^^^\n#^^^^^\n###^^^\n\n^^^^^^\n^^^^X^\n^^^^^^\n#^^^^^\n###^^^</div></pre>","type":"example","format":"html"},{"title":"Author","content":"CTW","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2009%D5%E3%BD%AD%B4%F3%D1%A7%BC%C6%CB%E3%BB%FA%D1%D0%BF%BC%B8%B4%CA%D4%A3%A8%BB%FA%CA%D4%B2%BF%B7%D6%A3%A9%A1%AA%A1%AA%C8%AB%D5%E6%C4%A3%C4%E2&amp;source=1&amp;searchmode=source\"> 2009&#xFFFD;&#x3F6D;&#xFFFD;&#xFFFD;&#x467;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x43F;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x523;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x532;&#xFFFD;&#xFFFD;&#x5A3;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x22B;&#xFFFD;&#xFFFD;&#x123;&#xFFFD;&#xFFFD; </a> ","type":"source","format":"html"}]}