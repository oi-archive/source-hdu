{"title":"A Sequence of Numbers","time_limit":20000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3670","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3670&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3670","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3670"},"statement":[{"title":"Problem Description","content":"You are given a sequence of N  integers (each within the range [0, 2^16 - 1] ) along with P  operations and in order to solve this problem you need to process the operations instructed as follows.<br><br>There are two kinds of operations that you will be instructed to perform:<br><br>1) Modification<br>    - Given a non-negative number T , you need to increase the value of every number in the sequence by T . If the value of any number in the sequence is larger than 2^16 - 1 after the operation, you should divide its value by 216 and take the remainder as its value; <br>2) Query<br>    - Given a non-negative number T , query how many numbers in the sequence satisfies the condition that its bitwise and result with 2^T is greater than zero. <br><br>For simplicity, all you need to do here is to output the sum ( sum &lt; 10, 000, 000, 000 ) of the answers to all queries. ","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases in the input file. Each test case starts with one integer N  (N&lt;=10^5) , the number of integers in the sequence. The following N  line consists of one integer P  (0&lt;=P&lt;=2^16 - 1) , the value on i -th line being the value of the i -th number in the sequence.<br><br>Each of the following lines is either of the format ``C delta &quot; (0&lt;=delta) , meaning that you should increase the value of every number by delta, or ``Q i &quot; (0&lt;=i&lt;=15) , meaning that you should calculate the answer to the query (as explained in the problem description). Every test case ends with one character `E&apos; on a single line, followed by a blank line.<br><br>N = - 1 indicates the end of input file and should not be processed by your program. It is guaranteed that the total number of operations in each test case does not exceed 200,000. ","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, print the sum of answers to queries on one separate line in the format as indicated in the sample output. ","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3 \n1 \n2 \n4 \nQ 1 \nQ 2 \nC 1 \nQ 1 \nQ 2\nE\n\n-1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case 1: 5</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2007+Asia+Regional+Chengdu&amp;source=1&amp;searchmode=source\"> 2007 Asia Regional Chengdu </a> ","type":"source","format":"html"}]}