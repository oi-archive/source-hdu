{"title":"Fantastic Magic Cube","time_limit":1000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6596","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6596&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6596","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6596"},"statement":[{"title":"Problem Description","content":"You are given a positive integer $N$ and a set of six-tuples. We define the value of a six-tuple $(l_x, r_x, l_y, r_y, l_z, r_z)$ is $\\sum\\limits_{l_x \\leq x \\leq r_x, l_y \\leq y \\leq r_y, l_z \\leq z \\leq r_z, }{x \\oplus y \\oplus z}$. In the beginning, the set has only an element $(0, N - 1, 0, N - 1, 0, N - 1)$. You can do the following steps repeatedly until the size of $S$ equals to $N^3$:<br><br>$\\bullet$ Pick a six-tuple $(l_x, r_x, l_y, r_y, l_z, r_z)(l_x &lt; r_x \\; or \\; l_y &lt; r_y \\; or \\; l_z &lt; r_z)$ from the set.<br><br>$\\bullet$ You can choose one element of $\\left\\{ x, y, z \\right\\} $.<br><br>        $\\space\\space\\space\\space\\circ$ Assuming you chose $x$, it must be satisfied that $l_x &lt; r_x$. Then you should pick an integer $t \\in [l_x, r_x)$, erase $(l_x, r_x, l_y, r_y, l_z, r_z)$ from the set, add <br>$\\space\\space\\space\\space\\space\\space$ $(l_x, t, l_y, r_y, l_z, r_z)$ and $(t + 1, r_x, l_y, r_y, l_z, r_z)$ into the set, and you will get the product of values of these two new six-tuples.<br><br>        $\\space\\space\\space\\space\\circ$ Assuming you chose $y$, it must be satisfied that $l_y &lt; r_y$. Then you should pick an integer $t \\in [l_y, r_y)$, erase $(l_x, r_x, l_y, r_y, l_z, r_z)$ from the set, add <br>$\\space\\space\\space\\space\\space\\space$ $(l_x, r_x, l_y, t, l_z, r_z)$ and $(l_x, r_x, t + 1, r_y, l_z, r_z)$ into the set, and you will get the product of values of these two new six-tuples.<br><br>        $\\space\\space\\space\\space\\circ$ Assuming you chose $z$, it must be satisfied that $l_z &lt; r_z$. Then you should pick an integer $t \\in [l_z, r_z)$, erase $(l_x, r_x, l_y, r_y, l_z, r_z)$ from the set, add <br>$\\space\\space\\space\\space\\space\\space$ $(l_x, r_x, l_y, r_y, l_z, t)$ and $(l_x, r_x, l_y, r_y, t + 1, r_z)$ into the set, and you will get the product of values of these two new six-tuples.<br><br>Maximize the sum of values you got and output it modulo $998244353$.<br><br>Note that $\\oplus$ means exclusive or, for more details refer to <b>https://en.wikipedia.org/wiki/Exclusive_or</b>.","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases.<br><br>Each case starts with a line containing one positive integer $N(N \\leq 10^6)$.<br><br>We guarantee that the sum of $N$s in all test cases is no larger than $3 \\times 10^6$.","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output one line containing an integer denoting the answer.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2019+Multi-University+Training+Contest+2&amp;source=1&amp;searchmode=source\"> 2019 Multi-University Training Contest 2 </a> ","type":"source","format":"html"}]}