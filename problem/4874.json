{"title":"ZCC Loves RPG","time_limit":5000,"memory_limit":127.6484375,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4874","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4874&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4874","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4874"},"statement":[{"title":"Problem Description","content":"   ZCC is playing a RPG game named &#x201C;kenji&#x2019;s life VI&#x201D;.<br>   In this game, as an advanturer, ZCC has N kinds of energy, labeled 1 to N. Before set off for an adventure, ZCC can charge some of his energy, which allow he to set the amount of every kind of energy (a_i) a non-negative integer arbitrarily. Different kind of energy is set independently.<br>   When different energy mix, they become unstable. If there exist two integers u and v (u&#x2264;v), where a_u, a_u+1, ..., a_v are all positive number, and sum of those v-u+1 number exceed K, a horrific explosion occurs, and of course, Game Over.<br>   During the adventure, the story may develop differently depending on the amount of a certain kind of energy. Sometimes there will be some CGs, but some of CGs may only appear in some certain sub-story.<br>   ZCC has played this game many times, but failed to collect some of the CGs. Now he wonders, How many kinds of CGs is collectable?<br>   The Scenario is given in the form of C++ like code.<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C503-1003-1.jpg\"></center><br>   As an explanation:<br>   The Scenario is presented as a non-type function game(n, k).<br>   game(n, k) has 2 arguments, n and k, which are actually 2 constants. n is the number of energy type available, k is the limitation of sum of consecutive positive number. There may be 3 types of statement:<br>   1.cg(p1), means a CG numbered p1 appears here.<br>   2.if (a[p1] &gt;= p2) &lt;statement&gt; [else &lt;statement&gt;], is just like the branch statement in other programming languages. else is matched with the nearest if, just like the way C++ works.<br>   3.{ &lt;statements&gt;* }, a block contains zero, one or several statements.<br>   Note that though the scenario is guaranteed to satisfy the grammar above, the code-style(space, bracket, line break) may not strictly obeys the explanation above.","type":"description","format":"html"},{"title":"Input","content":"   A scenario with total length do not exceed 3MB.<br>   It&#x2019;s guaranteed:<br>   n&#x2264;10^5; <br>   in cg(p1), p1 is a non-negative number between 0 and 2^20-1;<br>   in if (a[p1] &gt;= p2), 1&#x2264;p1&#x2264;n&#xFF0C;0&#x2264;p2&#x2264;10^9.","type":"input_format","format":"html"},{"title":"Output","content":"   An integer: the number of CGs collectable.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">game(3, 1){\n  cg(0);\n  if (a[1] &gt;= 1)\n    cg(1);\n  else if (a[1] &gt;= 2) cg(2);\n  if (a[2] &gt;= 1)\n    if (a[3] &gt;= 1) cg(3); \n    else cg(4);\n  {cg(0);}\n}</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>CGs collectable are CG#0, CG#1 and CG#4.\nThough CG#0 appears 2 times, the answer is 3, instead of 4.</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Author","content":"&#x9547;&#x6D77;&#x4E2D;&#x5B66;","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+Multi-University+Training+Contest+2&amp;source=1&amp;searchmode=source\"> 2014 Multi-University Training Contest 2 </a> ","type":"source","format":"html"}]}