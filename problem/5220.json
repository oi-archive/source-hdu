{"title":"GAL","time_limit":8000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5220","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5220&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5220","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5220"},"statement":[{"title":"Problem Description","content":"BrotherK likes playing GALGAME, now he wants to design a GALGAME.<br><br>Ery has designed $N$ roles for his game, each role can be described as four integers: name, face, character, magic(Just a special parameter, don&apos;t care about it). BrotherK need to select some roles for his game, and there are some rules:<br><br>Assume BrotherK has selected $K$ roles, i-th role&apos;s magic is $M_i$, the equation should be hold: $M_1~xor~M_2~xor~..~xor~M_K~=~0$. (xor means exclusive or, (a xor b) means (a ^ b) in C/C++/Java).<br><br>There is not any pair of selected role has same face.<br><br>For each character(except there is not any role with the character), BrotherK should select at least one role with the character.<br><br>Now, BrotherK wants to know there are how many ways to choose roles.","type":"description","format":"html"},{"title":"Input","content":"The first line contains a single integer $T$, indicating the number of test cases.<br><br>Each test case begins with one integers $N$, indicating the number of roles designed by Ery.Following $N$ lines, i-th line contains three integers <br>$Face_i,~Character_i$ and $Magic_i$, describing the role whose Name is i.<br><br>$T$ is about 100, in most case, $N$ is small.<br><br>$1~\\le~N~\\le~32$.<br><br>$1~\\le~Face_i, Character_i~\\le~N$.<br><br>$0~\\le~Magic_i~\\le~100000$.","type":"input_format","format":"html"},{"title":"Output","content":"For each test, print one line.<br><br>The line contains a number indicating the number of BrotherK&apos;s ways to choose roles.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n3\n1 2 1\n2 1 1\n1 1 1\n5\n1 2 1\n1 1 2\n1 2 2\n2 1 1\n3 2 2</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n2\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>In the first case, BrotherK must choose the first two roles.</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=%C8%FC%C2%EB%26quot%3BBestCoder%26quot%3B%B1%AD%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%B9%DA%BE%FC%C8%FC&amp;source=1&amp;searchmode=source\"> &#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&quot;BestCoder&quot;&#xFFFD;&#xFFFD;&#xFFFD;&#x439;&#xFFFD;&#xFFFD;&#xFFFD;&#x467;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x1B9;&#x6BE;&#xFFFD;&#xFFFD;&#xFFFD; </a> ","type":"source","format":"html"}]}