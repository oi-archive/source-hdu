{"title":"Counting Problem","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3014","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3014&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3014","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3014"},"statement":[{"title":"Problem Description","content":"<center><img style=\"max-width:100%;\" src=\"../../../data/images/exe3014-1.JPG\"></center>   <br> See the 2 X 2 board above. AekdyCoin gets a N X N chessboard recently. But he think the color of the chessman is too dull (Only White and Black!).So AekdyCoin buys different kind of chessmen with different color, say blue, pink, yellow &#xFFFD;&#xFFFD;Now AekdyCoin buys K kind of chessmen with different color, and the number of each kind is exactly Ai.<br><br><br>    Now AekdyCoin begins to play with these chessmen. He wants to put all the chessmen he bought on the board, and of course every grid could only contain one single chessman.The Figure 2 shows a valid situation ,in this figure, AekdyCoin bought two kind of chessmen and the number of each is one.<br><center><img style=\"max-width:100%;\" src=\"../../../data/images/exe3014-2.JPG\"></center><br>    As we know, AekdyCoin is very clever. So he think about this question:What is the number of ways he could put all chessmen he bought on the N X N board?<br><br>    After a several seconds , AekdyCoin gets a perfect idea about how to solve this problem. What about you?<br><br>    Two situation are regard the same in Figure 3, but the different in Figure 4.<br><center><img style=\"max-width:100%;\" src=\"../../../data/images/exe3014-3.JPG\"></center><br>But the ways that you can get by flip or circumrotate is not regard as the same!","type":"description","format":"html"},{"title":"Input","content":"The input consists of several test cases, but no more than 20.<br><br>    There are two integers N, M in the first line of each case indicate the size of the board and M. You should output the remainder of answer after divided by M. (1&lt;=N &lt;=5000, 1&lt;=M&lt;=2*10^9)<br><br>    The next line contain only one integer K indicates the kind of the chessmen AekdyCoin bought. (1&lt;=k&lt;=100)<br><br>    Then the next line has exactly K integer where the i-th integer Ai indicate the number of the i-th kind of chessmen AekdyCoin bought.(1&lt;=Ai&lt;=5000)","type":"input_format","format":"html"},{"title":"Output","content":"Output a single line indicates the reaminder of answer after divided by M. ","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2 100\n1\n1\n2 100\n1\n2</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n6</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2009+Multi-University+Training+Contest+12+-+Host+by+FZU&amp;source=1&amp;searchmode=source\"> 2009 Multi-University Training Contest 12 - Host by FZU </a> ","type":"source","format":"html"}]}