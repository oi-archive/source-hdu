{"title":"Serial Numbers","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2705","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2705&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2705","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2705"},"statement":[{"title":"Problem Description","content":"A manufacturer keeps an ordered table of serial numbers by listing in each row of the table a range of serial numbers along with two corresponding pieces of information called the status code and the transfer code. A four-column table stores information about ranges of serial numbers in this order: starting serial number, ending serial number, status code, transfer code. Serial numbers as well as transfer codes are integers from 1 to 2147483647, and status codes are a single upper-case letter. The table is maintained in<br>increasing order of serial numbers, serial number ranges are never allowed to overlap, and for any given serial number, the table must always accurately represent the most recent data (status code and transfer code) for<br>that serial number.<br>Let&apos;s say that 100,000 serial numbers are created with a status of &quot;A&quot; and a transfer code of &quot;1&quot;. An entry for those serial numbers might look like this:<br>1 100000 A 1<br>This is obviously far more efficient than storing 100,000 individual rows all with the same status and transfer codes. The challenge arises when serial numbers within already defined ranges need to be given different<br>status or transfer codes. For example, if serial number 12345 needs to change to status B, the above table would need to become three separate entries:<br>1 12344 A 1<br>12345 12345 B 1<br>12346 100000 A 1<br>Now let&apos;s change the transfer code of all serial numbers in the range 12000 to 12999 to 2. This gets us:<br>1 11999 A 1<br>12000 12344 A 2<br>12345 12345 B 2<br>12346 12999 A 2<br>13000 100000 A 1<br>Now change all existing serial numbers from 10000 to 100000 to status C and transfer code 2:<br>1 9999 A 1<br>10000 100000 C 2<br>Once created a serial number will never be deleted, but it is possible to have ranges of undefined serial<br>numbers between ranges of defined ones. To demonstrate, let&apos;s now set all serial numbers from 1000000 to<br>1999999 to status Z and transfer code 99:<br>1 9999 A 1<br>10000 100000 C 2<br>1000000 1999999 Z 99<br>Finally, the table is always maintained with a minimal number of rows, meaning specifically that there will<br>never be two adjacent rows in the table where one would suffice. For example, consider the following serial<br>number table:<br>1 10 A 1<br>11 20 A 1<br>21 30 B 1<br>The first two rows could actually be represented by a single row, meaning that the table above does not have<br>a minimal number of rows. The same data represented by a minimal number of rows would look like this:<br>1 20 A 1<br>21 30 B 1<br>The following table, however, because the first two rows have non-matching transfer codes, already contains<br>the minimal number of rows:<br>1 10 A 1<br>11 20 A 2<br>21 30 B 1<br>Similarly, the following table cannot be reduced further because the first two rows do not represent a<br>continuous series of serial numbers:<br>1 10 A 1<br>12 20 A 1<br>21 30 B 1 <br>","type":"description","format":"html"},{"title":"Input","content":"Each input case begins with a single line that is a character string naming the test case. This string<br>contains at most 80 characters. The name &quot;END&quot; marks the end of the input. Following this will be 1 to 100<br>lines of the form &quot;A B S T&quot;, where A, B, and T are integers in the range 1 to 231-1, S is an uppercase letter,<br>and A&lt;=B. These lines are, in the order they are to be applied, the serial number transactions to be recorded,<br>where A is the start of the serial number range, B is the end of the serial number range, S is the status code,<br>and T is the transfer code. The list of serial number transactions is terminated by a line containing only a 0<br>(zero) character. ","type":"input_format","format":"html"},{"title":"Output","content":"For each input case, echo the test case name to the output on a line by itself, followed by the resulting minimal-rows serial number table that results after all serial number transactions have been applied. <br><br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">First Example\n1 100000 A 1\n12345 12345 B 1\n0\nAnd Another\n1 100000 A 1\n12345 12345 B 1\n12000 12999 A 2\n12345 12345 B 2\n0\nTest Case Three\n1 100000 A 1\n12345 12345 B 1\n12000 12999 A 2\n12345 12345 B 2\n10000 100000 C 2\n0\nExample Four\n1 100000 A 1\n12345 12345 B 1\n12000 12999 A 2\n12345 12345 B 2\n10000 100000 C 2\n1000000 1999999 Z 99\n0\nExample 5\n1 10 A 1\n21 30 B 1\n11 20 A 1\n0\nExample 6\n21 30 B 1\n1 10 A 1\n11 20 A 2\n0\nExample 7\n12 20 A 1\n21 30 B 1\n1 10 A 1\n0\nEND</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">First Example\n1 12344 A 1\n12345 12345 B 1\n12346 100000 A 1\nAnd Another\n1 11999 A 1\n12000 12344 A 2\n12345 12345 B 2\n12346 12999 A 2\n13000 100000 A 1\nTest Case Three\n1 9999 A 1\n10000 100000 C 2\nExample Four\n1 9999 A 1\n10000 100000 C 2\n1000000 1999999 Z 99\nExample 5\n1 20 A 1\n21 30 B 1\nExample 6\n1 10 A 1\n11 20 A 2\n21 30 B 1\nExample 7\n1 10 A 1\n12 20 A 1\n21 30 B 1</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2008+Mid-Central+USA&amp;source=1&amp;searchmode=source\"> 2008 Mid-Central USA </a> ","type":"source","format":"html"}]}