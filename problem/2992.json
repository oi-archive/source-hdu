{"title":"Hotel booking ","time_limit":5000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2992","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2992&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2992","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2992"},"statement":[{"title":"Problem Description","content":"A transport company often needs to deliver goods from one city to another city. The transport company has made a special deal with a hotel chain which allows its drivers to stay in the hotels of this chain for free. Drivers are only allowed to drive up to 10 hours a day. The transport company wants to find a route from the starting city to the destination city such that a driver can always spend the night in one of the hotels of the hotel chain, and that he needs to drive at most 10 hours from one hotel to the next hotel (or the destination). Of course, the number of days needed to deliver the goods should also be minimized. <br><br>","type":"description","format":"html"},{"title":"Input","content":"The input file contains several test cases. Each test case starts with a line containing an integer n, (2 &#x2264; n &#x2264; 10000), the number of cities to be considered when planning the route. For simplicity, cities are numbered from 1 to n, where 1 is the starting city, and n is the destination city. The next line contains an integer h followed by the numbers c<sub>1</sub>, c<sub>2</sub>, ..., c<sub>h</sub> indicating the numbers of the cities where hotels of the hotel chain are located. You may assume that 0 &#x2264; h &#x2264; min(n, 100). The third line of each test case contains an integer m (1 &#x2264; m &#x2264; 10<sup>5</sup>), the number of roads to be considered for planning the route. The following m lines describe the roads. Each road is described by a line containing 3 integers a, b, t (1 &#x2264; a, b &#x2264; n and 1 &#x2264; t &#x2264; 600), where a, b are the two cities connected by the road, and t is the time in minutes needed by the driver to drive from one end of the road to the other. Input is terminated by n = 0. <br><br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, print one line containing the minimum number of hotels the transport company has to book for a delivery from city 1 to city n. If it is impossible to find a route such that the driver has to drive at most 10 hours per day, print -1 instead. ","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6\n3 2 5 3\n8\n1 2 400\n3 2 80\n3 4 301\n4 5 290\n5 6 139\n1 3 375\n2 5 462\n4 6 300\n3\n0\n2\n1 2 371\n2 3 230\n0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n-1</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2009%2F2010+Ulm+Local+Contest++&amp;source=1&amp;searchmode=source\"> 2009/2010 Ulm Local Contest   </a> ","type":"source","format":"html"}]}