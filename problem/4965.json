{"title":"Fast Matrix Calculation","time_limit":1000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4965","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4965&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4965","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4965"},"statement":[{"title":"Problem Description","content":"   One day, Alice and Bob felt bored again, Bob knows Alice is a girl who loves math and is just learning something about matrix, so he decided to make a crazy problem for her.<br><br>   Bob has a six-faced dice which has numbers 0, 1, 2, 3, 4 and 5 on each face. At first, he will choose a number N (4 &lt;= N &lt;= 1000), and for N times, he keeps throwing his dice for K times (2 &lt;=K &lt;= 6) and writes down its number on the top face to make an N*K matrix A, in which each element is not less than 0 and not greater than 5. Then he does similar thing again with a bit difference: he keeps throwing his dice for N times and each time repeat it for K times to write down a K*N matrix B, in which each element is not less than 0 and not greater than 5. With the two matrix A and B formed, Alice&#x2019;s task is to perform the following 4-step calculation.<br><br>   Step 1: Calculate a new N*N matrix C = A*B.<br>   Step 2: Calculate M = C^(N*N). <br>   Step 3: For each element x in M, calculate x % 6. All the remainders form a new matrix M&#x2019;.<br>   Step 4: Calculate the sum of all the elements in M&#x2019;. <br><br>   Bob just made this problem for kidding but he sees Alice taking it serious, so he also wonders what the answer is. And then Bob turn to you for help because he is not good at math.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"   The input contains several test cases. Each test case starts with two integer N and K, indicating the numbers N and K described above. Then N lines follow, and each line has K integers between 0 and 5, representing matrix A. Then K lines follow, and each line has N integers between 0 and 5, representing matrix B.<br><br>   The end of input is indicated by N = K = 0.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"   For each case, output the sum of all the elements in M&#x2019; in a line.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4 2\n5 5\n4 4\n5 4\n0 0\n4 2 5 5\n1 3 1 5\n6 3\n1 2 3\n0 3 0\n2 3 4\n4 3 2\n2 5 5\n0 5 0\n3 4 5 1 1 0\n5 3 2 3 3 2\n3 1 5 4 5 2\n0 0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">14\n56</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"SYSU","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+Multi-University+Training+Contest+9&amp;source=1&amp;searchmode=source\"> 2014 Multi-University Training Contest 9 </a> ","type":"source","format":"html","require":["katex"]}]}