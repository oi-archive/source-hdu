{"title":"Honey Tour","time_limit":2000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5851","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5851&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5851","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5851"},"statement":[{"title":"Problem Description","content":"A little bear Koma likes honey very much. One day, Koma finds a storehouse full of honey. The storehouse has M entrances and exits, is very complicated like a maze. But Koma understands the structure of the storehouse which it is K downwards repetitions of N*M grid, there are some obstacles and the other grids has a honey pot, M entrances are at the top sides of top grid cells and M exits are at the bottom sides of bottom grid cells.<br><br>Koma decides to tour in the storehouse following rules.<br><br>1.&#xA0;&#xA0;Koma enters the storehouse through one of the entrances.<br>2.&#xA0;&#xA0;Koma can move by one of 4 adjacent directions, cannot go through the obstacles and no grid can be visited more than once.<br>3.&#xA0;&#xA0;Koma can eat a honey pot on his position.<br>4.&#xA0;&#xA0;Koma can go out through one of the exits.<br><br>Koma wants to eat as much honey as possible and he wants to know maximum number of honey pot he can eat when he enters by ith entrance and go out by jth exit and number of that tour.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"First line contains an integer T, number of test cases.<br><br>For each test case, there are 3 integers N, M, K.<br><br>And there are N lines which contains M characters.<br><br>&#x2018;.&#x2019;means a grid cell which has honey pot and &#x2018;X&#x2019; means a obstracle.<br><br>1 &lt;= N &lt;= 5<br>2 &lt;= M &lt;= 7<br>2 &lt;= N * M &lt;= 25<br>1 &lt;= K &lt;= 1000000000<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, first line contains a line &#x201C;Case #x:&#x201D;, x is the number of the case.<br><br>And then you should output two M * M matrices, first is number of honey pot and second is number of that tour.<br><br>ith line of jth number is for the case such that he enters by ith entrance and go out by jth exit.<br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n2 2 2\n..\n.X</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1:\n4 0\n5 0\n1 0\n1 0\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nThe store house is actually like this.\nSS\n..\n.X\n..\n.X\nTT\nS is entrance and T is exit.\n\nAnd tour is like this.\nSS\n|.\n|X\n|.\n|X\nTT\n\nSS\n|-\n|X\n|.\n|X\nTT\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"&#x91D1;&#x7B56;&#x5DE5;&#x4E1A;&#x7EFC;&#x5408;&#x5927;&#x5B66;&#xFF08;DPRK&#xFF09;","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2016+Multi-University+Training+Contest+9&amp;source=1&amp;searchmode=source\"> 2016 Multi-University Training Contest 9 </a> ","type":"source","format":"html","require":["katex"]}]}