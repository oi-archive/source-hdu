{"title":"Boss Bo","time_limit":4000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5756","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5756&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5756","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5756"},"statement":[{"title":"Problem Description","content":"There is a tree with $N$ nodes, whose root is 1.<br><br>    There are $Q$ queries for you,for each query,we will give $K$ numbers,which are $A_1,A_2,\\dots,A_K$.<br><br>    For every node $x\\in[1,N]$ in the tree,we assume it&apos;s good if there is not a node $y\\in A$,such that $y$ is the ancient of $x$ or $y=x$<br><br>    And we will give two numbers $T , P$ to show the property of each query.<br><br>    1.when $T=1$,you should output the sum of the distance between every good node and $P$.<br><br>    2.when $T=2$,you should output the minimum distance between every good node and $P$.<br><br>    3.when $T=3$,you should output the maximum distance between every good node and $P$.<br><br>    Let the distance between nodes in the tree be the shortest path between these two nodes.And we assume the length of each edge is 1.<br><br>    Specially,the distance between two same nodes is 0.<br><br>    For each query,if there is no nodes that is good,just output -1.","type":"description","format":"html"},{"title":"Input","content":"There are several test cases.<br><br>    For each test case,the first line contains two numbers $N$ and $Q$.<br><br>    For the following $N-1$ lines,each line contains two numbers $u$ and $v$,indicating there is a edge between $u$ and $v$ in tree.<br><br>    For the following $Q$ lines,each line contains some numbers,which are $K,P&apos;,T,A_1,A_2,\\dots,A_K$ in order.<br><br>    Let the answer of last query be $lastans$,then $P=(P&apos; + lastAns)~\\mod{N} + 1$.<br><br>    If the answer of last query is -1 or it&apos;s the first query,then $lastans=0$.<br><br>    Let the number of test cases be $T$,we guarantee $T=30$.<br><br>    $80\\%$ test cases satisfy $N,K,Q \\le 10000$ ,$\\sum{K} \\le 20000$.<br><br>    $100\\%$ test cases satisfy ~$P, N,K \\le 50000$,$Q \\le 100000$,$\\sum{K} \\le 200000$.","type":"input_format","format":"html"},{"title":"Output","content":"You should output Q lines in total,each line contains a number indicating the answer of each query.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6 5\n1 3\n2 1\n4 2\n6 4\n5 6\n3 5 3\n3 3 3\n3 4 3\n4 5 1\n3 3 1\n1 5 6\n3 5 2\n3 4 2\n3 3 3\n6 5 3</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n-1\n-1\n3\n2</div></pre>","type":"example","format":"html"},{"title":"Author","content":"&#x7ECD;&#x5174;&#x4E00;&#x4E2D;","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2016+Multi-University+Training+Contest+3&amp;source=1&amp;searchmode=source\"> 2016 Multi-University Training Contest 3 </a> ","type":"source","format":"html"}]}