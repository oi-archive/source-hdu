{"title":"Square Revolution","time_limit":5000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5906","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5906&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5906","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5906"},"statement":[{"title":"Problem Description","content":"Alex loves solving algorithmic problems relating with strings. After solving the problem about counting the number of prefix-square free strings of length at most $n$, he is curious in the number of prefix-suffix-square free substrings of a string $s$. Can you help him?<br><br>A string is called a square string if it can be obtained by concatenating two copies of the same string (i.e. $s=uu$ for some word $u$). For example, &quot;abab&quot;, &quot;aa&quot; are square strings, while &quot;aaa&quot;, &quot;abba&quot; are not. A string is called prefix-suffix-square free if none of its prefixes/suffixes is a square.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"There are multiple test cases. The first line of input contains an integer $T$, indicating the number of test cases. For each test case:<br><br>The first line contains a string $s=s_{1}s_{2}...s_{n}$ $(1 \\le n \\le 10^5)$ consisting of lowercase English letters.<br><br>There are at most $1000$ test cases and the sum of $n$ does not exceed $10^6$.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, output the number of prefix-suffix-square free substrings of $s$.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\naaaaa\naabcd\naaabbbccc\nkurakujoudo</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\n11\n12\n66</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%2387&amp;source=1&amp;searchmode=source\"> BestCoder Round #87 </a> ","type":"source","format":"html","require":["katex"]}]}