{"title":"zhx's tree","time_limit":10000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5189","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5189&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5189","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5189"},"statement":[{"title":"Problem Description","content":"zhx has built a tree of $n$ nodes. On each node of the tree live a boy and a girl. The weight and height of them are already known.<br>One day, zhx was bored of brushing problems, so he asked you to find a boy and a girl on the path between u and v (not necessary to live on the same node). He wants you to maximize the weighted average height of them.<br>Note: Let&apos;s assume that the boy&apos;s weight is $wb$ and his height is $hb$, and the girl&apos;s weight is $wg$ and her height is $hg$, then the answer should be $\\frac{wb * hb + wg * hg}{wb + wg}$.","type":"description","format":"html"},{"title":"Input","content":"Multiply test cases(less than $10$. Cases in which $n &gt; {10}^{4}$ will not exceed $3$). Seek $EOF$ as the end of the file.<br>For each case, there are two integers $n, q$ in the first line.($n,q \\leq 3*10^{4}$)<br>In the following $n$ lines, there are four integers $wb_i, hb_i, wg_i, hg_i$($1 \\leq wb_i, hb_i, wg_i, hg_i \\leq 10^{3}$), indicating the weight and the height of the boy and the girl on node $i$.<br>Then comes $n - 1$ lines with two integers, indicating edges of the tree.(nodes are numbered from $1$ to $n$)<br>Then comes $q$ lines with two integers $u, v$ indicating an query.","type":"input_format","format":"html"},{"title":"Output","content":"For each query, output a simplified fraction as the answer.(That means if your answer is $\\frac{a}{b}$, $a$ and $b$ should not have a common divisor larger than $1$)<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3 2\n1 2 3 1\n2 3 1 2\n2 3 3 3\n1 2\n1 3\n1 3\n1 1\n4 3\n32 21 51 32\n51 53 48 1\n16 61 5 84\n89 5 84 65\n1 2\n2 3\n2 4\n4 1\n3 2\n1 2</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3/1\n5/4\n907/15\n1396/21\n85/2</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%2333&amp;source=1&amp;searchmode=source\"> BestCoder Round #33 </a> ","type":"source","format":"html"}]}