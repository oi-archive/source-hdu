{"title":"rausen loves cakes","time_limit":1000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5997","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5997&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5997","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5997"},"statement":[{"title":"Problem Description","content":"Rausen loves cakes. One day, he bought $n$ cakes and the color of each cake is described as an integer in $\\left[1,1000000\\right]$. Rausen lines the cakes from left to right.<br><br>Before eating, rausen proceeds $q$ operations on cakes.<br><br>At one time point, rausen would replace all cakes of $x$ color with those of color $y$.<br><br>At another time point, rausen would calculate the number of segment colors in the interval$\\left[x,y\\right]$. A color segment is defined as an interval of one single color. For example,&apos;1 4 4 1 1&apos; involves 3 color segments.<br><br>Nevertheless, rausen finds that he cannot compile the statistics of color segments in the interval, which makes him weep like a helpless crybaby (bazinga). Please help rausen resolve the problem to placate him.","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases. The first line of input contains an integer $T$ indicating the number of test cases. For each test case:<br><br>The first line contains 2 integers $n$,$q$.<br><br>In the following $q$ lines,each line contains 3 integers: $op\\left(1\\leq op\\leq 2\\right)$, $x$ and $y$ which describe one operation:<br><br>If $op=1$, then rausen is to proceed a substitution operation and this is when you replace cakes of color $x$ with those of color $y$.$x$ and $y$ satisfy $\\left (1\\leq x,y\\leq 1000000 \\right)$.<br><br>if $op=2$, then rausen is to proceed a counting operation and this is when you are required to input the color segments in the interval $\\left[x,y\\right]$.$x$ and $y$ satisfy $\\left(1\\leq x\\leq y\\leq n\\right)$<br><br>$\\left(1\\leq T\\leq 5 \\right)$,$\\left(1\\leq n\\leq {10}^{5} \\right)$,$\\left(1\\leq q\\leq {10}^{5} \\right)$<br>","type":"input_format","format":"html"},{"title":"Output","content":"For every counting operation of each case, a single line contains one number as the answer.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n5 3\n1 4 4 10 1\n2 1 5 \n1 4 10\n2 3 5</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n2</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%2390&amp;source=1&amp;searchmode=source\"> BestCoder Round #90 </a> ","type":"source","format":"html"}]}