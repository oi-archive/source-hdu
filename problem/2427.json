{"title":"Judges's Final Problem","time_limit":2000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2427","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2427&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2427","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2427"},"statement":[{"title":"Problem Description","content":"For any ACM/ICPC participant, it is always discouraging to discover that the real problems they face in the programming world are seldom as interesting as the tasks they face in the algorithm-related contests. While the efficiency of your algorithm is certainly vital to the overall system, still it is seldom valued so much as other factors such as readability, and the ability of coding accurately often takes precedence in many projects. Still, we judges believe that a balance between these two can be achieved - a good programmer should be able to come up with code that is fast, reliable and readable in a reasonable amount of time - and that is why you, the contestant, is asked to solve the problem of building a ranking system for us.<br>You&apos;re probably familiar with the following paragraph taken from Rules of ACM/ICPC:<br><br><i>&#xA0;&#xA0;&#xA0;&#xA0;A problem is solved when it is accepted by the judges.  Teams are ranked according to the most problems solved. Teams who solve the same number of problems are ranked by least total time. The total time is the sum of the time consumed for each problem solved. The time consumed for a solved problem is the time elapsed from the beginning of the contest to the submittal of the accepted run plus 20 penalty minutes for every rejected run for that problem regardless of submittal time. There is no time consumed for a problem that is not solved.<br></i><br>During a contest, the following kinds of requests might be submitted by participants:<br><br><b>Submission</b><br>(Format:  <i>S [minute]:[Team No]:[Problem ID]:[Result]</i>)<br><br>If a team submits a problem which they have already solved, then this submission should be considered invalid and ignored by your system; otherwise, the submission is valid and saved for further processing - if the result is 1 (Correct), then this submission should be considered accepted by the system. <br><br><b>Query a team&apos;s place on the rank list.</b><br>(Format: <i>R [Team No]</i>) <br><br>Sort the teams according to the contest rules mentioned above. A tie may occur between two teams who solved equal number of problems and same penalty. <br>Two teams who solved same number of problems and have same penalty should always have same rank; <b>however</b>, when querying the K<sup>th</sup> team on the rank list, even if many teams share the same rank, only one team should be printed (please refer to the rule given below).<br><br><b>Query the K<sup>th</sup> team on the rank list.</b><br>(Format: <i>T [k]</i>)<br><br>If a tie occurs, return the team with the minimum last accepted submission time. Note that the submission time of two teams might be different (i.e., in seconds) even though it may appear otherwise in the input.<br>Initially every team has no submissions, and the contest will last no more than 5 hours. <br>","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases in the input. <br>Each test case starts with two integers, N and M, (1 &lt;= N &lt;= 10000, 1 &lt;= M &lt;= 10), the number of teams participating in the competition, and the total number of problems in the contest. Teams are numbered from 0 to N - 1. Each of the following lines is either in one of the three formats listed above, or a single line  &quot;Contest Ends&quot;  followed by an empty line indicating the end of current test case. It is guaranteed that there are no more than 100000 requests in each test case.<br>Input ends with End-of-File.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For every submission request, if the submitted program is accepted, you need to output a line whose format is <i>[Team No] [Problem ID]</i>; for every query about team&apos;s place on the rank list, output the result in one single line; for every query about the team with the K<sup>th</sup> highest score, if a team is found, output a line with one integer, the number of the team, or -1 if you are unable to find such a team. <br>Please print a blank line after each test case.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5 8\nT 1\nT 2\nS 5:0:A:0\nS 8:0:A:1\nS 9:1:B:1\nS 15:0:A:1\nT 1\nT 2\nT 3\nR 0\nR 1\nR 2\nR 3\nContest Ends</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">0\n-1\n[0][A]\n[1][B]\n1\n0\n2\n1\n0\n2\n2</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2008+Asia+Hangzhou+Regional+Contest+Online&amp;source=1&amp;searchmode=source\"> 2008 Asia Hangzhou Regional Contest Online </a> ","type":"source","format":"html"}]}