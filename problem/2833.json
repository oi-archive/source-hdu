{"title":"WuKong","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2833","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2833&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2833","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2833"},"statement":[{"title":"Problem Description","content":"Liyuan wanted to rewrite the famous book &#x201C;Journey to the West&#x201D; (&#x201C;Xi You Ji&#x201D; in Chinese pinyin). In the original book, the Monkey King Sun Wukong was trapped by the Buddha for 500 years, then he was rescued by Tang Monk, and began his journey to the west. Liyuan thought it is too brutal for the monkey, so he changed the story:<br><br>One day, Wukong left his home - Mountain of Flower and Fruit, to the Dragon &#xA0;&#xA0;King&#x2019;s party, at the same time, Tang Monk left Baima Temple to the Lingyin Temple to deliver a lecture. They are both busy, so they will choose the shortest path. However, there may be several different shortest paths between two places. Now the Buddha wants them to encounter on the road. To increase the possibility of their meeting, the Buddha wants to arrange the two routes to make their common places as many as possible. Of course, the two routines should still be the shortest paths.<br><br>Unfortunately, the Buddha is not good at algorithm, so he ask you for help.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"There are several test cases in the input. The first line of each case contains the number of places N (1 &lt;= N &lt;= 300) and the number of roads M (1 &lt;= M &lt;= N*N), separated by a space. Then M lines follow, each of which contains three integers a b c, indicating there is a road between place a and b, whose length is c. Please note the roads are undirected. The last line contains four integers A B C D, separated by spaces, indicating the start and end points of Wukong, and the start and end points of Tang Monk respectively. <br><br>The input are ended with N=M=0, which should not be processed.<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"Output one line for each case, indicating the maximum common points of the two shortest paths.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6 6\n1 2 1\n2 3 1\n3 4 1\n4 5 1\n1 5 2\n4 6 3\n1 6 2 4\n0 0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n\nHint: One possible arrangement is (1-2-3-4-6) for Wukong and (2-3-4) for Tang Monk. The number of common points are 3.</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2009+Multi-University+Training+Contest+2+-+Host+by+TJU+&amp;source=1&amp;searchmode=source\"> 2009 Multi-University Training Contest 2 - Host by TJU  </a> ","type":"source","format":"html","require":["katex"]}]}