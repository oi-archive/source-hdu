{"title":"Arithmetic of Bomb II","time_limit":15000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6145","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6145&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6145","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6145"},"statement":[{"title":"Problem Description","content":"&#x4F17;&#x6240;&#x5468;&#x77E5;&#xFF0C;&#x5EA6;&#x5EA6;&#x718A;&#x975E;&#x5E38;&#x559C;&#x6B22;&#x6570;&#x5B57;&#x3002;<br><br>&#x5B83;&#x6700;&#x8FD1;&#x5728;&#x5B66;&#x4E60;&#x5C0F;&#x5B66;&#x7B97;&#x672F;&#xFF0C;&#x6C89;&#x8FF7;&#x4E8E;&#x8BA1;&#x7B97;A+B&#x4E2D;&#x4E0D;&#x80FD;&#x81EA;&#x62D4;&#x3002;<br><br>&#x4F46;&#x662F;&#x8FD9;&#x56DE;&#x7684;&#x7B97;&#x672F;&#x9898;&#x53EF;&#x5E76;&#x4E0D;&#x7B80;&#x5355;&#xFF0C;&#x7531;&#x4E8E;&#x542B;&#x6709;&#x8868;&#x793A;bomb&#x7684;#&#x53F7;&#xFF0C;&#x5EA6;&#x5EA6;&#x718A;&#x79F0;&#x4E4B;&#x4E3A; Arithmetic of Bomb&#x3002;<br><br><center><img style=\"max-width:100%;\" src=\"http://bestcoder.hdu.edu.cn/data/images/C777-1002-1.jpg\"></center><br><br>Arithmetic of Bomb&#x7684;&#x76EE;&#x7684;&#x4E0E;&#x666E;&#x901A;&#x7B97;&#x672F;&#x4E00;&#x6837;&#xFF0C;&#x5C31;&#x662F;&#x8BA1;&#x7B97;&#x4E00;&#x4E9B;Bomb Expression&#x7684;&#x7ED3;&#x679C;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x201D;1-2+3&#x201D;&#x7684;&#x7ED3;&#x679C;&#x4E3A;2&#x3002;&#x7136;&#x800C;&#xFF0C;bomb&#xFF0C;&#x4E5F;&#x5C31;&#x662F;#&#x53F7;&#xFF0C;&#x4F1A;&#x5C55;&#x5F00;&#x4E00;&#x4E9B;&#x666E;&#x901A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x9700;&#x8981;&#x8BA1;&#x7B97;&#x7684;&#x5F0F;&#x5B50;&#x8D85;&#x51FA;&#x4E86;&#x5EA6;&#x5EA6;&#x718A;&#x6240;&#x80FD;&#x7406;&#x89E3;&#x7684;&#x8303;&#x7574;&#x3002;&#x6BD4;&#x5982;&#x201D;(1-2+3)#(3)&#x201D;&#x8868;&#x793A;&#x201D;1-2+3&#x201D;&#x51FA;&#x73B0;&#x4E86;3&#x6B21;&#xFF0C;&#x5C06;&#x4F1A;&#x88AB;&#x5C55;&#x5F00;&#x4E3A;&#x201D;1-2+31-2+31-2+3&#x201D;&#x3002;<br><br>&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x7406;&#x89E3;&#xFF0C;&#x4E0B;&#x9762;&#x7ED9;&#x51FA;&#x4E86;Bomb Expression&#x7684;BNF&#x8868;&#x793A;&#x3002;<br><br>```<br>&lt;bomb expression&gt; := &lt;bomb term&gt; | &lt;bomb expression&gt; &lt;bomb term&gt;<br>&lt;bomb term&gt; := &lt;bomb statement&gt; | &apos;(&apos; &lt;bomb statement&gt; &apos;)&apos; &apos;#&apos; &apos;(&apos; &lt;number&gt; &apos;)&apos;<br>&lt;bomb statement&gt; := &lt;bomb element&gt; | &lt;bomb statement&gt; &lt;bomb element&gt;<br>&lt;bomb element&gt; := &lt;digit&gt; | &apos;+&apos; | &apos;-&apos; | &apos;*&apos;<br>&lt;normal expression&gt; := &lt;norm term&gt; | &lt;normal expression&gt; &apos;+&apos; &lt;norm term&gt; | &lt;normal expression&gt; &apos;-&apos; &lt;norm term&gt;<br>&lt;norm term&gt; := &lt;number&gt; | &lt;norm term&gt; &apos;*&apos; &lt;number&gt;<br>&lt;number&gt; := &lt;digit&gt; | &lt;non-zero-digit&gt; &lt;number&gt;<br>&lt;digit&gt; := &apos;0&apos; | &lt;non-zero-digit&gt;<br>&lt;non-zero-digit&gt; := &apos;1&apos; | &apos;2&apos; | &apos;3&apos; | &apos;4&apos; | &apos;5&apos; | &apos;6&apos; | &apos;7&apos; | &apos;8&apos; | &apos;9&apos;<br><br>```<br><br><br>&#x8BF7;&#x5148;&#x5C06;Bomb Expression&#x4E2D;&#x6240;&#x6709;&#x7684;#&#x53F7;&#x5C55;&#x5F00;&#xFF0C;&#x4F7F;&#x5176;&#x6210;&#x4E3A;Normal Expression&#xFF08;&#x9898;&#x76EE;&#x7684;&#x8F93;&#x5165;&#x4FDD;&#x8BC1;&#x5C55;&#x5F00;&#x540E;&#x662F;&#x4E00;&#x4E2A;&#x5408;&#x6CD5;&#x7684;Normal Expression&#xFF09;&#xFF0C;&#x518D;&#x6765;&#x8BA1;&#x7B97;&#x8FD9;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7ED3;&#x679C;&#x3002;","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"&#x7B2C;&#x4E00;&#x884C;&#x4E3A;T&#xFF0C;&#x8868;&#x793A;&#x8F93;&#x5165;&#x6570;&#x636E;&#x7EC4;&#x6570;&#x3002;<br><br>&#x6BCF;&#x7EC4;&#x6570;&#x636E;&#x5305;&#x542B;&#x4E00;&#x4E2A;Bomb Expression&#x3002;<br><br>&#x25CF;1&#x2264;T&#x2264;50<br><br>&#x25CF;1&#x2264;length(Bomb Statement)&#x2264;10<br><br>&#x25CF;1&#x2264;length(Number in Bomb term)&#x2264;10<br><br>&#x25CF;1&#x2264;length(Bomb Expression)&#x2264;300 000","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"&#x5BF9;&#x6BCF;&#x7EC4;&#x6570;&#x636E;&#x8F93;&#x51FA;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x7ED3;&#x679C;&#x5BF9; 1 000 000 007 &#x53D6;&#x6A21;&#x3002;","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6\n1-2+3\n(1-2+3)#(3)\n(1)#(3)\n(1+)#(2)1\n(2*3+1)#(2)\n(2)#(2)1+1(2)#(2)</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n60\n111\n3\n43\n343</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2017%B0%D9%B6%C8%D6%AE%D0%C7%B3%CC%D0%F2%C9%E8%BC%C6%B4%F3%C8%FC+-+%B8%B4%C8%FC&amp;source=1&amp;searchmode=source\"> 2017&#x767E;&#x5EA6;&#x4E4B;&#x661F;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x5927;&#x8D5B; - &#x590D;&#x8D5B; </a> ","type":"source","format":"html","require":["katex"]}]}