{"title":"Gunshots","time_limit":5000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3684","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3684&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3684","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3684"},"statement":[{"title":"Problem Description","content":"President Bartlet was shot!  A group of terrorists shot to the crowd when President Bartlet waved to cheering people after his address. Many people were shot by the irrational bullets. Senior FBI agent Don Epps takes responsibility for this case. According to a series of crime scene investigation, including analyzing shot shells, replaying video from closed-circle television and collecting testimony by witnesses, Don keeps all the information about where and how the terrorists shot to crowd, as well as the location of every single person when the gun shoot happened.  Now he wants to know how many gunshot victims are there in this case.<br><br>Imagine that each target person can be regarded as a polygon (can be concave or self-intersecting) and each gunshot can be regarded as a half-line. The bullet will be stopped by the first person it shoots. A person can be shot in three ways:<br><center><img style=\"max-width:100%;\" src=\"../../data/images/3684-1.gif\"></center> <br>To simplify the problem, we assume that any two polygons can be completely separated by a line. Also each start point of the gunshot can be separated from each polygon by a line. Now given M people and N gunshots, please work out which person has been shot by each bullet.","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases in the input. The first line of the input file is an integer T demonstrating the number of test cases. (T&lt;=10).<br><br>For each test case, the first line is an integer N, representing the number of people (polygons). Following lines demonstrates the polygons. For the ith polygon (0&lt;=i&lt;N), the first line is an integer Q<sub>i</sub>, representing the number of edges of this polygon. In each of the following Qi lines, there are two real numbers x<sub>i</sub> and y<sub>i</sub> representing a point. Every pair of adjacent points demonstrate an edge of this polygon (i.e. (x<sub>i</sub>, y<sub>i</sub>) to (x<sub>i+1</sub>, y<sub>i+1</sub>) is an edge, in which 0&lt;=i&lt;Q<sub>i</sub>-1), and (x<sub>Qi-1</sub>, y<sub>Qi-1</sub>) to (x<sub>0</sub>, y<sub>0</sub>) also demonstrates an edge of this polygon. <br><br>Then there is a line contains an integer M representing the number of gunshots. In the following M lines, each line contains four real numbers x, y, dx and dy, representing the start point (x, y) and direction vector (dx, dy) of that gunshot. <br><br>In all test cases, we assume that 0&lt; N&lt;=100, 0&lt;Q<sub>i</sub>&lt;=1000, 0&lt;M&lt;=10000. <br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output contains M lines and the i<sup>th</sup> line demonstrates the result of the i<sup>th</sup> gunshot. <br><br>If the i<sup>th</sup> gunshot shoots the j<sup>th</sup> polygon, the i<sup>th</sup> line contains &#x201C;HIT j&#x201D;, otherwise it contains a word &#x201C;MISS&#x201D; (means that it does not shoot any target). The polygons are numbered in the order of their appearance in the input file, and the numbers start from 0. <br><br>At the end of each test case, please output a single line with &#x201C;*****&#x201D;. <br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n1\n4\n0 0\n1 1\n0 1\n1 0\n2\n-1 0 1 0\n-2 0 -1 0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">HIT 0\nMISS\n*****\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>The figure of the first case in the samples is as follows:\n<center><img src=\"../../data/images/3684-2.gif\"></center> </div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2010+Asia+Hangzhou+Regional+Contest+&amp;source=1&amp;searchmode=source\"> 2010 Asia Hangzhou Regional Contest  </a> ","type":"source","format":"html"}]}