{"title":"Chopping hands","time_limit":1500,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6371","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6371&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6371","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6371"},"statement":[{"title":"Problem Description","content":"Patrick Star wants to collect some cards.The number of cards&apos; type is $ M $,numbered from $ 1 $ to $ M $.<br><br>There are $ N $ card packs in the card shop:<br><br>1.The cost of $i_{th}$ card pack is $ C_{i} $, note that $ C_{i} $ may be negative.<br><br>2.The number of cards in $i_{th}$ card pack is $ D_{i} $.<br><br>3.The cards in all card packs are known,some types of card can appear in a pack more than once.<br><br>4.All of card packs can be bought only once.<br><br>Once Patrick Star gets an $ i_{th} $ type of card,he will regard $ Value_{i,j} $ as this card&apos;s value if the card is $j_{th}$ got as the $i_{th}$ type.<br><br>(If you buy two packs [type 1,type 1,type 2] and [type 1,type 2,type 3],you will get value [$Value_{1,1}, Value_{1,2}, Value_{2,1}, Value_{1,3}, Value_{2,2}, Value_{3,1}]$)<br><br>After Patrick Star choose some card packs bought,cost $ S $ (may be negative too):<br><br>Firstly,sort all cards by their value. We will get the median of the value as $ mid $.<br><br>(When the number of variables is an odd number, the value of the variable in the middle position is the median.when the number of variables is an even number, the median is the average of the 2 variable values in the middle position.)<br><br>Then Patrick Star considers his satisfaction $ V $ as $ V = 2 * mid $<br><br>Patrick Star wants to know the maximum value of $ V - S $.<br><br>Note that Patrick Star will buy at least one pack.<br>","type":"description","format":"html"},{"title":"Input","content":"The first line contain a integer $T$ (no morn than 10), the following is $T$ test case, for each test case :<br><br>the first line contain two integers N and M.<br><br>The second line contain N integers separated by spaces,$ C_{1},C_{2},&#x2026;&#x2026;C_{n} $<br><br>Then next N lines,the first integer of each line is $ D_{i} $,and the $ D_{i} $ integers after that represents the type of each card in i-th pack.<br><br>Then next M lines,the first integer $ t_{i} $ of each line represents the number of times the i-th card appear in all packs,and the t integers after that,j-th integer represents $ Value_{i,j} $.<br><br>Limits:<br><br>$ 1 \\leq N \\leq 21 $<br><br>$ 1 \\leq M \\leq 200 $<br><br>$ -1,000,000 \\leq C_{i} \\leq 1,000,000 $<br><br>$ 1 \\leq D_{i} \\leq 100 , \\sum_{i=1}^{N}D_{i} \\leq 100 $<br><br>$ 0 \\leq Value_{i,j} \\leq 100,000,000 $","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, please output an integer in a line represented the answer.It&apos;s clear that the answer is an integer.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n4 1\n1 2 3 4\n1 1\n1 1\n1 1\n1 1\n4 4 3 2 1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">7</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2018+Multi-University+Training+Contest+6&amp;source=1&amp;searchmode=source\"> 2018 Multi-University Training Contest 6 </a> ","type":"source","format":"html"}]}