{"title":"Parentheses Matching","time_limit":2000,"memory_limit":512,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6799","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6799&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6799","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6799"},"statement":[{"title":"Problem Description","content":"Given a string $P$ consisting of only parentheses and asterisk characters (i.e. &quot;(&quot;, &quot;)&quot; and &quot;*&quot;), you are asked to replace all the asterisk characters in order to get a balanced parenthesis string with the shortest possible length, where you can replace each &quot;*&quot; by one &quot;(&quot;, or one &quot;)&quot;, or an empty string &quot;&quot;.<br><br>A parenthesis string $S$ is a string consisting of only parentheses (i.e. &quot;(&quot; and &quot;)&quot;), and is considered balanced if and only if:<br><br>&#xA0;&#xA0;&#xA0;&#xA0;&#xFFFD;&#xFFFD; $S$ is an empty string, or<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xFFFD;&#xFFFD; there exist two balanced parenthesis strings $A$ and $B$ such that $S = A B$, or<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xFFFD;&#xFFFD; there exists a balanced parenthesis string $C$ such that $S = (C)$.<br><br>For instance, &quot;&quot;, &quot;()&quot;, &quot;(())&quot;, &quot;()()&quot;, &quot;()(())&quot; are balanced parenthesis strings.<br><br>Due to some notorious technical inability, if there are several solutions with the shortest possible length, then you have to report the smallest possible one in lexicographical order.<br><br>For every two different strings $A$ and $B$ of the same length $n$, we say $A$ is smaller than $B$ in lexicographical order if and only if there exists some integer $k$ such that:<br><br>&#xA0;&#xA0;&#xA0;&#xA0;&#xFFFD;&#xFFFD; $1 \\leq k \\leq n$, and<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xFFFD;&#xFFFD; the first $(k - 1)$ characters of $A$ and that of $B$ are exactly the same, and<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xFFFD;&#xFFFD; the $k$-th character of $A$ is smaller than that of $B$.<br><br>For instance, &quot;()(())&quot; is smaller than &quot;()()()&quot;, and in this case, $k = 4$.<br>","type":"description","format":"html"},{"title":"Input","content":"There are several test cases.<br><br>The first line contains an integer $T$ ($1 \\leq T \\leq 10^5$), denoting the number of test cases. Then follow all the test cases.<br><br>For each test case, the only line contains a string of length $n$ ($1 \\leq n \\leq 10^5$), denoting the string $P$ that consists of only parentheses and asterisk characters.<br><br>It is guaranteed that the sum of $n$ in all test cases is no larger than $5 \\times 10^6$.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output in one line &quot;No solution!&quot; (without quotes) if no solution exists, or otherwise the smallest possible solution in lexicographical order. Note that the output characters are case-sensitive.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\n*))*)\n*(*)*\n*)*(*\n******\n((***)()((**</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">No solution!\n()\n()()\n\n(())()(())</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2020+Multi-University+Training+Contest+3&amp;source=1&amp;searchmode=source\"> 2020 Multi-University Training Contest 3 </a> ","type":"source","format":"html"}]}