{"title":"Stock Exchange","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2788","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2788&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2788","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2788"},"statement":[{"title":"Problem Description","content":"All stock exchanges in the world have been hit very hardly by the crisis. To keep their profit, they now try to cut down all expenses. Prague Stock Exchange would like to employ new computer software to run their operations.<br><br>Will you help them to develop such a system? Your task is to detect all pairs of buyers and sellers that are able to make a deal together.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The input contains a description of several issuers. Each of them begins with a line containing an integer N, one space, and a code of the stock issuer. After the first one, there are N other lines, each representing one bid. A bid consists of an agent name, one space character, a word specifying the bid type in lowercase letters (either &quot;buy&quot; or &quot;sell&quot;) another space character, and a price given as a decimal number with exactly three digits after the decimal point. All buy bids always specify the maximal price, sell bids list the minimal price for which the agent wants to sell the stocks.<br><br>Every issuer code consist of 1-10 uppercase letters (&quot;A&quot; - &quot;Z&quot;). Agent names have at least 1 and at most 20 characters and may be composed of both lowercase and uppercase letters. For one issuer, all agent names are always unique, but the same agents may post bids for several issuers. The number of bids ( N ) will never exceed 1000. No price will be higher than 10000.<br><br>The last line of the input contains the string &quot;0 END&quot;. ","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each issuer, print its code on a separate line. Then, for each agent&apos;s bid (in the same order they were given in the input), output the name of the agent, a colon (&quot;:&quot;), one space, and a list of all agents that are potential counter-parties for the issuer in concern, i.e., one of them wants to buy, the other to sell and the selling price is less or equal to the buying price.<br><br>The agent names must be separated by a space and listed in the same order that was used in the input for that issuer. If there is no matching bid, output the string &quot;NO-ONE&quot; instead.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3 IBM\nOneBuyer buy 10.600\nTooExpensive sell 12.000\nThisWillWork sell 10.600\n4 ACM\none sell 129.999\ntwo buy 130.000\nthree buy 131.000\nfour sell 129.888\n4 CVUT\nseller sell 121.110\ntoopoor buy 121.109\nsellertwo sell 121.111\niamok buy 121.112\n0 END</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">IBM\nOneBuyer: ThisWillWork\nTooExpensive: NO-ONE\nThisWillWork: OneBuyer\nACM\none: two three\ntwo: one four\nthree: one four\nfour: two three\nCVUT\nseller: iamok\ntoopoor: NO-ONE\nsellertwo: iamok\niamok: seller sellertwo</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=CTU+Open+2008&amp;source=1&amp;searchmode=source\"> CTU Open 2008 </a> ","type":"source","format":"html","require":["katex"]}]}