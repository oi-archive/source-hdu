{"title":"Color the Tree","time_limit":10000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4603","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4603&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4603","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4603"},"statement":[{"title":"Problem Description","content":"Alice and Bob are playing games again! This time, they invent a new game called &quot;Color the Tree&quot;. They draw a tree with N nodes and, certainly, (N-1) edges connecting them to assure a path between each pair of the nodes. But the tree they play with is a little special - each edge is assigned to a color and a specific value. Initially, the value of each edge is settled while the colors are all white.<br>When the game starts, Alice and Bob each choose a node as her/his starting node. In each round, Alice firstly makes a move from her current node to another through an edge with a color of white or red, and if the edge is white, she colors it to red. After that, Bob makes a similar move through a white or blue edge from his current node, and if the edge is white, he colors it to blue. The game keeps going on until all the edges are colored to either red or blue.<br>Alice&apos;s goal is to maximize the sum of values of the red edges, and Bob, wants to maximize that of the blue edges. Given the starting node of them, figure out the maximum sum that Alice is able to obtain if both of them take the best strategy in each round.<br>","type":"description","format":"html"},{"title":"Input","content":"The first line of the input contains a single integer T, indicating there are T test cases.<br>In each case, the first line contains two integers N and M, which denotes the number of nodes and queries.<br>Each of the following (N-1) lines contains a triple of integers (a,b,c), indicating there is an edge connecting node a and node b with a value of c.<br>The following M lines describe the queries. Each of the M lines consists of two integers A and B, indicating the starting node of Alice and Bob, respectively.<br>(2&#xFFFD;&#xFFFD;N&#xFFFD;&#xFFFD;100000,1&#xFFFD;&#xFFFD;M&#xFFFD;&#xFFFD;100000,1&#xFFFD;&#xFFFD;a,b,A,B&#xFFFD;&#xFFFD;N,1&#xFFFD;&#xFFFD;c&#xFFFD;&#xFFFD;1000)<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each query, output the maximum sum that Alice can obtain, one per line.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n2 1\n1 2 3\n1 2\n3 2\n1 2 3\n1 3 1\n2 3\n1 3</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n3\n4\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nFor C++ user, &quot;scanf&quot; is recommended.\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2013+Multi-University+Training+Contest+1&amp;source=1&amp;searchmode=source\"> 2013 Multi-University Training Contest 1 </a> ","type":"source","format":"html"}]}