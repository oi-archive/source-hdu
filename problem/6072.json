{"title":"Logical Chain","time_limit":5000,"memory_limit":512,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6072","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6072&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6072","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6072"},"statement":[{"title":"Problem Description","content":"Every time you come across a problem you&apos;ve never seen before, haven&apos;t you thought of something that is familiar to you? If so, you might think of something else, then more and more things will come to your mind. This is what is called &apos;&apos;Logical Chain&apos;&apos;. Lu Xun&apos;s work also described such interesting phenomenon.<br><br><center><br><img style=\"max-width:100%;\" src=\"../../../data/images/C762-1006-1.jpg\"><br></center> <br><br>Assume there are $n$ things, labeled by $1,2,...,n$. Little Q&apos;s mind can be expressed by a $n\\times n$ matrix $g$. If he can think of $j$ when he comes across $i$, then $g_{i,j}$ is $1$, otherwise it&apos;s $0$. For two different things $u$ and $v$, if $u$ can lead to $v$ directly or indirectly and $v$ can also lead to $u$ directly or indirectly, then the pair $(u,v)$ is called a &apos;&apos;Looping Pair&apos;&apos;.<br><br>Little Q&apos;s mind changes all the time. On $i$-th day, there are $k_i$ positions $(u,v)$ in matrix $g$ flipped($0$ to $1$ and $1$ to $0$). Please write a program to figure out the number of &apos;&apos;Looping Pairs&apos;&apos; after each day&apos;s all changes.<br><br>Note : $(u,v)$ and $(v,u)$ should not be counted twice.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line of the input contains an integer $T(1\\leq T\\leq15)$, denoting the number of test cases.<br><br>In each test case, there are $2$ integers $n,m(1\\leq n\\leq 250,1\\leq m\\leq 25000)$ in the first line, denoting the number of things and days.\\par<br>For the next $n$ lines, each line contains $n$ integers $g_{i,1},g_{i,2},...,g_{i,n}(0\\leq g_{i,j}\\leq 1,g_{i,i}=0)$, denoting the matrix $g$.<br><br>For the next $m$ parts, there is an integer $k_i(1\\leq k_i\\leq 10)$ in the first line, denoting the number of changes happened on that day.<br><br>For the next $k_i$ lines, each line contains $2$ integers $u,v(1\\leq u,v\\leq n,u\\neq v)$, denoting a changed position in $g$.<br><br>It is guaranteed that each position will be changed at most once per day.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each day, print a single line containing an integer, denoting the number of &apos;&apos;Looping Pairs&apos;&apos; after that day&apos;s all changes.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n4 2\n0010\n1000\n0000\n0000\n3\n1 4\n3 2\n1 2\n2\n4 3\n2 3</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n6</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2017+Multi-University+Training+Contest+-+Team+4&amp;source=1&amp;searchmode=source\"> 2017 Multi-University Training Contest - Team 4 </a> ","type":"source","format":"html","require":["katex"]}]}