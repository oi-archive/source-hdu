{"title":"An interesting mobile game","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3295","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3295&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3295","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3295"},"statement":[{"title":"Problem Description","content":"XQ,one of the three Sailormoon girls,is usually playing mobile games on the class.Her favorite mobile game is called &#xFFFD;&#xFFFD;The Princess In The Wall&#xFFFD;&#xFFFD;.Now she give you a problem about this game.<br>Can you solve it?The following picture show this problem better.<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C251-1008-1.jpg\"></center><br>This game is played on a rectangular area.This area is divided into some equal square grid..There are N rows and M columns.For each grid,there may be a colored square block or nothing.<br>Each grid has a number.<br>&#xFFFD;&#xFFFD;0&#xFFFD;&#xFFFD; represents this grid have nothing.<br>&#xFFFD;&#xFFFD;1&#xFFFD;&#xFFFD; represents this grid have a red square block.<br>&#xFFFD;&#xFFFD;2&#xFFFD;&#xFFFD; represents this grid have a blue square block.<br>&#xFFFD;&#xFFFD;3&#xFFFD;&#xFFFD; represents this grid have a green square block.<br>&#xFFFD;&#xFFFD;4&#xFFFD;&#xFFFD; represents this grid have a yellow square block.<br><br>1.  Each step,when you choose a grid have a colored square block, A group of this block and some connected blocks that are the same color would be removed from the board. no matter how many square blocks are in this group. <br>2. When a group of blocks is removed, the blocks above those removed ones fall down into the empty space. When an entire column of blocks is removed, all the columns to the right of that column shift to the left to fill the empty columns.<br><br>Now give you the number of the row and column and the data of each grid.You should calculate how many steps can make the entire rectangular area have no colored square blocks at least.","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases. Each case starts with two positive integer N, M,(N, M &lt;= 6)the size of rectangular area. Then n lines follow, each contains m positive integers X.(0&lt;= X &lt;= 4)It means this grid have a colored square block or nothing.","type":"input_format","format":"html"},{"title":"Output","content":"Please output the minimum steps.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5 6\n0 0 0 3 4 4\n0 1 1 3 3 3\n2 2 1 2 3 3\n1 1 1 1 3 3\n2 2 1 4 4 4</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\n\n0 0 0 3 4 4     0 0 0 4 4 0    0 0 0 0 0 0    0 0 0 0 0 0    0 0 0 0 0 0\n0 1 1 3 3 3     0 0 3 3 3 0    0 0 0 0 0 0    0 0 0 0 0 0    0 0 0 0 0 0\n2 2 1 2 3 3     0 0 3 3 3 0    0 0 0 0 0 0    0 0 0 0 0 0    0 0 0 0 0 0\n1 1 1 1 3 3     2 2 2 3 3 0    2 2 2 4 4 0    2 2 0 0 0 0    0 0 0 0 0 0\n2 2 1 4 4 4     2 2 4 4 4 0    2 2 4 4 4 0    2 2 2 0 0 0    0 0 0 0 0 0\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Author","content":"B.A.C","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2010+%A1%B0HDU-Sailormoon%A1%B1+Programming+Contest&amp;source=1&amp;searchmode=source\"> 2010 &#xFFFD;&#xFFFD;HDU-Sailormoon&#xFFFD;&#xFFFD; Programming Contest </a> ","type":"source","format":"html"}]}