{"title":"Gems Fight!","time_limit":10000,"memory_limit":320,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4778","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4778&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4778","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4778"},"statement":[{"title":"Problem Description","content":"&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;Alice and Bob are playing &quot;Gems Fight!&quot;:<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;There are Gems of G different colors , packed in B bags. Each bag has several Gems. G different colors are numbered from color 1 to color G.<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;Alice and Bob take turns to pick one bag and collect all the Gems inside. A bag cannot be picked twice. The Gems collected are stored in a shared cooker.<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;After a player ,we name it as X, put Gems into the cooker, if there are S Gems which are the same color in the cooker, they will be melted into one Magic Stone. This reaction will go on and more than one Magic Stone may be produced, until no S Gems of the same color remained in that cooker. Then X owns those new Magic Stones. When X gets one or more new Magic Stones, he/she will also get a bonus turn. If X gets Magic Stone in a bonus turn, he will get another bonus turn. In short,a player may get multiple bonus turns continuously.<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;There will be B turns in total. The goal of &quot;Gems Fight!&quot; is to get as more Magic Stones than the opponent as possible.<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;Now Alice gets the first turn, and she wants to know, if <b>both of them act the optimal way</b>, what will be the difference between the number of her Magic Stones and the number of Bob&apos;s Magic Stones at the end of the game.","type":"description","format":"html"},{"title":"Input","content":"&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;There are several cases(&lt;=20).<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;In each case, there are three integers at the first line: G, B, and S. Their meanings are mentioned above.<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;Then B lines follow. Each line describes a bag in the following format:<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;n c<sub>1</sub> c<sub>2</sub> ... c<sub>n</sub><br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;It means that there are n Gems in the bag and their colors are color c<sub>1</sub>,color c<sub>2</sub>...and color c<sub>n</sub> respectively.<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD; 0&lt;=B&lt;=21, 0&lt;=G&lt;=8, 0&lt;n&lt;=10, S &lt; 20.<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;There may be extra blank lines between cases. You can get more information from the sample input.<br>&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;The input ends with G = 0, B = 0 and S = 0.","type":"input_format","format":"html"},{"title":"Output","content":"&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;One line for each case: the amount of Alice&apos;s Magic stones minus the amount of Bob&apos;s Magic Stones.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3 4 3\n2 2 3\n2 1 3\n2 1 2\n3 2 3 1\n\n3 2 2\n3 2 3 1\n3 1 2 3\n\n0 0 0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n-3\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\n&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;For the first case, in turn 2, bob has to choose at least one bag, so that Alice will make a Magic Stone at the end of turn 3, thus get turn 4 and get all the three Magic Stones.\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2013+Asia+Hangzhou+Regional+Contest+&amp;source=1&amp;searchmode=source\"> 2013 Asia Hangzhou Regional Contest  </a> ","type":"source","format":"html"}]}