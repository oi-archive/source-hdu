{"title":"Theta Puzzle","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3287","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3287&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3287","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3287"},"statement":[{"title":"Problem Description","content":"The Theta Puzzle consists of a base with 6 positions at the vertices of a regular hexagon and another position at the center, connected as shown in the figure below. There are six tokens labeled A, B, C, D, E and F. A single move of the puzzle is to move a token to an adjacent empty position (along an allowed connection &#x2013; the line segments in the diagram below). The idea of the puzzle is to start with an initial arrangement of tokens with the center empty and, by a sequence of moves, get to the configuration in the figure below.<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C264-1009-1.jpg\"></center> <br>An initial position for the puzzle is given by a permutation of the letters A through F. The first letter starts at A in the figure, the next at B and so on.<br>A sequence of moves is specified by listing the labels of tokens to be moved, in the order they are to be moved.<br>For example, to solve the puzzle FACDBE, use the moves BEFAB.<br><center><img style=\"max-width:100%;\" src=\"../../data/images/C264-1009-2.jpg\"></center> <br>Note: Not all starting permutations can be solved.<br>Write a program which, given an initial permutation, either finds the shortest sequence of moves to solve the puzzle or determines that there is no solution.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The first line of input contains a single integer P, (1 &#x2264; P &#x2264; 1000), which is the number of data sets that follow. Each data set is a single line that contains the data set number, followed by a space, followed by a permutation of the letters A through F giving the initial puzzle position.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each data set there is a single line of output. If there is no solution, the line contains a decimal integer giving the data set number followed by a single space, followed by the string <b>NO SOLUTION</b>.<br>If there is a solution, the line contains a decimal integer giving the data set number followed by a single space, followed by the number of moves in the solution, followed by a single space, followed by the solution as a string of the letters A through F. If the number of moves is zero (0), you should still output the space after the 0, even though there is no string of letters.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">12\n1 FACDBE\n2 ABCDEF\n3 ADCEFB\n4 ADCEBF\n5 FEDCBA\n6 FEDCAB\n7 ECBFAD\n8 ECBFDA\n9 DCEBFA\n10 DCEBAF\n11 CBEADF\n12 BDEAFC</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1 5 BEFAB\n2 0 \n3 19 DABFECABFEDBACDEFAB\n4 NO SOLUTION\n5 29 BCDEBCAFBCAFBCEDFAECBAFDCBAFE\n6 NO SOLUTION\n7 19 CBFACBFACDEFACDEFAB\n8 NO SOLUTION\n9 13 CDAFBEDCBEDCB\n10 NO SOLUTION\n11 21 DAEBDAEBDCFEBDCABEFAB\n12 16 FAEDBCAFBCAFEDCB</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2009+Greater+New+York+Regional&amp;source=1&amp;searchmode=source\"> 2009 Greater New York Regional </a> ","type":"source","format":"html","require":["katex"]}]}