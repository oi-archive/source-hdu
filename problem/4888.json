{"title":"Redraw Beautiful Drawings","time_limit":1500,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4888","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4888&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4888","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4888"},"statement":[{"title":"Problem Description","content":"   Alice and Bob are playing together. Alice is crazy about art and she has visited many museums around the world. She has a good memory and she can remember all drawings she has seen.<br><br>   Today Alice designs a game using these drawings in her memory. First, she matches K+1 colors appears in the picture to K+1 different integers(from 0 to K). After that, she slices the drawing into grids and there are N rows and M columns. Each grid has an integer on it(from 0 to K) representing the color on the corresponding position in the original drawing. Alice wants to share the wonderful drawings with Bob and she tells Bob the size of the drawing, the number of different colors, and the sum of integers on each row and each column. Bob has to redraw the drawing with Alice&apos;s information. Unfortunately, somtimes, the information Alice offers is wrong because of Alice&apos;s poor math. And sometimes, Bob can work out multiple different drawings using the information Alice provides. Bob gets confused and he needs your help. You have to tell Bob if Alice&apos;s information is right and if her information is right you should also tell Bob whether he can get a unique drawing.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"   The input contains mutiple testcases.<br><br>   For each testcase, the first line contains three integers N(1 &#x2264; N &#x2264; 400) , M(1 &#x2264; M &#x2264; 400) and K(1 &#x2264; K &#x2264; 40).<br>   N integers are given in the second line representing the sum of N rows.<br>   M integers are given in the third line representing the sum of M columns.<br><br>   The input is terminated by EOF.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"   For each testcase, if there is no solution for Bob, output &quot;Impossible&quot; in one line(without the quotation mark); if there is only one solution for Bob, output &quot;Unique&quot; in one line(without the quotation mark) and output an N * M matrix in the following N lines representing Bob&apos;s unique solution; if there are many ways for Bob to redraw the drawing, output &quot;Not Unique&quot; in one line(without the quotation mark).","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2 2 4\n4 2\n4 2  \n4 2 2\n2 2 5 0\n5 4\n1 4 3\n9\n1 2 3 3</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Not Unique\nImpossible\nUnique\n1 2 3 3</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"Fudan University","type":"source","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+Multi-University+Training+Contest+3&amp;source=1&amp;searchmode=source\"> 2014 Multi-University Training Contest 3 </a> ","type":"source","format":"html","require":["katex"]}]}