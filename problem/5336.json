{"title":"XYZ and Drops","time_limit":1500,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5336","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5336&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5336","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5336"},"statement":[{"title":"Problem Description","content":"XYZ is playing an interesting game called &quot;drops&quot;. It is played on a $r * c$ grid. Each grid cell is either empty, or occupied by a waterdrop. Each waterdrop has a property &quot;size&quot;. The waterdrop cracks when its size is larger than 4, and produces 4 small drops moving towards 4 different directions (up, down, left and right). <br><br>In every second, every small drop moves to the next cell of its direction. It is possible that multiple small drops can be at same cell, and they won&apos;t collide. Then for each cell occupied by a waterdrop, the waterdrop&apos;s size increases by the number of the small drops in this cell, and these small drops disappears. <br><br>You are given a game and a position ($x$, $y$), before the first second there is a waterdrop cracking at position ($x$, $y$). XYZ wants to know each waterdrop&apos;s status after $T$ seconds, can you help him?<br><br>$1 \\le r \\le 100$, $1 \\le c \\le 100$, $1 \\le n \\le 100$, $1 \\le T \\le 10000$<br>","type":"description","format":"html"},{"title":"Input","content":"The first line contains four integers $r$, $c$, $n$ and $T$. $n$ stands for the numbers of waterdrops at the beginning. <br>Each line of the following $n$ lines contains three integers $x_i$, $y_i$, $size_i$, meaning that the $i$-th waterdrop is at position ($x_i$, $y_i$) and its size is $size_i$. ($1 \\le size_i \\le 4$)<br>The next line contains two integers $x$, $y$. <br><br>It is guaranteed that all the positions in the input are distinct. <br><br>Multiple test cases (about 100 cases), please read until EOF (End Of File). ","type":"input_format","format":"html"},{"title":"Output","content":"$n$ lines. Each line contains two integers $A_i$, $B_i$: <br>If the $i$-th waterdrop cracks in $T$ seconds, $A_i = 0$, $B_i = $ the time when it cracked. <br>If the $i$-th waterdrop doesn&apos;t crack in $T$ seconds, $A_i = 1$, $B_i = $ its size after $T$ seconds. ","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4 4 5 10\n2 1 4\n2 3 3\n2 4 4\n3 1 2\n4 3 4\n4 4</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">0 5\n0 3\n0 2\n1 3\n0 1</div></pre>","type":"example","format":"html"},{"title":"Author","content":"XJZX","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2015+Multi-University+Training+Contest+4&amp;source=1&amp;searchmode=source\"> 2015 Multi-University Training Contest 4 </a> ","type":"source","format":"html"}]}