{"title":"Plane Partition","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4663","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4663&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4663","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4663"},"statement":[{"title":"Problem Description","content":"A plane partition is a two-dimensional array of nonnegative integers a<sub>i,j</sub> (0&lt;=i&lt;n,  0&lt;=j&lt;m) that satisfies <br>1. 0&lt;=a<sub>i,j</sub>&lt;=p<br>2. a<sub>i,j</sub>&gt;=a<sub>i,j+1</sub><br>3. a<sub>i,j</sub>&gt;=a<sub>i+1,j</sub><br><br>In this problem, we add some additional constrains in the following form: <br>Given x, y, z, there exists some integer k (may be negative) such that a<sub>x+k,y+k</sub>=z+k. <br><br>Note: For i and j do not satisfy 0&lt;=i&lt;n and 0&lt;=j&lt;m, a<sub>i,j</sub> does not exist. <br><br>Count how many valid plane partitions are there. ","type":"description","format":"html"},{"title":"Input","content":"First line, number of test cases, T. <br>Following are T test cases. For each test case, the first line contains four integers, n, m, p, t, where the last one is the number of additional constraints. <br>Following are t lines, each line contains three integers, x, y, z. <br><br>T&lt;=200<br>1&lt;=n,m,p&lt;=7<br>0&lt;=x,y,z&lt;=7<br>It&apos;s possible that there is no valid plane partitions. ","type":"input_format","format":"html"},{"title":"Output","content":"T lines. Each line is answer to the corresponding test case. <br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n1 1 1 0\n1 1 1 1\n1 1 1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n1</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2013+Multi-University+Training+Contest+6&amp;source=1&amp;searchmode=source\"> 2013 Multi-University Training Contest 6 </a> ","type":"source","format":"html"}]}