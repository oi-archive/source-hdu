{"title":"Tower Attack","time_limit":4000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5993","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5993&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5993","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5993"},"statement":[{"title":"Problem Description","content":"There was a civil war between two factions in Skyrim, a province of the Empire on the continent of Tamriel. The Stormcloaks, led by Ulfric Stormcloak, are made up of Skyrim&#xFFFD;&#xFFFD;s native Nord race. Their goal is an independent Skyrim free from Imperial interference. The Imperial Legion, led by General Tullius, is the military of the Empire that opposes the Stormcloaks and seeks to reunite and pacify the province.<br>The current target of Ulfric Stormcloak is to attack Whiterun City, which is under controlled by General Tullius. Near by this city there are N towers under the Empire&#xFFFD;&#xFFFD;s control. There are N - 1 roads linking these towers, so soldiers can move from any tower to another one through these roads.<br>In military affairs, tactical depth means the longest path between two of all towers. Larger the tactical depth is, more stable these towers are.<br>Your mission, should you choose to accept it. In each turn, Ulfric tells you two roads. You need to figure out the tactical depth after destroying these two roads.<br>","type":"description","format":"html"},{"title":"Input","content":"The first line of input contains an integer t which is the number of test cases. Then t test cases follow. For each test case, the first line contains two integers N(N &#xFFFD;&#xFFFD; 100000), representing the number of towers, and Q(Q &#xFFFD;&#xFFFD; 100000), represeting the number of queries.<br>In the next N - 1 lines, the i-th line describes the i-th road and contains three integers u, v and w (0 &#xFFFD;&#xFFFD; w &#xFFFD;&#xFFFD; 5000) corressponding to a path between u and v of length w.<br>In the next Q lines, each line contains two integers u and v representing that the u-th road and the v-th road would be destroyed in this turn. It is guaranteed that u $\\neq$ v.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each query, output the tactical depth.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n8 3\n2 1 7\n3 1 7\n4 2 5\n5 2 6\n4 6 3\n7 2 8\n1 8 2\n4 6\n2 3\n5 6</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">22\n17\n20</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2016ACM%2FICPC%D1%C7%D6%DE%C7%F8%C7%E0%B5%BA%D5%BE-%D6%D8%CF%D6%C8%FC%A3%A8%B8%D0%D0%BB%D6%D0%B9%FA%CA%AF%D3%CD%B4%F3%D1%A7%A3%A9&amp;source=1&amp;searchmode=source\"> 2016ACM/ICPC&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xD7A;&#x57E;-&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x43B;&#xFFFD;&#x439;&#xFFFD;&#x2AF;&#xFFFD;&#x374;&#xFFFD;&#x467;&#xFFFD;&#xFFFD; </a> ","type":"source","format":"html"}]}