{"title":"Battle of Submarines","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2696","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2696&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2696","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2696"},"statement":[{"title":"Problem Description","content":"A ship is on a W wide sea area. N enemy submarines numbered from 1 to N are underwater moving from west to east at  <br>depth of D. Every two seconds the submarine can move one unit distance. The ship is equipped with unlimited bombs. <br>At each second, the ship can do one of the following actions: <br>1. Move one unit. <br>2. Release a bomb, and destroy the first submarine vertically under the ship. <br>3. Do nothing. <br><img style=\"max-width:100%;\" src=\"../../../data/images/2696.jpg\"> <br>At first, the ship&apos;s moving direction is from west to east. It changes its moving direction if and only if the bomb destroys a  <br>special type of submarine. <br><br>At no time can submarines overlap at each other. <br><br> <br><br>Every submarine has an important degree. Given the time each submarine enters the sea area at the most west side, and  <br>whether the submarine is the special type, please calculate the maximum sum of destroyed submarines&apos; important degree in  <br>time [0, S] inclusive. <br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The input consists of multiple test cases. The first line of input contains an integer T, which is the number of test cases. <br><br>The input consists of several test cases. Each test case starts with a line containing four integers W, D, N, and S. Each of  <br>the following N lines contains four integers: Gi, Si, Di, Ci. Gi indicates the important degree of i-th submarine; Si is the  <br>time the i-th enters the sea area at the most west side; Di is the submarine&apos;s depth. If Ci is 1 then the submarine is the  <br>special type, otherwise it is a normal one. <br><br>[Technical Specification] <br>T is an integer, and T &lt;= 50. <br>W, D are integers, and 1 &lt;= W, D &lt;= 3. <br>N is an integer, and 1 &lt;= N &lt;= 30. <br>S is an integer, and 1 &lt;= S &lt;= 30. <br>Gi is an integer, and -1000 &lt;= Gi &lt;= 1000. <br>Si is an integer, and 0 &lt;= Si &lt;= S, <br>Di is an integer, and 1 &lt;= Di &lt;= D. <br>Ci is an integer, and Ci = 0 or 1. ","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, print a single line containing a number indicating the maximum sum. ","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2 \n3 3 4 3 \n10 1 1 0 \n10 1 2 0 \n10 1 3 0 \n50 3 3 0 \n3 3 2 3 \n10 3 1 0 \n-10 0 1 0 </div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">70 \n10 </div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=The+4th+Baidu+Cup+Central+China+Invitational+Programming+Contest&amp;source=1&amp;searchmode=source\"> The 4th Baidu Cup Central China Invitational Programming Contest </a> ","type":"source","format":"html","require":["katex"]}]}