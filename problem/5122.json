{"title":"K.Bro Sorting","time_limit":2000,"memory_limit":500,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5122","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5122&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5122","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5122"},"statement":[{"title":"Problem Description","content":"   Matt&#x2019;s friend K.Bro is an ACMer.<br><br>   Yesterday, K.Bro learnt an algorithm: Bubble sort. Bubble sort will compare each pair of adjacent items and swap them if they are in the wrong order. The process repeats until no swap is needed.<br><br>   Today, K.Bro comes up with a new algorithm and names it K.Bro Sorting.<br><br>   There are many rounds in K.Bro Sorting. For each round, K.Bro chooses a number, and keeps swapping it with its next number while the next number is less than it. For example, if the sequence is &#x201C;1 4 3 2 5&#x201D;, and K.Bro chooses &#x201C;4&#x201D;, he will get &#x201C;1 3 2 4 5&#x201D; after this round. K.Bro Sorting is similar to Bubble sort, but it&#x2019;s a randomized algorithm because K.Bro will choose a random number at the beginning of each round. K.Bro wants to know that, for a given sequence, how many rounds are needed to sort this sequence in the best situation. In other words, you should answer the minimal number of rounds needed to sort the sequence into ascending order. To simplify the problem, K.Bro promises that the sequence is a permutation of 1, 2, . . . , N .","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"   The first line contains only one integer T (T &#x2264; 200), which indicates the number of test cases. For each test case, the first line contains an integer N (1 &#x2264; N &#x2264; 10<sup>6</sup>).<br><br>   The second line contains N integers a<sub>i</sub> (1 &#x2264; a<sub>i</sub> &#x2264; N ), denoting the sequence K.Bro gives you.<br><br>   The sum of N in all test cases would not exceed 3 &#xD7; 10<sup>6</sup>.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"   For each test case, output a single line &#x201C;Case #x: y&#x201D;, where x is the case number (starting from 1), y is the minimal number of rounds needed to sort the sequence.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n5\n5 4 3 2 1\n5\n5 1 2 3 4</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1: 4\nCase #2: 1\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>In the second sample, we choose &#x201C;5&#x201D; so that after the &#xFB01;rst round, sequence becomes &#x201C;1 2 3 4 5&#x201D;, and the algorithm completes.\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014ACM%2FICPC%D1%C7%D6%DE%C7%F8%B1%B1%BE%A9%D5%BE-%D6%D8%CF%D6%C8%FC%A3%A8%B8%D0%D0%BB%B1%B1%CA%A6%BA%CD%C9%CF%BD%BB%A3%A9&amp;source=1&amp;searchmode=source\"> 2014ACM/ICPC&#x4E9A;&#x6D32;&#x533A;&#x5317;&#x4EAC;&#x7AD9;-&#x91CD;&#x73B0;&#x8D5B;&#xFF08;&#x611F;&#x8C22;&#x5317;&#x5E08;&#x548C;&#x4E0A;&#x4EA4;&#xFF09; </a> ","type":"source","format":"html","require":["katex"]}]}