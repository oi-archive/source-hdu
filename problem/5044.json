{"title":"Tree","time_limit":5000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5044","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5044&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5044","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5044"},"statement":[{"title":"Problem Description","content":"   You are given a tree (an acyclic undirected connected graph) with N nodes. The tree nodes are numbered from 1 to N<br><br>   There are N - 1 edges numbered from 1 to N - 1.<br><br>   Each node has a value and each edge has a value. The initial value is 0.<br>   <br>   There are two kind of operation as follows:<br><br>   &#x25CF;  ADD1 u v k: for nodes on the path from u to v, the value of these nodes increase by k.<br><br>   &#x25CF;  ADD2 u v k: for edges on the path from u to v, the value of these edges increase by k.<br><br>   After finished M operation on the tree, please output the value of each node and edge.","type":"description","format":"html"},{"title":"Input","content":"   The first line of the input is T (1 &#x2264; T &#x2264; 20), which stands for the number of test cases you need to solve.<br><br>   The first line of each case contains two integers N ,M (1 &#x2264; N, M &#x2264;10<sup>5</sup>),denoting the number of nodes and operations, respectively.<br><br>   The next N - 1 lines, each lines contains two integers u, v(1 &#x2264; u, v &#x2264; N ), denote there is an edge between u,v and its initial value is 0.<br><br>   For the next M line, contain instructions &#x201C;ADD1 u v k&#x201D; or &#x201C;ADD2 u v k&#x201D;. (1 &#x2264; u, v &#x2264; N, -10<sup>5</sup> &#x2264; k &#x2264; 10<sup>5</sup>)","type":"input_format","format":"html"},{"title":"Output","content":"   For each test case, print a line &#x201C;Case #t:&#x201D;(without quotes, t means the index of the test case) at the beginning.<br><br>   The second line contains N integer which means the value of each node.<br><br>   The third line contains N - 1 integer which means the value of each edge according to the input order.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n4 2\n1 2\n2 3\n2 4\nADD1 1 4 1\nADD2 3 4 2\n4 2\n1 2\n2 3\n1 4\nADD1 1 4 5\nADD2 3 2 4</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1:\n1 1 0 1\n0 2 2\nCase #2:\n5 0 0 5\n0 4 0</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2014+ACM%2FICPC+Asia+Regional+Shanghai+Online&amp;source=1&amp;searchmode=source\"> 2014 ACM/ICPC Asia Regional Shanghai Online </a> ","type":"source","format":"html"}]}