{"title":"Treasure Hunting","time_limit":2000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3468","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3468&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3468","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3468"},"statement":[{"title":"Problem Description","content":"Do you like treasure hunting? Today, with one of his friend, iSea is on a venture trip again. As most movie said, they find so many gold hiding in their trip.<br>Now iSea&#xFFFD;&#xFFFD;s clever friend has already got the map of the place they are going to hunt, simplify the map, there are three ground types:<br><br>&#xFFFD;&#xFFFD;    &apos;.&apos;   means blank ground, they can get through it<br>&#xFFFD;&#xFFFD;    &apos;#&apos;   means block, they can&#xFFFD;&#xFFFD;t get through it<br>&#xFFFD;&#xFFFD;    &apos;*&apos;   means gold hiding under ground, also they can just get through it (but you won&#xFFFD;&#xFFFD;t, right?)<br><br>What makes iSea very delighted is the friend with him is extraordinary justice, he would not take away things which doesn&#xFFFD;&#xFFFD;t belong to him, so all the treasure belong to iSea oneself! <br>But his friend has a request, he will set up a number of rally points on the map, namely &apos;A&apos;, &apos;B&apos; ... &apos;Z&apos;, &apos;a&apos;, &apos;b&apos; ... &apos;z&apos; (in that order, but may be less than 52), they start in &apos;A&apos;, each time friend reaches to the next rally point in the shortest way, they have to meet here (i.e. iSea reaches there earlier than or same as his friend), then start together, but you can choose different paths. Initially, iSea&#xFFFD;&#xFFFD;s speed is the same with his friend, but to grab treasures, he save one time unit among each part of road, he use the only one unit to get a treasure, after being picked, the treasure&#xFFFD;&#xFFFD;s point change into blank ground.<br>Under the premise of his friend&#xFFFD;&#xFFFD;s rule, how much treasure iSea can get at most?<br><br>","type":"description","format":"html"},{"title":"Input","content":"There are several test cases in the input.<br><br>Each test case begin with two integers R, C (2 &#xFFFD;&#xFFFD; R, C &#xFFFD;&#xFFFD; 100), indicating the row number and the column number.<br>Then R strings follow, each string has C characters (must be &#xFFFD;&#xFFFD;A&#xFFFD;&#xFFFD; &#xFFFD;C &#xFFFD;&#xFFFD;Z&#xFFFD;&#xFFFD; or &#xFFFD;&#xFFFD;a&#xFFFD;&#xFFFD; &#xFFFD;C &#xFFFD;&#xFFFD;z&#xFFFD;&#xFFFD; or &#xFFFD;&#xFFFD;.&#xFFFD;&#xFFFD; or &#xFFFD;&#xFFFD;#&#xFFFD;&#xFFFD; or &#xFFFD;&#xFFFD;*&#xFFFD;&#xFFFD;), indicating the type in the coordinate.<br><br>The input terminates by end of file marker.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output one integer, indicating maximum gold number iSea can get, if they can&#xFFFD;&#xFFFD;t meet at one or more rally points, just output -1.<br><br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2 4\nA.B.\n***C\n2 4\nA#B.\n***C</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n2</div></pre>","type":"example","format":"html"},{"title":"Author","content":"iSea @ WHU","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2010+ACM-ICPC+Multi-University+Training+Contest%A3%A83%A3%A9%A1%AA%A1%AAHost+by+WHU&amp;source=1&amp;searchmode=source\"> 2010 ACM-ICPC Multi-University Training Contest&#xFFFD;&#xFFFD;3&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;Host by WHU </a> ","type":"source","format":"html"}]}