{"title":"That Nice Euler Circuit","time_limit":3000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=1665","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=1665&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=1665","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=1665"},"statement":[{"title":"Problem Description","content":"Little Joey invented a scrabble machine that he called Euler, after the great mathematician. In his primary school Joey heard about the nice story of how Euler started the study about graphs. The problem in that story was - let me remind you - to draw a graph on a paper without lifting your pen, and finally return to the original position. Euler proved that you could do this if and only if the (planar) graph you created has the following two properties: (1) The graph is connected; and (2) Every vertex in the graph has even degree. <br><br><br><br>Joey&apos;s Euler machine works exactly like this. The device consists of a pencil touching the paper, and a control center issuing a sequence of instructions. The paper can be viewed as the infinite two-dimensional plane; that means you do not need to worry about if the pencil will ever go off the boundary. <br><br>In the beginning, the Euler machine will issue an instruction of the form (X0, Y0) which moves the pencil to some starting position (X0, Y0). Each subsequent instruction is also of the form (X&apos;, Y&apos;), which means to move the pencil from the previous position to the new position (X&apos;, Y&apos;), thus draw a line segment on the paper. You can be sure that the new position is different from the previous position for each instruction. At last, the Euler machine will always issue an instruction that move the pencil back to the starting position (X0, Y0). In addition, the Euler machine will definitely not draw any lines that overlay other lines already drawn. However, the lines may intersect. <br><br>After all the instructions are issued, there will be a nice picture on Joey&apos;s paper. You see, since the pencil is never lifted from the paper, the picture can be viewed as an Euler circuit. <br><br>Your job is to count how many pieces (connected areas) are created on the paper by those lines drawn by Euler. ","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"There are no more than 25 test cases. Ease case starts with a line containing an integer N &gt;= 4, which is the number of instructions in the test case. The following N pairs of integers give the instructions and appear on a single line separated by single spaces. The first pair is the first instruction that gives the coordinates of the starting position. You may assume there are no more than 300 instructions in each test case, and all the integer coordinates are in the range (-300, 300). The input is terminated when N is 0. ","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case there will be one output line in the format <br><br>Case x: There are w pieces., <br><br>where x is the serial number starting from 1. <br><br>Note: The figures below illustrate the two sample input cases. <br><br><center><img style=\"max-width:100%;\" src=\"/data/images/1665-1.jpg\"></center>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\n0 0 0 1 1 1 1 0 0 0\n7\n1 1 1 5 2 1 2 5 5 1 3 5 1 1\n0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case 1: There are 2 pieces.\nCase 2: There are 5 pieces.</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2004+Asia+Regional+Shanghai+&amp;source=1&amp;searchmode=source\"> 2004 Asia Regional Shanghai  </a> ","type":"source","format":"html","require":["katex"]}]}