{"title":"Traversal","time_limit":2000,"memory_limit":100,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5450","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5450&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5450","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5450"},"statement":[{"title":"Problem Description","content":" In this city, all the parks are labelled with integers from $1$ to $n$ except for $k$ integers: $a_1$, $a_2$, $...$, $a_k$. Different parks have different integers as identities. With the development of transport, more and more express lanes appear in this city. Two parks have an express lane between them if the difference between their identities is 1 or p or p+2.<br><br>    When Mr. Wu first came to this city, he decided to visit all the parks by taking some circular tourist routes for several days. A circular tourist route is a loop route with at least three parks. For each two adjacent parks in this circular order, there exists an express lane between them.<br><br>    Mr. Wu planed to visit each park only one time. The problem is: how many different plans are there to design the route. Two plans are different if and only if they have some different circular routes. Note that the translation and inversion provide the same circular tourist routes as the original route.","type":"description","format":"html","require":["katex"]},{"title":"Input","content":" There are multiple test cases (no more than $20$ test cases), and the first line contains an integer $t$, meaning the total number of test cases.<br><br>    For each test case, the first line contains two integers $n$ and $p$, where $1 \\le n \\le 100, 2 \\le p \\le 9$. The second line contains $k+1$ integers. The first integer is $k$, where $k &lt; n$. And $k$ integers follow, $a_1$, $a_2$, $...$, $a_k$.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, print one line containing the total number of plans modulo $10007$.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4\n6 3\n0\n6 2\n0\n5 3\n1 5\n6 3\n3 2 5 3</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1: 6\nCase #2: 10\nCase #3: 1\nCase #4: 0\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nAll the plans in the first test case are:\n        (1, 2, 3, 4, 5, 6) \n        (1, 2, 3, 6, 5, 4) \n        (1, 2, 5, 4, 3, 6) \n        (1, 2, 5, 6, 3, 4) \n        (1, 4, 3, 2, 5, 6) \n        (1, 4, 5, 2, 3, 6)\nAll the plans in the second test case are:\n        (1, 2, 3, 4, 6, 5) \n        (1, 2, 4, 6, 5, 3) \n        (1, 2, 6, 4, 3, 5) \n        (1, 2, 6, 4, 5, 3) \n        (1, 2, 6, 5, 4, 3) \n        (1, 3, 2, 4, 6, 5) \n        (1, 3, 2, 6, 4, 5) \n        (1, 3, 4, 2, 6, 5) \n        (1, 2, 3), (4, 5, 6) \n        (1, 3, 5), (2, 4, 6)\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2015+ACM%2FICPC+Asia+Regional+Shenyang+Online&amp;source=1&amp;searchmode=source\"> 2015 ACM/ICPC Asia Regional Shenyang Online </a> ","type":"source","format":"html","require":["katex"]}]}