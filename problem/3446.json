{"title":"daizhenyang's chess","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3446","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3446&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3446","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3446"},"statement":[{"title":"Problem Description","content":"As we know,daizhenyang likes playing chess,but he always lose,so one day,he invented a brand new chess game with the new rule.<br><br>The game is played on a chessboard with R rows and C columns, for a total of RC squares. Some of these squares are considered unlucky,so the chessman can&apos;t be moved to there.<br>The rule of this game is simple,diffrent from traditional chess,there is only a King on the chessboard beacuse daizhenyang thinks various chessmans leads to complex rule which makes poor daizhenyang hard to understand.<br>Also daizhenyang want&apos;s make the only chessman more powerful in order to become more unbeatable,The King is no longer the traditional weak king,it integrates the power of Guard,bishop,pawn,as well as knight.And the move range is not confined.It can move to anywhere which is considered lucky. So, according to the graph, the red king can move to 20 adjacent places.<br><center><img style=\"max-width:100%;\" src=\"../../data/images/3446-1.jpg\"></center> <br>And the aim of this game is simple too,The so-called King is placed in a random square of the chessboard which is considered lucky.Two players move the King alternately,in any move,the destination square must not be unlucky,and the king must never have been in the destination square before,which will causes dead loops.The first people who can&apos;t do a valid move lose.<br>daizhenyang is playing chess with another people,who is too shy to told his name.And daizhenyang moves first,he asks you--the genius programmer,for help.<br>please write a program to judge whether daizhenyang will win.Assume both player will play optimally.<br><br>The first line of input gives the number of cases, N.","type":"description","format":"html"},{"title":"Input","content":"N test cases follow. The first line of each case will contain two integers, R and C. The next R lines will contain strings of length C, representing the C squares of each row.(1&lt;=R,C&lt;=15) Each string will contain only the characters &apos;.&apos;, &apos;#&apos; and &apos;K&apos;:<br>&apos;#&apos; means the square is considered unlucky;<br>&apos;.&apos; means the square is considered lucky, and unoccupied; and<br>&apos;K&apos; means the king is in that square at the beginning of the game.<br>There will be only one &apos;K&apos; character in each test case.","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, output one line containing &quot;Case #X: &quot; (where X is the case number, starting from 1) followed by &quot;daizhenyang win&quot; if daizhenyang wins, or &quot;daizhenyang lose&quot; if daizhenyang lose.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n2 2\nK.\n.#\n\n4 2\nK#\n.#\n.#\n.#</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1: daizhenyang lose\nCase #2: daizhenyang win\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>In case 1,daizhenyang can do 2 choices,but no matter what he choose,the opponent will move to another,which makes daizhenyang unable to move.\nIn case 2,daizhenyang moves down,opponent moves down,daizhenyang moves down,he win!\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2010+ACM-ICPC+Multi-University+Training+Contest%A3%A82%A3%A9%A1%AA%A1%AAHost+by+BUPT&amp;source=1&amp;searchmode=source\"> 2010 ACM-ICPC Multi-University Training Contest&#xFF08;2&#xFF09;&#x2014;&#x2014;Host by BUPT </a> ","type":"source","format":"html"}]}