{"title":"Exploration","time_limit":15000,"memory_limit":128,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5222","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5222&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5222","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5222"},"statement":[{"title":"Problem Description","content":"Miceren likes exploration and he found a huge labyrinth underground! <br><br>This labyrinth has $N$ caves and some tunnels connecting some pairs of caves. <br><br>There are two types of tunnel, one type of them can be passed in only one direction and the other can be passed in two directions. Tunnels will collapse immediately after Miceren passing them. <br><br>Now, Miceren wants to choose a cave as his start point and visit at least one other cave, finally get back to start point. <br><br>As his friend, you must help him to determine whether a start point satisfing his request exists.","type":"description","format":"html"},{"title":"Input","content":"The first line contains a single integer $T$, indicating the number of test cases.<br><br>Each test case begins with three integers $N,~M1,~M2$, indicating the number of caves, the number of undirectional tunnels, the number of directional tunnels. <br><br>The next $M1$ lines contain the details of the undirectional tunnels. Each line contains two integers $u,~v$ meaning that there is a undirectional tunnel between $u,~v$. ($u~\\neq~v$) <br><br>The next $M2$ lines contain the details of the directional tunnels. Each line contains integers $u,~v$ meaning that there is a directional tunnel from $u$ to $v$. ($u~\\neq~v$)<br><br>$T$ is about 100.<br><br>$1~\\le~N, M1, M2~\\le~1000000.$<br><br>There may be some tunnels connect the same pair of caves.<br><br>The ratio of test cases with $N~\\gt~1000$ is less than 5%.","type":"input_format","format":"html"},{"title":"Output","content":"For each test queries, print the answer. If Miceren can do that, output &quot;YES&quot;, otherwise &quot;NO&quot;.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n5 2 1\n1 2\n1 2\n4 5\n4 2 2\n1 2\n2 3\n4 3\n4 1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">YES\nNO\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>If you need a larger stack size, \nplease use #pragma comment(linker, &quot;/STACK:102400000,102400000&quot;) and submit your solution using C++.</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=%C8%FC%C2%EB%26quot%3BBestCoder%26quot%3B%B1%AD%D6%D0%B9%FA%B4%F3%D1%A7%C9%FA%B3%CC%D0%F2%C9%E8%BC%C6%B9%DA%BE%FC%C8%FC&amp;source=1&amp;searchmode=source\"> &#x8D5B;&#x7801;&quot;BestCoder&quot;&#x676F;&#x4E2D;&#x56FD;&#x5927;&#x5B66;&#x751F;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x51A0;&#x519B;&#x8D5B; </a> ","type":"source","format":"html"}]}