{"title":"Double Maze","time_limit":2000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=3713","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=3713&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=3713","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=3713"},"statement":[{"title":"Problem Description","content":"Unlike single maze, double maze requires a common sequence of commands to solve both mazes. See the figure below for a quick understanding.<br><br><center><img style=\"max-width:100%;\" src=\"../../data/images/3713-1.jpg\"></center><br><br>A maze is made up of 6*6 cells. A cell can be either a hole or a square. Moreover, a cell may be surrounded by barriers. There is ONLY one start cell (with a ball) and ONLY one end cell (with a star) in a single maze.These two cells are both squares. It is possible that the start cell and the end cell are the same one. The goal of a single maze is to move the ball from the start cell to the end cell. There are four commands in total,&apos;L&apos;, &apos;D&apos;, &apos;R&apos; and &apos;U&apos; corresponding to moving the ball left, down, right and up one cell, respectively. The barriers may make the commands take no effect, i.e., the ball does NOT move if there is a barrier on the way.<br>When the ball gets to a hole or outside of the maze, it fails. A double maze is made up of two single mazes. The commands control two balls simultaneously, and the movements of two balls are according to the rules described above independently. Both balls will continue to move simultaneously if at least one of the balls has not got to the end cell.<br>So, a ball may move out of the end cell since the other ball has not been to the target. A double maze passes when both balls get to their end cells, or fails if either of the two mazes fails. The goal of double maze is to get the shortest sequence of commands to pass. If there are multiple solutions, get the lexical minimum one.<br>To simplify the input, a cell is encoded to an integer as follows. The lowest 4 bits signal the existence of the barriers around a cell. The fifth bit indicates whether a cell is a hole or not. The sixth and seventh bits are set for the start cell and end cell. Details are listed in the following table with bits counted from lowest bit. For a barrier, both of the two adjacent cells will have the corresponding barrier bit set. Note that the first two mazes in the sample input is the encoding of two mazes in the figure above, make sure you understand the encoding right.<br><center><img style=\"max-width:100%;\" src=\"../../data/images/3713-2.jpg\"></center> ","type":"description","format":"html"},{"title":"Input","content":"The first line of input gives the total number of mazes, T (1 &lt; T &#x2264; 20). Then follow T mazes. Each maze is a 6*6 matrix, representing the encoding of the original maze. There is a blank line between mazes.","type":"input_format","format":"html"},{"title":"Output","content":"For every two consecutive mazes, you should treat them as a double maze and output the answer. So there are actually T - 1 answers. For each double maze, output the shortest sequence of commands to pass. If there are multiple solutions, output the lexicographically minimum one. If there is no way to pass, output -1 instead.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n16 0 18 16 18 24\n20 19 24 16 28 1\n18 28 17 0 22 17\n25 20 17 18 88 20\n2 16 48 28 17 16\n24 16 16 20 23 1\n\n16 0 18 16 18 24\n20 19 24 20 29 1\n18 28 17 16 22 17\n8 20 1 18 24 20\n19 80 48 24 16 0\n24 16 16 16 22 19\n\n18 16 18 16 18 80\n24 18 24 16 24 18\n18 24 0 0 18 24\n24 18 0 0 24 18\n18 24 18 16 18 24\n56 18 24 18 24 18</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">RRLULLLRRDLU\nRURDRLLLURDULURRRRRDDU</div></pre>","type":"example","format":"html"},{"title":"Author","content":"GAO, Yuan","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2010+Asia+Chengdu+Regional+Contest&amp;source=1&amp;searchmode=source\"> 2010 Asia Chengdu Regional Contest </a> ","type":"source","format":"html"}]}