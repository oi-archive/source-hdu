{"title":"Color it","time_limit":10000,"memory_limit":129.65625,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6183","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6183&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6183","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6183"},"statement":[{"title":"Problem Description","content":"Do you like painting? Little D doesn&apos;t like painting, especially messy color paintings. Now Little B is painting. To prevent him from drawing messy painting, Little D asks you to write a program to maintain following operations. The specific format of these operations is as follows.<br><br>$0$ : clear all the points.<br><br>$1$ $x$ $y$ $c$ : add a point which color is $c$ at point $(x,y)$.<br><br>$2$ $x$ $y_1$ $y_2$ : count how many different colors in the square $(1,y1)$ and $(x,y2)$. That is to say, if there is a point $(a,b)$ colored $c$, that $1 \\leq a \\leq x$ and $y_1 \\leq b \\leq y_2$, then the color $c$ should be counted.<br><br>$3$ : exit.<br>","type":"description","format":"html"},{"title":"Input","content":"The input contains many lines. <br><br>Each line contains a operation. It may be &apos;0&apos;, &apos;1 x y c&apos; ( $1\\leq x,y\\leq  10^6,0\\leq c \\leq 50$ ), &apos;2 x y1 y2&apos; ($1\\leq x,y_1,y_2\\leq  10^6$ ) or  &apos;3&apos;. <br><br>$x,y,c,y1,y2$ are all integers.<br><br>Assume the last operation is 3 and it appears only once.<br><br>There are at most $150000$ continuous operations of operation 1 and operation 2. <br><br>There are at most $10$ operation 0. <br><br>","type":"input_format","format":"html"},{"title":"Output","content":"For each operation 2, output an integer means the answer .<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">0\n1 1000000 1000000 50\n1 1000000 999999 0\n1 1000000 999999 0\n1 1000000 1000000 49\n2 1000000 1000000 1000000\n2 1000000 1 1000000\n0\n1 1 1 1\n2 1 1 2\n1 1 2 2\n2 1 1 2\n1 2 2 2\n2 1 1 2\n1 2 1 3\n2 2 1 2\n2 10 1 2\n2 10 2 2\n0\n1 1 1 1\n2 1 1 1\n1 1 2 1\n2 1 1 2\n1 2 2 1\n2 1 1 2\n1 2 1 1\n2 2 1 2\n2 10 1 2\n2 10 2 2\n3</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n3\n1\n2\n2\n3\n3\n1\n1\n1\n1\n1\n1\n1</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2017ACM%2FICPC%B9%E3%CE%F7%D1%FB%C7%EB%C8%FC-%D6%D8%CF%D6%C8%FC%A3%A8%B8%D0%D0%BB%B9%E3%CE%F7%B4%F3%D1%A7%A3%A9&amp;source=1&amp;searchmode=source\"> 2017ACM/ICPC&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;-&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x43B;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#xFFFD;&#x467;&#xFFFD;&#xFFFD; </a> ","type":"source","format":"html"}]}