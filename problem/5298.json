{"title":"Solid Geometry Homework","time_limit":1000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5298","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5298&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5298","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5298"},"statement":[{"title":"Problem Description","content":"   Yellowstar is studying solid geometry recently,and today&#xFFFD;&#xFFFD;s homework is about the space,plane and sphere.So he draw many planes and spheres in the draft paper.These infinite planes and (the surface of)spheres divides the whole drawing space(which can be considered as a infinite 3D-space) into many disjoint regions.Planes and spheres forms the borders of these regions,and they don&#xFFFD;&#xFFFD;t belong to any regions.<br>   Then he comes up with a crazy idea:color the whole space with crayons.He wants that one region has only one color,and two adjacent regions should be colored differently (&#xFFFD;&#xFFFD;adjacent&#xFFFD;&#xFFFD; means the area of two regions&#xFFFD;&#xFFFD; common borders is greater than zero).Unfortunately,he has only two crayons:a yellow one and a red one.<br>   Yellowstar likes yellow very much,so he gives some coordinates.The regions these points belong to should be colored yellow.<br>   Given positions of all the planes and spheres and the coordinates mentioned above.You should determine:Is there a way to satisfy all the  requests?Yellowstar also gives some other coordinates.He wants to know which color they will be while all the requests are satisfied.<br> <center><img style=\"max-width:100%;\" src=\"../../../data/images/5298-1.jpg\"></center><br>","type":"description","format":"html"},{"title":"Input","content":"   The first line contains an integer T,denoting the number of the test cases.<br>   For each test case, the first line contains 4 integers m,n,p and q, denoting the number of planes,spheres,points and queries.<br>   Then m lines follows,each containing four integers a,b,c and d,denoting the linear equation(ax+by+cz+d=0) of this plane.|a|+|b|+|c|&gt;0.<br>   Then n lines follows,each containing four integers x,y,z and r,denoting the center coordinate(x,y,z) and radius of this sphere.<br>   Then p lines follows, each containing three integers x,y,z,denoting point(x,y,z),the region it belongs to should be colored yellow.<br>   Next q lines are queries.Each contains three integers x,y,z-the coordinate of this point.You need to output which color it will be.<br><br>   T&lt;=30,0&lt;=m&lt;=100,0&lt;=n&lt;=10,0&lt;=p&lt;=200,1&lt;=q&lt;=2000,|all given numbers|&lt;=10^6&#xFFFD;&#xFFFD;any two planes or spheres aren&#xFFFD;&#xFFFD;t coincidence.No point lies on given planes or spheres.<br>   There is a blank line before each case.<br>","type":"input_format","format":"html"},{"title":"Output","content":"   For each case&#xFFFD;&#xFFFD;if there is no such a coloring way to color the whole space and meet all the requests,print&#xFFFD;&#xFFFD;Impossible&#xFFFD;&#xFFFD;.<br>   Otherwise&#xFFFD;&#xFFFD;for each query&#xFFFD;&#xFFFD;print a line.If the color of this point can be certainly inferred,print it(&#xFFFD;&#xFFFD;Y&#xFFFD;&#xFFFD; for yellow or &#xFFFD;&#xFFFD;R&#xFFFD;&#xFFFD; for red)&#xFFFD;&#xFFFD;if not(both are possible),print&#xFFFD;&#xFFFD;Both&#xFFFD;&#xFFFD;.<br>   Print a blank line between adjacent cases.<br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">3\n\n1 1 1 2\n0 0 1 0\n0 0 0 2\n0 0 1\n0 0 -1\n0 0 4\n\n1 1 2 1\n0 0 1 0\n0 0 0 2\n0 0 1\n0 0 -1\n0 0 4\n\n1 1 0 2\n0 0 1 0\n0 0 0 2\n0 0 4\n0 0 -1</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">R\nR\n\nImpossible\n\nBoth\nBoth</div></pre>","type":"example","format":"html"},{"title":"Author","content":"FZUACM","type":"source","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2015+Multi-University+Training+Contest+1&amp;source=1&amp;searchmode=source\"> 2015 Multi-University Training Contest 1 </a> ","type":"source","format":"html"}]}