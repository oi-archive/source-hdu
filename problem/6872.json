{"title":"Skyscrapers","time_limit":2000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=6872","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=6872&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=6872","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6872"},"statement":[{"title":"Problem Description","content":"You are asking to write a solver for the skycrapers puzzle. The following is the rule for this puzzle:<br><br>Place a number from 1 to $n$ (integers only) into each cell so that each number appears exactly once in each row and column. ($n$ is the number of cells in each row.) Each number represents a skyscraper of its respective height. The numbers outside the grid indicate how many skyscrapers can be seen in the respective row or column from the respective direction; smaller skyscrapers are hidden behind higher ones. In other words, a skyscraper is visible if numbers of all skyscrapers in front of it are slower.<br><br> <center><img style=\"max-width:100%;\" src=\"../../../data/images/C887-1006-1.jpg\"></center><br> <center><img style=\"max-width:100%;\" src=\"../../../data/images/C887-1006-2.jpg\"></center><br>","type":"description","format":"html"},{"title":"Input","content":"The first line contains an integer $T (1\\leq T\\leq 100)$ - the number of test cases.<br><br>For each test cases, the first line contain an interger $n (4\\leq n\\leq 8)$. There are $n$ integers in each of the following $4$ lines, indicating the clues on the top, bottom, left and right side (from left to right or top to bottom).<br><br>It&apos; guarantees that every puzzle has a unique solution.<br><br>All puzzles in the inputs are from [puzsq](https://puzsq.jp/main/index.php?puzzle=59) and [puzzlinkdb](https://puzz.link/db/?type=skyscrapers)<br>. So if you get TLE, you can try to solve these puzzles locally by your program, or even by hand. However, there is no precomputed thing in the model solution.","type":"input_format","format":"html"},{"title":"Output","content":"For each test, output $n$ lines with $n$ numbers in each line.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n5\n0 0 0 5 0\n0 4 2 0 0\n0 0 4 3 0\n3 3 0 0 0\n6\n0 4 0 0 3 0\n0 0 4 0 0 0\n0 3 0 4 0 5\n0 4 0 3 0 0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">4 5 3 1 2\n5 4 1 2 3\n1 2 4 3 5\n2 3 5 4 1\n3 1 2 5 4\n6 1 4 2 3 5\n1 2 6 5 4 3\n4 5 3 1 6 2\n3 4 5 6 2 1\n5 6 2 3 1 4\n2 3 1 4 5 6</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2020+Multi-University+Training+Contest+9&amp;source=1&amp;searchmode=source\"> 2020 Multi-University Training Contest 9 </a> ","type":"source","format":"html"}]}