{"title":"Excited Database","time_limit":1000,"memory_limit":100,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5454","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5454&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5454","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5454"},"statement":[{"title":"Problem Description","content":"She says that any Pavarotti among the nightingales will serenade his mate while she sits on her eggs.<br>She says that any excited database can answer the queries efficiently.<br><br>You are given the two dimensional database as a matrix $A$ with $n$ rows and $n$ columns. In the beginning, $A[i][j]=0$ for all $1\\le i,j\\le n$.<br>Then $q$ operations or queries will be given in turn.<br><br>You should maintain the database for two type of operations:<br>$\\cdot$ $1~L~R$: for each element $A[i][j]$ which satisfy $L\\le i+j\\le R$, increase the value to $A[i][j]+1$, where $2\\le L\\le R\\le 2n$.<br>$\\cdot$ $2~L~R$: for each element $A[i][j]$ which satisfy $L\\le i-j\\le R$, increase the value to $A[i][j]+1$, where $1-n\\le L\\le R\\le n-1$.<br>Meanwhile, you should answer the queries:<br>$\\cdot$ $3~x_1~x_2~y_1~y_2$: count the value of elements $A[i][j]$ which satisfy $x_1\\le i\\le x_2$ and $y_1\\le j\\le y_2$, where $1\\le x_1&lt;x_2\\le n$ and $1\\le y_1&lt;y_2\\le n$.<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"The input contains several test cases. The first line of the input is a single integer $t$ which is the number of test cases. Then $t$ test cases follow.<br><br>Each test case contains several lines. The first line contains the integer $n$ and $q$.<br>The $i$-th line of the next $q$ lines contains an operation $``1~L~R&quot;$ or $``2~L~R&quot;$, or a query $``3~x_1~x_2~y_1~y_2&quot;$.<br><br>The sum of $n$ for all test cases would not be larger than $200000$ and the sum of $q$ would not be larger than $50000$.","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"For each test case, you should output answers to queries printed one per line.","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n\n6 6\n2 0 1\n3 1 4 3 5\n3 2 5 2 3\n1 5 7\n3 1 4 3 5\n3 2 5 2 3\n\n6 26\n2 -4 -1\n3 1 4 2 5\n3 3 6 4 6\n1 4 7\n3 2 5 2 3\n3 1 4 2 5\n2 -3 -1\n3 1 4 3 5\n1 3 5\n1 2 3\n3 2 5 2 3\n3 1 4 2 5\n3 3 6 4 6\n2 0 4\n3 1 4 3 5\n3 1 4 2 5\n1 9 11\n2 1 2\n3 2 5 2 3\n3 3 6 4 6\n2 -2 2\n1 7 12\n3 1 4 3 5\n3 2 5 2 3\n3 1 4 2 5\n3 3 6 4 6</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case #1:\n3\n4\n11\n10\nCase #2:\n10\n6\n8\n22\n26\n12\n38\n13\n32\n44\n23\n30\n49\n33\n67\n53</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2015+ACM%2FICPC+Asia+Regional+Shenyang+Online&amp;source=1&amp;searchmode=source\"> 2015 ACM/ICPC Asia Regional Shenyang Online </a> ","type":"source","format":"html","require":["katex"]}]}