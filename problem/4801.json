{"title":"Pocket Cube","time_limit":10000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4801","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4801&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4801","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4801"},"statement":[{"title":"Problem Description","content":"Pocket Cube is a 3-D combination puzzle. It is a 2 &#xD7; 2 &#xD7; 2 cube, which means it is constructed by 8 mini-cubes. For a combination of 2 &#xD7; 2 mini-cubes which sharing a whole cube face, you can twist it 90 degrees in clockwise or counterclockwise direction, this twist operation is called one twist step.<br>Considering all faces of mini-cubes, there will be totally 24 faces painted in 6 different colors (Indexed from 0), and there will be exactly 4 faces painted in each kind of color. If 4 mini-cubes&apos; faces of same color rely on same large cube face, we can call the large cube face as a completed face.<br><br><center><img style=\"max-width:100%;\" src=\"../../../data/images/4801-1.jpg\"></center><br><br>Now giving you an color arrangement of all 24 faces from a scrambled Pocket Cube, please tell us the maximum possible number of completed faces in no more than N twist steps.<br>Index of each face is shown as below:<br><br><center><img style=\"max-width:100%;\" src=\"../../../data/images/4801-2.jpg\"></center><br>","type":"description","format":"html"},{"title":"Input","content":"There will be several test cases. In each test case, there will be 2 lines. One integer N (1 &#x2264; N &#x2264; 7) in the first line, then 24 integers Ci separated by a single space in the second line. For index 0 &#x2264; i &lt; 24, Ci is color of the corresponding face. We guarantee that the color arrangement is a valid state which can be achieved by doing a finite number of twist steps from an initial cube whose all 6 large cube faces are completed faces.","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, please output the maximum number of completed faces during no more than N twist step(s).","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n0 0 0 0 1 1 2 2 3 3 1 1 2 2 3 3 4 4 4 4 5 5 5 5\n1\n0 4 0 4 1 1 2 5 3 3 1 1 2 5 3 3 4 0 4 0 5 2 5 2</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">6\n2</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2013+Asia+Changsha+Regional+Contest+&amp;source=1&amp;searchmode=source\"> 2013 Asia Changsha Regional Contest  </a> ","type":"source","format":"html"}]}