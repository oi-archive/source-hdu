{"title":"Another Easy Problem","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=2418","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=2418&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=2418","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=2418"},"statement":[{"title":"Problem Description","content":"Nowadays, many universities no longer force students to follow a fixed curriculum; instead they allow students to choose the courses on an individual basis. However, new programs need to be written to satisfy such needs. Your job is to write such a program.<br>In our system, the following objects exist: Time Period, Course and Student. The relationships between the three objects are as follows:<br>A course has a capacity, and is associated with multiple time periods; a student can register for multiple courses in the system (resulting in a possibly conflicting schedule).<br>To resolve possible conflicts with the schedules as well as to ensure that the number of students registered for each course does not exceed its capacity, the system will use the logic described below to determine the result: <br>Process courses, in the order they appear in the input.<br>For each course: Check each student&apos;s request in the order it is received, and reject the request if a) accepting the request will result in a conflict in the student&apos;s schedule, or b) if no more students could be accepted by this class, or c) the student has already enrolled in this class; otherwise, the request is accepted.<br><br>Can you solve this easy problem?<br>","type":"description","format":"html"},{"title":"Input","content":"There are multiple test cases in the input file. <br>Each test case starts with three integers, N, M and R (1 &lt;= N &lt;= 20, 1 &lt;= M &lt;= 20, 0 &lt;= R &lt;= N * M), the number of students, the number of courses, and the number of requests, respectively.<br>Each of the following N lines contains one string, the ID of the student. The ID will contain no characters other than &apos;0&apos;...&apos;9&apos; The next part of each test case consists of M lines, each of which contains three integers, I, C, T, (C &lt;= 100, T &lt;= 30), the ID of the course, the capacity, and the number of time periods used by the course respectively; T more integers follows, representing the unique identifiers of the time periods. The description for the requests comes next, each line in the format of [Student ID](Space character)[Course ID], in the order as the requests are received. It is guaranteed that the requests are always valid, i.e., both the student ID and the course ID could be found in the description given above.<br>Two consecutive test cases are separated by a blank line. Input ends with End-of-File.<br>","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, print the total number of requests accepted by the system, in the format as indicated in the sample output. <br>","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2 2 4\n0\n1\n101 1 2 3 4\n102 2 1 5\n0 101\n1 102\n1 101\n0 102\n\n1 1 0\n4\n5 1 1 5</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Case 1: 3\nCase 2: 0</div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2008+Asia+Hangzhou+Regional+Contest+Online&amp;source=1&amp;searchmode=source\"> 2008 Asia Hangzhou Regional Contest Online </a> ","type":"source","format":"html"}]}