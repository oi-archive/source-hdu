{"title":"Rotations and Reflections","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=1461","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=1461&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=1461","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=1461"},"statement":[{"title":"Problem Description","content":"Many games, tricks and puzzles depend on determining whether two patterns on a rectangular grid are the ``same&apos;&apos; or not. For instance, the 96 different ways of arranging 8 queens safely on a chessboard can be shown to consist of rotations and/or reflections of only 12 basic patterns.<br><br>Write a program that will read in pairs of patterns and determine whether there is a simple transformation that will convert one into the other. Because symmetrical patterns bear many relationships to each other, the transformations must be checked in a specific order. The possible transformations (in order) are:<br><br>Preservation:&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; The patterns are identical  <br><br>90 degree rotation  :&#xA0;&#xA0;&#xA0;&#xA0;The pattern was rotated clockwise by 90 degrees  <br><br>180 degree rotation:&#xA0;&#xA0;&#xA0;&#xA0;The pattern was rotated clockwise by 180 degrees  <br><br>270 degree rotation:&#xA0;&#xA0;&#xA0;&#xA0;The pattern was rotated clockwise by 270 degrees  <br><br>Reflection:&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;The pattern was reflected about the horizontal axis (effectively by a mirror held at the top of the pattern) <br><br>Combination:&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;A reflection (as above), followed by one of the above rotations <br><br>Improper:&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;The patterns do not match under any of the above transformations <br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"Input will consist of a series of pairs of patterns. Each set will consist of a line containing a single integer N (2 &lt;= N &lt;= 10) giving the size of the patterns, followed by N lines. Each line will consist of N dots or `x&apos;s (specifying a line of the original pattern), a space, and another set of N dots and `x&apos;s (specifying a line of the transformed pattern). The file will be terminated by a line consisting of a single zero (0).<br><br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"Output will consist of a series of lines, one for each pattern pair in the input. Each line will consist of one of the following: `Preserved&apos;, `Rotated through m degrees&apos; (where m is one of 90, 180 or 270), `Reflected&apos;, `Reflected and rotated through m degrees&apos;, `Improper&apos;.<br><br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\nx...x ....x\n.x... ...x.\n...x. .x...\n..x.x ..x..\n....x xx..x\n2\nx. xx\nx. xx\n4\n..x. ...x\nxx.. ....\n.... xx..\n...x ..x.\n4\n.x.. ..x.\n.x.x x...\n.... ..xx\n..x. ....\n0</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">Rotated through 90 degrees\nImproper\nReflected\nReflected and rotated through 270 degrees</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=ACM%CA%EE%C6%DA%BC%AF%D1%B5%B6%D3%C1%B7%CF%B0%C8%FC%A3%A8%B0%CB%A3%A9&amp;source=1&amp;searchmode=source\"> ACM&#x6691;&#x671F;&#x96C6;&#x8BAD;&#x961F;&#x7EC3;&#x4E60;&#x8D5B;&#xFF08;&#x516B;&#xFF09; </a> ","type":"source","format":"html","require":["katex"]}]}