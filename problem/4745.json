{"title":"Two Rabbits","time_limit":5000,"memory_limit":63.9990234375,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=4745","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=4745&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=4745","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=4745"},"statement":[{"title":"Problem Description","content":"Long long ago, there lived two rabbits Tom and Jerry in the forest. On a sunny afternoon, they planned to play a game with some stones. There were n stones on the ground and they were arranged as a clockwise ring. That is to say, the first stone was adjacent to the second stone and the n-th stone, and the second stone is adjacent to the first stone and the third stone, and so on. The weight of the i-th stone is ai.<br><br>The rabbits jumped from one stone to another. Tom always jumped clockwise, and Jerry always jumped anticlockwise.<br><br>At the beginning, the rabbits both choose a stone and stand on it. Then at each turn, Tom should choose a stone which have not been stepped by itself and then jumped to it, and Jerry should do the same thing as Tom, but the jumping direction is anti-clockwise.<br><br>For some unknown reason, at any time , the weight of the two stones on which the two rabbits stood should be equal. Besides, any rabbit couldn&apos;t jump over a stone which have been stepped by itself. In other words, if the Tom had stood on the second stone, it cannot jump from the first stone to the third stone or from the n-the stone to the 4-th stone.<br><br>Please note that during the whole process, it was OK for the two rabbits to stand on a same stone at the same time. <br><br>Now they want to find out the maximum turns they can play if they follow the optimal strategy.","type":"description","format":"html"},{"title":"Input","content":"The input contains at most 20 test cases.<br>For each test cases, the first line contains a integer n denoting the number of stones.<br>The next line contains n integers separated by space, and the i-th integer ai denotes the weight of the i-th stone.(1 &lt;= n &lt;= 1000, 1 &lt;= ai &lt;= 1000)<br>The input ends with n = 0.","type":"input_format","format":"html"},{"title":"Output","content":"For each test case, print a integer denoting the maximum turns.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n1\n4\n1 1 2 1\n6\n2 1 1 2 1 3\n0</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n4\n5\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>\nFor the second case, the path of the Tom is 1, 2, 3, 4, and the path of Jerry is 1, 4, 3, 2.\nFor the third case, the path of Tom is 1,2,3,4,5 and the path of Jerry is 4,3,2,1,5.\n</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=2013+ACM%2FICPC+Asia+Regional+Hangzhou+Online&amp;source=1&amp;searchmode=source\"> 2013 ACM/ICPC Asia Regional Hangzhou Online </a> ","type":"source","format":"html"}]}