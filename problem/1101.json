{"title":"The Parallel Challenge Ballgame","time_limit":1000,"memory_limit":32,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=1101","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=1101&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=1101","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=1101"},"statement":[{"title":"Problem Description","content":"Before the ACM/ICPC world final 2005, there is a competition called &#x201C;The Parallel Challenge Ballgame&#x201D;. The Parallel Challenge ballgame gives each team a chance to pit their programming skills against those of other teams in a fast-moving parallel-programming game of skill, treachery, and hazard avoidance. Each team will write a single C++ class named MyPlayer which defines the characteristics of a &#x201C;player&#x201D;. The MyPlayer class will be instantiated five times in the environment, making up a five-player team, which will then compete in a series of Parallel Challenge ballgames running on an IBM Power Architecture Blue Gene supercomputer &#x2013; the world&#x2019;s fastest computer.<br><br>A Parallel Challenge ballgame is played on a rectangular filed. The filed is surrounded by a wall; balls will bounce off the walls if they run into it. The rule of bouncing is the same as light (In figure 1&#xFF0C;angle 1 equals angle 2). Near the edges of the fields are a number of goals where points can be scored. Goals are rectangular areas lying near the edges of the field but within the field boundaries. When the game starts there are a number of balls placed at random locations on the field. A player can move to a ball, pick it up, and throw (of course, it is not football, why not use hand?) it. At the start of each game there are also a number of &#x201C;nets&#x201D; distributed at various locations on the edges of the field. A player can move to and pick up one of these nets, and can then use them to &#x201C;trap&#x201D; players on other teams by throwing the net on top of them. Once a player is trapped beneath a net, that player cannot do anything more in the game until a teammate comes and lifts the net from the trapped player. A player may &#x201C;tackle&#x201D; another player, normally in an attempt to dislodge a ball being carried by the other player (although it is also legal to tackle a player who is not carrying a ball).<br><img style=\"max-width:100%;\" src=\"/data/images/1101-1.jpg\"><br>The objective of each team is to write their MyPlayer class so that their players (the five instances of the class) operate in a coordinated fashion, taking advantage of the various ways to score points while at the same time avoiding both hazards on the game filed and impediments thrown at them by players from other teams. The winner of a game is the team whose players score the largest total number of points.<br>&#xA0;&#xA0;There are many ways to score points:<br>&#xA0;&#xA0;(1)&#xA0;&#xA0;Successful Tackle (tackle not caught by Referees)<br>&#xA0;&#xA0;(2)&#xA0;&#xA0;Opponent&#x2019;s Failed Tackle<br>&#xA0;&#xA0;(3)&#xA0;&#xA0;Throwing a net on one or more opponents<br>&#xA0;&#xA0;(4)&#xA0;&#xA0;Lifting a net off a teammate<br>And of course, the normal approach: (5) Carry or throw the balls into goals. This is also the easiest way to score points. In order to get more chance to make a ball into the goal, it is better to throw a ball to a goal once you get it. The ball may be blocked by other player, but the probability is low, because a thrown ball moves at the maximum speed allowed in the game, and the player can not catch up with it. So the only way it is blocked is that some player is just on the direction, which the ball moves. And because the ball will bounce off the wall when it hits the wall, it is not necessary to throw a ball straight to a goal (see figure 2). But the more times the ball bounces off the wall, the higher probability that other player will head off it. So we only consider the ball bounces off the wall no more than once.<br><img style=\"max-width:100%;\" src=\"/data/images/1101-2.jpg\"><br>Here is our problem. Given the range of the field, the position of the ball and the goals, the size of the goals, your task is to calculate how many percents of the direction that the team can score points through method (5).<br>","type":"description","format":"html","require":["katex"]},{"title":"Input","content":"In the first line of input, there is an integer t, which is the number of test cases and followed by the data for the test cases. The first line of each test case contains four integers: x1, y1, x2, y2, and (x1, y1) and (x2, y2) (-1000 &lt;= x1, y1, x2, y2 &lt;= 1000) are the coordinates of the diagonally points of the field. In the next line, there are two integers x and y, and (x, y) is the coordinate of the ball. The third line of each test case contains an integer n (0 &lt;= n &lt;= 100), which is the number of the goals. In next n lines, each line contains four integers: xi1, yi1, xi2, yi2, and (xi1, yi1) and (xi2, yi2) are the coordinates of the diagonally points of the i-th goal. You may assume the goals and the ball are inside the field. And if a ball move into or on the boundaries of a goal, the team scores points.<br>","type":"input_format","format":"html","require":["katex"]},{"title":"Output","content":"The output contains one line per test case containing a number, which is described above and followed a &#x201C;%&#x201D;. The number should be rounded up to two decimal digits. See the Sample Output to know the exact format. <br>","type":"output_format","format":"html","require":["katex"]},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">1\n100 100 -100 -100 \n0 0\n1\n10 10 -10 20</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">28.34%</div></pre>","type":"example","format":"html","require":["katex"]},{"title":"Author","content":"daofeng@poj","type":"source","format":"html","require":["katex"]}]}