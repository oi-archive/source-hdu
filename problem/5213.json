{"title":"Lucky","time_limit":3000,"memory_limit":64,"operation":{"submit":"http://acm.hdu.edu.cn/submit.php?pid=5213","submissions":"http://acm.hdu.edu.cn/status.php?first=&pid=5213&user=&lang=0&status=0","statistics":"http://acm.hdu.edu.cn/statistic.php?pid=5213","discussion":"http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=5213"},"statement":[{"title":"Problem Description","content":"WLD is always very lucky.His secret is a lucky number $K$.$k$ is a fixed odd number. Now he meets a stranger with $N$ numbers:$a1,a2,...,aN$.The stranger asks him $M$ questions.Each question is like this:Given two ranges $[Li,Ri]$ and $[Ui,Vi]$,you can choose two numbers $X$ and $Y$ to make $aX+aY=K$.The $X$ you can choose is between $Li$ and $Ri$ and the $Y$ you can choose is between $Ui$ and $Vi$.How many pairs of numbers$(X,Y)$ you can choose?<br>If WLD can answer all the questions correctly,he&apos;ll be the luckiest man in the world.Can you help him?","type":"description","format":"html"},{"title":"Input","content":"There are multiple cases.(At MOST $5$)<br><br>For each case:<br><br>The first line contains an integer $N(1 \\leq N \\leq 30000)$.<br><br>The following line contains an integer $K(2 \\leq K \\leq 2*N)$,WLD&apos;s lucky number.K is odd.<br><br>The following line contains $N$ integers $a1,a2,...,aN(1 \\leq ai \\leq N)$.<br><br>The following line contains an integer $M(1 \\leq M \\leq 30000)$,the sum of the questions WLD has to answer.<br><br>The following $M$ lines,the i-th line contains $4$ numbers $Li,Ri,Ui,Vi(1 \\leq Li \\leq Ri &lt; Ui \\leq Vi \\leq N)$,describing the i-th question the stranger asks.","type":"input_format","format":"html"},{"title":"Output","content":"For each case:<br><br>Print the total of pairs WLD can choose for each question.","type":"output_format","format":"html"},{"title":"Sample Input","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">5\n3 \n1 2 1 2 3\n1 \n1 2 3 5</div></pre>","type":"example","format":"html"},{"title":"Sample Output","content":"<pre><div style=\"font-family:Courier New,Courier,monospace;\">2\n\n<div style=\"font-family:Times New Roman;font-size:14px;background-color:F4FBFF;border:#B7CBFF 1px dashed;padding:6px\"><div style=\"font-family:Arial;font-weight:bold;color:#7CA9ED;border-bottom:#B7CBFF 1px dashed\"><i>Hint</i></div>a1+a4=a2+a3=3=K.\nSo we have two pairs of numbers (1,4) and (2,3).\nGood luck!</div><i style=\"font-size:1px\"> </i></div></pre>","type":"example","format":"html"},{"title":"Source","content":" <a href=\"/search.php?field=problem&amp;key=BestCoder+Round+%2339+%28%24%29&amp;source=1&amp;searchmode=source\"> BestCoder Round #39 ($) </a> ","type":"source","format":"html"}]}